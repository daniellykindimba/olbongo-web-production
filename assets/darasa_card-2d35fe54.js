import{m as j,r as g,j as e,k as x,e as k,a as c,aQ as t,aj as C,av as m,aw as l,_ as r,b7 as f,e7 as u,f as d,aE as b,e8 as v,ax as y,ak as I,ah as A}from"./index-8383052a.js";import{r as o}from"./remove_html_tags-be9c976e.js";const{Meta:O}=x,S=a=>{var s;const{push:i}=j(),n=g.useMemo(()=>a==null?void 0:a.darasa,[a==null?void 0:a.darasa]);return e.jsx(x,{style:{marginBottom:"10px",marginRight:"10px"},cover:e.jsx("img",{alt:"example",src:n==null?void 0:n.cover,style:{height:(a==null?void 0:a.size)==="small"?"130px":"200px",objectFit:"cover"}}),actions:[(a==null?void 0:a.size)==="small"?e.jsx(k,{title:"Open "+n.name,color:"red",children:e.jsx(c,{style:{float:"right"},icon:e.jsx(t,{}),onClick:()=>i(`/oclass/class/session/${n.id}/${n.code}`),danger:!0})}):e.jsx(C,{style:{float:"right"},children:e.jsx(m,{trigger:["click"],overlay:e.jsxs(l,{children:[n.isConnected?e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{icon:e.jsx(t,{}),disabled:!n.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>{n.isActive&&n.isConnected?i("/oclass/class/session/"+n.id+"/"+n.code):n.isActive&&!n.isConnected?a==null||a.showModalDarasaConnect(n):r("Class is Blocked")},children:"Open"})}),e.jsx(l.Item,{icon:e.jsx(f,{}),onClick:()=>a==null?void 0:a.showEditModal(n),disabled:!(n!=null&&n.canManage),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx(l.Item,{icon:e.jsx(u,{}),onClick:()=>a==null?void 0:a.handleShareModal(n),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Share"})}),e.jsx(l.Item,{icon:e.jsx(d,{}),onClick:()=>r("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),n.isAuthor?e.jsx(e.Fragment,{}):e.jsx(l.Item,{icon:e.jsx(d,{}),onClick:()=>a==null?void 0:a.handleDarasaDisconnect(n.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Disconnect"})}),e.jsx(l.Item,{icon:e.jsx(b,{}),onClick:()=>a==null?void 0:a.handleDarasaDelete(n.id),disabled:!(n!=null&&n.canDelete),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx(l.Item,{icon:e.jsx(v,{}),onClick:()=>a==null?void 0:a.handleAddingToArchive(n.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Archive"})},"drive-archive-"+n.id)]}):e.jsx(e.Fragment,{}),n.isConnected?e.jsx(e.Fragment,{}):e.jsx(l.Item,{icon:e.jsx(t,{}),disabled:!n.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>i("/oclass/class/session/"+n.id+"/"+n.code),children:"Connect"})})]}),overlayStyle:{zIndex:9999},children:e.jsx(c,{type:"link",size:"large",className:"ant-dropdown-link",style:{zIndex:1},onClick:h=>h.preventDefault(),children:e.jsx(y,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})],children:e.jsx(O,{avatar:e.jsx(I,{src:(s=n==null?void 0:n.user)==null?void 0:s.pic}),title:e.jsxs("a",{onClick:()=>i(`/oclass/class/session/${n.id}/${n.code}`),children:[o(n.name).substring(0,50)+(n.name.length>50?"...":""),e.jsx(A,{color:"green",style:{marginLeft:"10px"},children:n.code})]}),description:o(n.description).substring(0,100)+(n.description.length>100?"...":"")})})};export{S as C};
