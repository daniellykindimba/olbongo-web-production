import{b$ as j,r as g,aY as e,aV as m,a6 as C,ao as r,c_ as t,aT as k,aM as u,aP as l,b_ as c,c8 as b,iO as f,cx as d,c9 as v,iP as y,cR as A}from"./index-3b25761c.js";import{r as o}from"./remove_html_tags-be9c976e.js";import{C as x}from"./index-0bcbf38d.js";import{A as I}from"./index-bba2b9d5.js";const{Meta:O}=x,E=i=>{var s;const{push:a}=j(),n=g.useMemo(()=>i==null?void 0:i.darasa,[i==null?void 0:i.darasa]);return e.jsx(x,{style:{marginBottom:"10px",marginRight:"10px",minHeight:i.min?"0px":"295px"},cover:e.jsx("img",{alt:"example",src:n==null?void 0:n.cover,style:{height:(i==null?void 0:i.size)==="small"?"130px":"200px",objectFit:"cover"}}),children:e.jsx(O,{avatar:e.jsx(I,{src:(s=n==null?void 0:n.user)==null?void 0:s.pic}),title:e.jsxs(e.Fragment,{children:[e.jsxs("a",{onClick:()=>a(`/oclass/class/session/${n.id}/${n.code}`),children:[o(n.name).substring(0,50)+(n.name.length>50?"...":""),e.jsx(m,{color:"green",style:{marginLeft:"10px"},children:n.code})]}),(i==null?void 0:i.size)==="small"?e.jsx(C,{title:"Open "+n.name,color:"red",children:e.jsx(r,{style:{float:"right",position:"absolute",right:0},icon:e.jsx(t,{}),onClick:()=>a(`/oclass/class/session/${n.id}/${n.code}`),danger:!0})}):e.jsx(k,{style:{float:"right",position:"absolute",right:0},children:e.jsx(u,{trigger:["click"],overlay:e.jsxs(l,{children:[n.isConnected?e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{icon:e.jsx(t,{}),disabled:!n.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>{n.isActive&&n.isConnected?a("/oclass/class/session/"+n.id+"/"+n.code):n.isActive&&!n.isConnected?i==null||i.showModalDarasaConnect(n):c("Class is Blocked")},children:"Open"})}),e.jsx(l.Item,{icon:e.jsx(b,{}),onClick:()=>i==null?void 0:i.showEditModal(n),disabled:!(n!=null&&n.canManage),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx(l.Item,{icon:e.jsx(f,{}),onClick:()=>i==null?void 0:i.handleShareModal(n),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Share"})}),e.jsx(l.Item,{icon:e.jsx(d,{}),onClick:()=>c("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),n.isAuthor?e.jsx(e.Fragment,{}):e.jsx(l.Item,{icon:e.jsx(d,{}),onClick:()=>i==null?void 0:i.handleDarasaDisconnect(n.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Disconnect"})}),e.jsx(l.Item,{icon:e.jsx(v,{}),onClick:()=>i==null?void 0:i.handleDarasaDelete(n.id),disabled:!(n!=null&&n.canDelete),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx(l.Item,{icon:e.jsx(y,{}),onClick:()=>i==null?void 0:i.handleAddingToArchive(n.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Archive"})},"drive-archive-"+n.id)]}):e.jsx(e.Fragment,{}),n.isConnected?e.jsx(e.Fragment,{}):e.jsx(l.Item,{icon:e.jsx(t,{}),disabled:!n.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>a("/oclass/class/session/"+n.id+"/"+n.code),children:"Connect"})})]}),overlayStyle:{zIndex:9999},children:e.jsx(r,{type:"link",size:"large",className:"ant-dropdown-link",style:{zIndex:1},onClick:h=>h.preventDefault(),children:e.jsx(A,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})]}),description:o(n.description).substring(0,100)+(n.description.length>100?"...":"")})})};export{E as C};
