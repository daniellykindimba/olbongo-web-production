var zt=Object.defineProperty;var Yt=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ge=(e,t,r)=>(Yt(e,typeof t!="symbol"?t+"":t,r),r);import{r as N,j as u,a8 as Kt,aT as ae,a1 as Be,av as Ee,g as Ce,_ as ne,u as Xt,hp as Gt,hM as Zt,gl as De,g1 as Qt,c as Jt,aW as Ze,aP as Le,aR as Qe,aU as ie,eT as er,cm as Je,aX as tr,cl as et}from"./index-5ca9535b.js";import{l as ze}from"./data_objects-2e46d347.js";import{d as rr,C as nr}from"./ckeditor-04dbc548.js";import{U as ar}from"./index-3ccba980.js";import{I as or}from"./InboxOutlined-05d9e86e.js";import{l as ir}from"./index-14fe574d.js";import{D as lr}from"./index-7036fc77.js";import{l as ur}from"./index-63f65857.js";import{S as sr}from"./Skeleton-716fddca.js";import{C as cr}from"./index-09932534.js";import{A as fr}from"./Alert-e5a7e344.js";import{M as pr}from"./index-cba636c8.js";import{S as dr}from"./SearchOutlined-a752e3d9.js";import{U as yr}from"./UploadOutlined-058dcbf4.js";import{L as hr}from"./LinkOutlined-b4a1e0c5.js";import{F as mr}from"./FolderAddOutlined-4a97fa79.js";import{F as gr}from"./FolderOpenOutlined-8df3d760.js";import{I as vr}from"./InfoCircleOutlined-0090fdc4.js";import{C as br}from"./CloseOutlined-39b63463.js";import{M as _r}from"./MoreOutlined-086a1476.js";import{E as Pr}from"./ExclamationCircleOutlined-572d6e07.js";import"./data_objects-b919bf8a.js";import"./Upload-7eb0a44c.js";import"./fade-77903fe8.js";import"./DeleteOutlined-25685737.js";import"./DownloadOutlined-6cd35f11.js";import"./defineProperty-3036565d.js";import"./useNotification-5740bb13.js";import"./DialogWrap-6d0a9ba5.js";import"./index-ffebc748.js";import"./localeData-7b04d3a8.js";import"./SinglePicker-eef0a057.js";import"./index-029c33fb.js";import"./useMutateObserver-7515ffcf.js";import"./index-ec855adb.js";import"./InputNumber-194da4bb.js";import"./Image-decbf9f6.js";import"./Rate-cc4a8b90.js";import"./index-35eebea8.js";import"./index-3a1cff3c.js";import"./DotChartOutlined-f39c986e.js";import"./InfoCircleFilled-dfe59508.js";import"./InfoCircleFilled-baaa675e.js";import"./ActionButton-82a2aabb.js";import"./index-b0010e2a.js";const Or=e=>{const[t,r]=N.useState(!1),n=async c=>{var O;r(!0);const{data:f}=await Ce.custom({url:"",method:"post",meta:{operation:"createClassYoutubeVideo",variables:{classId:{value:parseInt((O=e.id)==null?void 0:O.toString()),type:"Int",required:!0},url:{value:c.url,type:"String",required:!0}},fields:["success","message",{video:ze}]}}).catch(()=>(ne.error("Error Adding a Video"),{data:null})).then(w=>w);f&&(f.success?(ne.success(f.message),e.handleAddingDrive(f.video)):ne.error(f.message)),r(!1)};return u.jsx(u.Fragment,{children:u.jsx(Kt,{spinning:t,children:u.jsxs(ae,{layout:"vertical",onFinish:c=>{n(c)},requiredMark:!1,children:[u.jsx(ae.Item,{name:"url",label:"Youtube Video URL",rules:[{required:!0,type:"url",message:"Please input Youtube URL ..."}],children:u.jsx(Be,{size:"large",placeholder:"Enter Youtube URL ..."})}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Ee,{type:"primary",size:"large",htmlType:"submit",loading:t,children:"Save"})})]})})})},tt=[".mp4"],wr=e=>Array.isArray(e)?e:e==null?void 0:e.fileList,Sr=e=>{const[t,r]=N.useState(!1),[n]=ae.useForm(),[c,f]=N.useState(""),O=Xt(),w=async l=>{r(!0);const{data:_}=await Ce.custom({url:"",method:"post",meta:{operation:"uploadClassVideo",variables:{classId:{value:parseInt(O.id),type:"Int",required:!0},video:{value:l.video,type:"Upload",required:!0},title:{value:l.title,type:"String",required:!0},description:{value:l.description,type:"String",required:!1}},fields:["success","message",{video:ze}]}}).catch(()=>(ne.error("Error uploading a Video File"),{data:null})).then(T=>T);_&&(_.success?(f(""),ne.success(_.message),e.handleAddingVideo(_.video)):ne.error(_.message)),r(!1)};return u.jsx(u.Fragment,{children:u.jsxs(ae,{layout:"vertical",onFinish:l=>{l.description=c,w(l)},requiredMark:!1,form:n,children:[u.jsx(ae.Item,{label:"Pick a Video Files ("+tt.join()+")",children:u.jsx(ae.Item,{name:"video",valuePropName:"fileList",getValueFromEvent:wr,noStyle:!0,rules:[{required:!0,type:"array",message:"Please upload students excel file"}],children:u.jsxs(ar.Dragger,{name:"file",accept:tt.join(),multiple:!1,beforeUpload:()=>!1,onChange:l=>{n.setFieldsValue({title:l.file.name})},onRemove:l=>{n.setFieldsValue({title:""})},children:[u.jsx("p",{className:"ant-upload-drag-icon",children:u.jsx(or,{})}),u.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),u.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload."})]})})}),u.jsx(ae.Item,{name:"title",label:"Video Title",rules:[{required:!0,type:"string",message:"Please input title"}],children:u.jsx(Be,{size:"large",placeholder:"Enter Title ..."})}),u.jsx("h3",{children:"Description"}),u.jsx(rr.CKEditor,{editor:nr,data:c,onReady:l=>{l.editing.view.change(_=>{_.setStyle("min-height","100px",l.editing.view.document.getRoot())})},onChange:(l,_)=>{const T=_.getData();f(T)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Ee,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})};class Tr extends N.Component{constructor(r){super(r);Ge(this,"player");this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.load=this.load.bind(this),this.changeCurrentTime=this.changeCurrentTime.bind(this),this.seek=this.seek.bind(this),this.changePlaybackRateRate=this.changePlaybackRateRate.bind(this),this.changeVolume=this.changeVolume.bind(this),this.setMuted=this.setMuted.bind(this)}componentDidMount(){this.player.subscribeToStateChange(this.handleStateChange.bind(this)),this.props.updatePlayer(this.player,this.props.index)}setMuted(r){return()=>{this.player.muted=r}}handleStateChange(r){this.setState({player:r})}play(){ne("playing"),this.player.play()}pause(){this.player.pause()}load(){this.player.load()}changeCurrentTime(r){return()=>{const{player:n}=this.player.getState();this.player.seek(n.currentTime+r)}}seek(r){return()=>{this.player.seek(r)}}changePlaybackRateRate(r){return()=>{const{player:n}=this.player.getState();this.player.playbackRate=n.playbackRate+r}}changeVolume(r){return()=>{const{player:n}=this.player.getState();this.player.volume=n.volume+r}}render(){return u.jsx("div",{children:u.jsx(ir.Player,{ref:r=>{this.player=r},aspectRatio:"1110:680",preload:"auto",autoPlay:!1,children:u.jsx("source",{src:this.props.file})})})}}var Me={},Rr=function(t){return Ar(t)&&!Er(t)};function Ar(e){return!!e&&typeof e=="object"}function Er(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||xr(e)}var Cr=typeof Symbol=="function"&&Symbol.for,Ir=Cr?Symbol.for("react.element"):60103;function xr(e){return e.$$typeof===Ir}function Mr(e){return Array.isArray(e)?[]:{}}function Se(e,t){return t.clone!==!1&&t.isMergeableObject(e)?de(Mr(e),e,t):e}function jr(e,t,r){return e.concat(t).map(function(n){return Se(n,r)})}function Dr(e,t){if(!t.customMerge)return de;var r=t.customMerge(e);return typeof r=="function"?r:de}function Lr(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function rt(e){return Object.keys(e).concat(Lr(e))}function mt(e,t){try{return t in e}catch{return!1}}function Ur(e,t){return mt(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function kr(e,t,r){var n={};return r.isMergeableObject(e)&&rt(e).forEach(function(c){n[c]=Se(e[c],r)}),rt(t).forEach(function(c){Ur(e,c)||(mt(e,c)&&r.isMergeableObject(t[c])?n[c]=Dr(c,r)(e[c],t[c],r):n[c]=Se(t[c],r))}),n}function de(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||jr,r.isMergeableObject=r.isMergeableObject||Rr,r.cloneUnlessOtherwiseSpecified=Se;var n=Array.isArray(t),c=Array.isArray(e),f=n===c;return f?n?r.arrayMerge(e,t,r):kr(e,t,r):Se(t,r)}de.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,c){return de(n,c,r)},{})};var Vr=de,gt=Vr,nt=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Nr(e,t){return!!(e===t||nt(e)&&nt(t))}function Hr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Nr(e[r],t[r]))return!1;return!0}function Fr(e,t){t===void 0&&(t=Hr);var r,n=[],c,f=!1;function O(){for(var w=[],l=0;l<arguments.length;l++)w[l]=arguments[l];return f&&r===this&&t(w,n)||(c=e.apply(this,w),f=!0,r=this,n=w),c}return O}const $r=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"})),Wr=Gt($r);var qr=typeof Element<"u",Br=typeof Map=="function",zr=typeof Set=="function",Yr=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ae(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,c;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Ae(e[n],t[n]))return!1;return!0}var f;if(Br&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f=e.entries();!(n=f.next()).done;)if(!t.has(n.value[0]))return!1;for(f=e.entries();!(n=f.next()).done;)if(!Ae(n.value[1],t.get(n.value[0])))return!1;return!0}if(zr&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f=e.entries();!(n=f.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Yr&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[n]))return!1;if(qr&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((c[n]==="_owner"||c[n]==="__v"||c[n]==="__o")&&e.$$typeof)&&!Ae(e[c[n]],t[c[n]]))return!1;return!0}return e!==e&&t!==t}var vt=function(t,r){try{return Ae(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.defaultProps=ue.propTypes=void 0;var oe=Kr(Zt);function Kr(e){return e&&e.__esModule?e:{default:e}}var Y=oe.default.string,K=oe.default.bool,fe=oe.default.number,Ue=oe.default.array,_e=oe.default.oneOfType,te=oe.default.shape,X=oe.default.object,H=oe.default.func,at=oe.default.node,Xr={url:_e([Y,Ue,X]),playing:K,loop:K,controls:K,volume:fe,muted:K,playbackRate:fe,width:_e([Y,fe]),height:_e([Y,fe]),style:X,progressInterval:fe,playsinline:K,pip:K,stopOnUnmount:K,light:_e([K,Y,X]),playIcon:at,previewTabIndex:fe,fallback:at,oEmbedUrl:Y,wrapper:_e([Y,H,te({render:H.isRequired})]),config:te({soundcloud:te({options:X}),youtube:te({playerVars:X,embedOptions:X,onUnstarted:H}),facebook:te({appId:Y,version:Y,playerId:Y,attributes:X}),dailymotion:te({params:X}),vimeo:te({playerOptions:X,title:Y}),file:te({attributes:X,tracks:Ue,forceVideo:K,forceAudio:K,forceHLS:K,forceSafariHLS:K,forceDisableHls:K,forceDASH:K,forceFLV:K,hlsOptions:X,hlsVersion:Y,dashVersion:Y,flvVersion:Y}),wistia:te({options:X,playerId:Y,customControls:Ue}),mixcloud:te({options:X}),twitch:te({options:X,playerId:Y}),vidyard:te({options:X})}),onReady:H,onStart:H,onPlay:H,onPause:H,onBuffer:H,onBufferEnd:H,onEnded:H,onError:H,onDuration:H,onSeek:H,onPlaybackRateChange:H,onPlaybackQualityChange:H,onProgress:H,onClickPreview:H,onEnablePIP:H,onDisablePIP:H};ue.propTypes=Xr;var W=function(){},Gr={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:W},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:W,onStart:W,onPlay:W,onPause:W,onBuffer:W,onBufferEnd:W,onEnded:W,onError:W,onDuration:W,onSeek:W,onPlaybackRateChange:W,onPlaybackQualityChange:W,onProgress:W,onClickPreview:W,onEnablePIP:W,onDisablePIP:W};ue.defaultProps=Gr;var z={},Zr=function(t,r,n){var c=document.head||document.getElementsByTagName("head")[0],f=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},f.type=r.type||"text/javascript",f.charset=r.charset||"utf8",f.async="async"in r?!!r.async:!0,f.src=t,r.attrs&&Qr(f,r.attrs),r.text&&(f.text=""+r.text);var O="onload"in f?ot:Jr;O(f,n),f.onload||ot(f,n),c.appendChild(f)};function Qr(e,t){for(var r in t)e.setAttribute(r,t[r])}function ot(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Jr(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}Object.defineProperty(z,"__esModule",{value:!0});z.parseStartTime=pn;z.parseEndTime=dn;z.randomString=yn;z.queryString=hn;z.getSDK=mn;z.getConfig=gn;z.omit=vn;z.callPlayer=bn;z.isMediaStream=_n;z.isBlobUrl=Pn;z.supportsWebKitPresentationMode=On;var en=bt(Zr),tn=bt(gt);function bt(e){return e&&e.__esModule?e:{default:e}}function rn(e,t){return ln(e)||on(e,t)||an(e,t)||nn()}function nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(e,t){if(e){if(typeof e=="string")return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(e,t)}}function it(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function on(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,c=!1,f=void 0;try{for(var O=e[Symbol.iterator](),w;!(n=(w=O.next()).done)&&(r.push(w.value),!(t&&r.length===t));n=!0);}catch(l){c=!0,f=l}finally{try{!n&&O.return!=null&&O.return()}finally{if(c)throw f}}return r}}function ln(e){if(Array.isArray(e))return e}var un=/[?&#](?:start|t)=([0-9hms]+)/,sn=/[?&#]end=([0-9hms]+)/,Fe=/(\d+)(h|m|s)/g,cn=/^\d+$/;function _t(e,t){if(!(e instanceof Array)){var r=e.match(t);if(r){var n=r[1];if(n.match(Fe))return fn(n);if(cn.test(n))return parseInt(n)}}}function fn(e){for(var t=0,r=Fe.exec(e);r!==null;){var n=r,c=rn(n,3),f=c[1],O=c[2];O==="h"&&(t+=parseInt(f,10)*60*60),O==="m"&&(t+=parseInt(f,10)*60),O==="s"&&(t+=parseInt(f,10)),r=Fe.exec(e)}return t}function pn(e){return _t(e,un)}function dn(e){return _t(e,sn)}function yn(){return Math.random().toString(36).substr(2,5)}function hn(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&")}function ke(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var pe={};function mn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:en.default,f=ke(t);return f&&n(f)?Promise.resolve(f):new Promise(function(O,w){if(pe[e]){pe[e].push({resolve:O,reject:w});return}pe[e]=[{resolve:O,reject:w}];var l=function(U){pe[e].forEach(function(E){return E.resolve(U)})};if(r){var _=window[r];window[r]=function(){_&&_(),l(ke(t))}}c(e,function(T){T?(pe[e].forEach(function(U){return U.reject(T)}),pe[e]=null):r||l(ke(t))})})}function gn(e,t){return(0,tn.default)(t.config,e.config)}function vn(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),c=1;c<r;c++)n[c-1]=arguments[c];for(var f=(t=[]).concat.apply(t,n),O={},w=Object.keys(e),l=0,_=w;l<_.length;l++){var T=_[l];f.indexOf(T)===-1&&(O[T]=e[T])}return O}function bn(e){var t;if(!this.player||!this.player[e]){var r="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c – ");return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}for(var n=arguments.length,c=new Array(n>1?n-1:0),f=1;f<n;f++)c[f-1]=arguments[f];return(t=this.player)[e].apply(t,c)}function _n(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function Pn(e){return/^blob:/.test(e)}function On(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var Pt={};(function(e){function t(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(N),n=O(vt),c=ue,f=z;function O(i){return i&&i.__esModule?i:{default:i}}function w(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return w=function(){return i},i}function l(i){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var s=w();if(s&&s.has(i))return s.get(i);var d={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in i)if(Object.prototype.hasOwnProperty.call(i,v)){var A=a?Object.getOwnPropertyDescriptor(i,v):null;A&&(A.get||A.set)?Object.defineProperty(d,v,A):d[v]=i[v]}return d.default=i,s&&s.set(i,d),d}function _(){return _=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(i[a]=d[a])}return i},_.apply(this,arguments)}function T(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function U(i,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function E(i,s,d){return s&&U(i.prototype,s),d&&U(i,d),i}function C(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&j(i,s)}function j(i,s){return j=Object.setPrototypeOf||function(a,v){return a.__proto__=v,a},j(i,s)}function G(i){var s=re();return function(){var a=q(i),v;if(s){var A=q(this).constructor;v=Reflect.construct(a,arguments,A)}else v=a.apply(this,arguments);return Z(this,v)}}function Z(i,s){return s&&(t(s)==="object"||typeof s=="function")?s:R(i)}function R(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(i){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},q(i)}function x(i,s,d){return s in i?Object.defineProperty(i,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[s]=d,i}var m=5e3,g=function(i){C(d,i);var s=G(d);function d(){var a;T(this,d);for(var v=arguments.length,A=new Array(v),I=0;I<v;I++)A[I]=arguments[I];return a=s.call.apply(s,[this].concat(A)),x(R(a),"mounted",!1),x(R(a),"isReady",!1),x(R(a),"isPlaying",!1),x(R(a),"isLoading",!0),x(R(a),"loadOnReady",null),x(R(a),"startOnPlay",!0),x(R(a),"seekOnPlay",null),x(R(a),"onDurationCalled",!1),x(R(a),"handlePlayerMount",function(P){if(a.player){a.progress();return}a.player=P,a.player.load(a.props.url),a.progress()}),x(R(a),"getInternalPlayer",function(P){return a.player?a.player[P]:null}),x(R(a),"progress",function(){if(a.props.url&&a.player&&a.isReady){var P=a.getCurrentTime()||0,D=a.getSecondsLoaded(),L=a.getDuration();if(L){var M={playedSeconds:P,played:P/L};D!==null&&(M.loadedSeconds=D,M.loaded=D/L),(M.playedSeconds!==a.prevPlayed||M.loadedSeconds!==a.prevLoaded)&&a.props.onProgress(M),a.prevPlayed=M.playedSeconds,a.prevLoaded=M.loadedSeconds}}a.progressTimeout=setTimeout(a.progress,a.props.progressFrequency||a.props.progressInterval)}),x(R(a),"handleReady",function(){if(a.mounted){a.isReady=!0,a.isLoading=!1;var P=a.props,D=P.onReady,L=P.playing,M=P.volume,o=P.muted;D(),!o&&M!==null&&a.player.setVolume(M),a.loadOnReady?(a.player.load(a.loadOnReady,!0),a.loadOnReady=null):L&&a.player.play(),a.handleDurationCheck()}}),x(R(a),"handlePlay",function(){a.isPlaying=!0,a.isLoading=!1;var P=a.props,D=P.onStart,L=P.onPlay,M=P.playbackRate;a.startOnPlay&&(a.player.setPlaybackRate&&M!==1&&a.player.setPlaybackRate(M),D(),a.startOnPlay=!1),L(),a.seekOnPlay&&(a.seekTo(a.seekOnPlay),a.seekOnPlay=null),a.handleDurationCheck()}),x(R(a),"handlePause",function(P){a.isPlaying=!1,a.isLoading||a.props.onPause(P)}),x(R(a),"handleEnded",function(){var P=a.props,D=P.activePlayer,L=P.loop,M=P.onEnded;D.loopOnEnded&&L&&a.seekTo(0),L||(a.isPlaying=!1,M())}),x(R(a),"handleError",function(){var P;a.isLoading=!1,(P=a.props).onError.apply(P,arguments)}),x(R(a),"handleDurationCheck",function(){clearTimeout(a.durationCheckTimeout);var P=a.getDuration();P?a.onDurationCalled||(a.props.onDuration(P),a.onDurationCalled=!0):a.durationCheckTimeout=setTimeout(a.handleDurationCheck,100)}),x(R(a),"handleLoaded",function(){a.isLoading=!1}),a}return E(d,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(v){var A=this;if(this.player){var I=this.props,P=I.url,D=I.playing,L=I.volume,M=I.muted,o=I.playbackRate,p=I.pip,y=I.loop,h=I.activePlayer,b=I.disableDeferredLoading;if(!(0,n.default)(v.url,P)){if(this.isLoading&&!h.forceLoad&&!b&&!(0,f.isMediaStream)(P)){console.warn("ReactPlayer: the attempt to load ".concat(P," is being deferred until the player has loaded")),this.loadOnReady=P;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(P,this.isReady)}!v.playing&&D&&!this.isPlaying&&this.player.play(),v.playing&&!D&&this.isPlaying&&this.player.pause(),!v.pip&&p&&this.player.enablePIP&&this.player.enablePIP(),v.pip&&!p&&this.player.disablePIP&&this.player.disablePIP(),v.volume!==L&&L!==null&&this.player.setVolume(L),v.muted!==M&&(M?this.player.mute():(this.player.unmute(),L!==null&&setTimeout(function(){return A.player.setVolume(L)}))),v.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),v.loop!==y&&this.player.setLoop&&this.player.setLoop(y)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(v,A,I){var P=this;if(!this.isReady){v!==0&&(this.seekOnPlay=v,setTimeout(function(){P.seekOnPlay=null},m));return}var D=A?A==="fraction":v>0&&v<1;if(D){var L=this.player.getDuration();if(!L){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(L*v,I);return}this.player.seekTo(v,I)}},{key:"render",value:function(){var v=this.props.activePlayer;return v?r.default.createElement(v,_({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),d}(r.Component);e.default=g,x(g,"displayName","Player"),x(g,"propTypes",c.propTypes),x(g,"defaultProps",c.defaultProps)})(Pt);var Ve={},lt;function wn(){return lt||(lt=1,function(e){function t(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(i){return typeof i}:t=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(m)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(N);function n(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return n=function(){return m},m}function c(m){if(m&&m.__esModule)return m;if(m===null||t(m)!=="object"&&typeof m!="function")return{default:m};var g=n();if(g&&g.has(m))return g.get(m);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in m)if(Object.prototype.hasOwnProperty.call(m,d)){var a=s?Object.getOwnPropertyDescriptor(m,d):null;a&&(a.get||a.set)?Object.defineProperty(i,d,a):i[d]=m[d]}return i.default=m,g&&g.set(m,i),i}function f(m,g){var i=Object.keys(m);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(m);g&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(m,d).enumerable})),i.push.apply(i,s)}return i}function O(m){for(var g=1;g<arguments.length;g++){var i=arguments[g]!=null?arguments[g]:{};g%2?f(Object(i),!0).forEach(function(s){R(m,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach(function(s){Object.defineProperty(m,s,Object.getOwnPropertyDescriptor(i,s))})}return m}function w(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){for(var i=0;i<g.length;i++){var s=g[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(m,s.key,s)}}function _(m,g,i){return g&&l(m.prototype,g),i&&l(m,i),m}function T(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),g&&U(m,g)}function U(m,g){return U=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},U(m,g)}function E(m){var g=G();return function(){var s=Z(m),d;if(g){var a=Z(this).constructor;d=Reflect.construct(s,arguments,a)}else d=s.apply(this,arguments);return C(this,d)}}function C(m,g){return g&&(t(g)==="object"||typeof g=="function")?g:j(m)}function j(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Z(m){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Z(m)}function R(m,g,i){return g in m?Object.defineProperty(m,g,{value:i,enumerable:!0,configurable:!0,writable:!0}):m[g]=i,m}var re="64px",q={},x=function(m){T(i,m);var g=E(i);function i(){var s;w(this,i);for(var d=arguments.length,a=new Array(d),v=0;v<d;v++)a[v]=arguments[v];return s=g.call.apply(g,[this].concat(a)),R(j(s),"mounted",!1),R(j(s),"state",{image:null}),R(j(s),"handleKeyPress",function(A){(A.key==="Enter"||A.key===" ")&&s.props.onClick()}),s}return _(i,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(d){var a=this.props,v=a.url,A=a.light;(d.url!==v||d.light!==A)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(d){var a=this,v=d.url,A=d.light,I=d.oEmbedUrl;if(!r.default.isValidElement(A)){if(typeof A=="string"){this.setState({image:A});return}if(q[v]){this.setState({image:q[v]});return}return this.setState({image:null}),window.fetch(I.replace("{url}",v)).then(function(P){return P.json()}).then(function(P){if(P.thumbnail_url&&a.mounted){var D=P.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");a.setState({image:D}),q[v]=D}})}}},{key:"render",value:function(){var d=this.props,a=d.light,v=d.onClick,A=d.playIcon,I=d.previewTabIndex,P=this.state.image,D=r.default.isValidElement(a),L={display:"flex",alignItems:"center",justifyContent:"center"},M={preview:O({width:"100%",height:"100%",backgroundImage:P&&!D?"url(".concat(P,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},L),shadow:O({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:re,width:re,height:re,position:D?"absolute":void 0},L),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},o=r.default.createElement("div",{style:M.shadow,className:"react-player__shadow"},r.default.createElement("div",{style:M.playIcon,className:"react-player__play-icon"}));return r.default.createElement("div",{style:M.preview,className:"react-player__preview",onClick:v,tabIndex:I,onKeyPress:this.handleKeyPress},D?a:null,A||o)}}]),i}(r.Component);e.default=x}(Ve)),Ve}Object.defineProperty(Me,"__esModule",{value:!0});Me.createReactPlayer=void 0;var le=wt(N),Sn=je(gt),Ne=je(Wr),ut=je(vt),Oe=ue,Tn=z,Rn=je(Pt);function je(e){return e&&e.__esModule?e:{default:e}}function we(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?we=function(r){return typeof r}:we=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},we(e)}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?st(Object(r),!0).forEach(function(n){k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(this,arguments)}function He(e){return In(e)||Cn(e)||En(e)||An()}function An(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(e,t){if(e){if(typeof e=="string")return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(e,t)}}function Cn(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function In(e){if(Array.isArray(e))return $e(e)}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mn(e,t,r){return t&&ft(e.prototype,t),r&&ft(e,r),e}function jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}function We(e,t){return We=Object.setPrototypeOf||function(n,c){return n.__proto__=c,n},We(e,t)}function Dn(e){var t=Un();return function(){var n=xe(e),c;if(t){var f=xe(this).constructor;c=Reflect.construct(n,arguments,f)}else c=n.apply(this,arguments);return Ln(this,c)}}function Ln(e,t){return t&&(we(t)==="object"||typeof t=="function")?t:B(e)}function B(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xe(e)}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ot(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Ot=function(){return e},e}function wt(e){if(e&&e.__esModule)return e;if(e===null||we(e)!=="object"&&typeof e!="function")return{default:e};var t=Ot();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var f=n?Object.getOwnPropertyDescriptor(e,c):null;f&&(f.get||f.set)?Object.defineProperty(r,c,f):r[c]=e[c]}return r.default=e,t&&t.set(e,r),r}var kn=(0,le.lazy)(function(){return Promise.resolve().then(function(){return wt(wn())})}),Vn=typeof window<"u"&&window.document,Nn=typeof De<"u"&&De.window&&De.window.document,Hn=Object.keys(Oe.propTypes),Fn=Vn||Nn?le.Suspense:function(){return null},Pe=[],$n=function(t,r){var n,c;return c=n=function(f){jn(w,f);var O=Dn(w);function w(){var l;xn(this,w);for(var _=arguments.length,T=new Array(_),U=0;U<_;U++)T[U]=arguments[U];return l=O.call.apply(O,[this].concat(T)),k(B(l),"state",{showPreview:!!l.props.light}),k(B(l),"references",{wrapper:function(C){l.wrapper=C},player:function(C){l.player=C}}),k(B(l),"handleClickPreview",function(E){l.setState({showPreview:!1}),l.props.onClickPreview(E)}),k(B(l),"showPreview",function(){l.setState({showPreview:!0})}),k(B(l),"getDuration",function(){return l.player?l.player.getDuration():null}),k(B(l),"getCurrentTime",function(){return l.player?l.player.getCurrentTime():null}),k(B(l),"getSecondsLoaded",function(){return l.player?l.player.getSecondsLoaded():null}),k(B(l),"getInternalPlayer",function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return l.player?l.player.getInternalPlayer(E):null}),k(B(l),"seekTo",function(E,C,j){if(!l.player)return null;l.player.seekTo(E,C,j)}),k(B(l),"handleReady",function(){l.props.onReady(B(l))}),k(B(l),"getActivePlayer",(0,Ne.default)(function(E){for(var C=0,j=[].concat(Pe,He(t));C<j.length;C++){var G=j[C];if(G.canPlay(E))return G}return r||null})),k(B(l),"getConfig",(0,Ne.default)(function(E,C){var j=l.props.config;return Sn.default.all([Oe.defaultProps.config,Oe.defaultProps.config[C]||{},j,j[C]||{}])})),k(B(l),"getAttributes",(0,Ne.default)(function(E){return(0,Tn.omit)(l.props,Hn)})),k(B(l),"renderActivePlayer",function(E){if(!E)return null;var C=l.getActivePlayer(E);if(!C)return null;var j=l.getConfig(E,C.key);return le.default.createElement(Rn.default,Ie({},l.props,{key:C.key,ref:l.references.player,config:j,activePlayer:C.lazyPlayer||C,onReady:l.handleReady}))}),l}return Mn(w,[{key:"shouldComponentUpdate",value:function(_,T){return!(0,ut.default)(this.props,_)||!(0,ut.default)(this.state,T)}},{key:"componentDidUpdate",value:function(_){var T=this.props.light;!_.light&&T&&this.setState({showPreview:!0}),_.light&&!T&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(_){if(!_)return null;var T=this.props,U=T.light,E=T.playIcon,C=T.previewTabIndex,j=T.oEmbedUrl;return le.default.createElement(kn,{url:_,light:U,playIcon:E,previewTabIndex:C,oEmbedUrl:j,onClick:this.handleClickPreview})}},{key:"render",value:function(){var _=this.props,T=_.url,U=_.style,E=_.width,C=_.height,j=_.fallback,G=_.wrapper,Z=this.state.showPreview,R=this.getAttributes(T),re=typeof G=="string"?this.references.wrapper:void 0;return le.default.createElement(G,Ie({ref:re,style:ct(ct({},U),{},{width:E,height:C})},R),le.default.createElement(Fn,{fallback:j},Z?this.renderPreview(T):this.renderActivePlayer(T)))}}]),w}(le.Component),k(n,"displayName","ReactPlayer"),k(n,"propTypes",Oe.propTypes),k(n,"defaultProps",Oe.defaultProps),k(n,"addCustomPlayer",function(f){Pe.push(f)}),k(n,"removeCustomPlayers",function(){Pe.length=0}),k(n,"canPlay",function(f){for(var O=0,w=[].concat(Pe,He(t));O<w.length;O++){var l=w[O];if(l.canPlay(f))return!0}return!1}),k(n,"canEnablePIP",function(f){for(var O=0,w=[].concat(Pe,He(t));O<w.length;O++){var l=w[O];if(l.canEnablePIP&&l.canEnablePIP(f))return!0}return!1}),c};Me.createReactPlayer=$n;var St={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.canPlay=S.FLV_EXTENSIONS=S.DASH_EXTENSIONS=S.HLS_EXTENSIONS=S.VIDEO_EXTENSIONS=S.AUDIO_EXTENSIONS=S.MATCH_URL_KALTURA=S.MATCH_URL_VIDYARD=S.MATCH_URL_MIXCLOUD=S.MATCH_URL_DAILYMOTION=S.MATCH_URL_TWITCH_CHANNEL=S.MATCH_URL_TWITCH_VIDEO=S.MATCH_URL_WISTIA=S.MATCH_URL_STREAMABLE=S.MATCH_URL_FACEBOOK_WATCH=S.MATCH_URL_FACEBOOK=S.MATCH_URL_VIMEO=S.MATCH_URL_SOUNDCLOUD=S.MATCH_URL_YOUTUBE=void 0;var pt=z;function Wn(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=qn(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(_){throw _},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,O=!1,w;return{s:function(){r=e[Symbol.iterator]()},n:function(){var _=r.next();return f=_.done,_},e:function(_){O=!0,w=_},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(O)throw w}}}}function qn(e,t){if(e){if(typeof e=="string")return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}}function dt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qe=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;S.MATCH_URL_YOUTUBE=qe;var Tt=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;S.MATCH_URL_SOUNDCLOUD=Tt;var Rt=/vimeo\.com\/(?!progressive_redirect).+/;S.MATCH_URL_VIMEO=Rt;var At=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;S.MATCH_URL_FACEBOOK=At;var Et=/^https?:\/\/fb\.watch\/.+$/;S.MATCH_URL_FACEBOOK_WATCH=Et;var Ct=/streamable\.com\/([a-z0-9]+)$/;S.MATCH_URL_STREAMABLE=Ct;var It=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/;S.MATCH_URL_WISTIA=It;var xt=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;S.MATCH_URL_TWITCH_VIDEO=xt;var Mt=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;S.MATCH_URL_TWITCH_CHANNEL=Mt;var jt=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;S.MATCH_URL_DAILYMOTION=jt;var Dt=/mixcloud\.com\/([^/]+\/[^/]+)/;S.MATCH_URL_MIXCLOUD=Dt;var Lt=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;S.MATCH_URL_VIDYARD=Lt;var Ut=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;S.MATCH_URL_KALTURA=Ut;var Ye=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;S.AUDIO_EXTENSIONS=Ye;var Ke=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;S.VIDEO_EXTENSIONS=Ke;var Xe=/\.(m3u8)($|\?)/i;S.HLS_EXTENSIONS=Xe;var kt=/\.(mpd)($|\?)/i;S.DASH_EXTENSIONS=kt;var Vt=/\.(flv)($|\?)/i;S.FLV_EXTENSIONS=Vt;var Bn=function e(t){if(t instanceof Array){var r=Wn(t),n;try{for(r.s();!(n=r.n()).done;){var c=n.value;if(typeof c=="string"&&e(c)||e(c.src))return!0}}catch(f){r.e(f)}finally{r.f()}return!1}return(0,pt.isMediaStream)(t)||(0,pt.isBlobUrl)(t)?!0:Ye.test(t)||Ke.test(t)||Xe.test(t)||kt.test(t)||Vt.test(t)},zn={youtube:function(t){return t instanceof Array?t.every(function(r){return qe.test(r)}):qe.test(t)},soundcloud:function(t){return Tt.test(t)&&!Ye.test(t)},vimeo:function(t){return Rt.test(t)&&!Ke.test(t)&&!Xe.test(t)},facebook:function(t){return At.test(t)||Et.test(t)},streamable:function(t){return Ct.test(t)},wistia:function(t){return It.test(t)},twitch:function(t){return xt.test(t)||Mt.test(t)},dailymotion:function(t){return jt.test(t)},mixcloud:function(t){return Dt.test(t)},vidyard:function(t){return Lt.test(t)},kaltura:function(t){return Ut.test(t)},file:Bn};S.canPlay=zn;(function(e){function t(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(y){return typeof y}:t=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=O(N),n=z,c=S;function f(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return f=function(){return o},o}function O(o){if(o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var p=f();if(p&&p.has(o))return p.get(o);var y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in o)if(Object.prototype.hasOwnProperty.call(o,b)){var F=h?Object.getOwnPropertyDescriptor(o,b):null;F&&(F.get||F.set)?Object.defineProperty(y,b,F):y[b]=o[b]}return y.default=o,p&&p.set(o,y),y}function w(o,p){var y=Object.keys(o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(o);p&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable})),y.push.apply(y,h)}return y}function l(o){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?w(Object(y),!0).forEach(function(h){d(o,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(y)):w(Object(y)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(y,h))})}return o}function _(o,p){return j(o)||C(o,p)||U(o,p)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(o,p){if(o){if(typeof o=="string")return E(o,p);var y=Object.prototype.toString.call(o).slice(8,-1);if(y==="Object"&&o.constructor&&(y=o.constructor.name),y==="Map"||y==="Set")return Array.from(o);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return E(o,p)}}function E(o,p){(p==null||p>o.length)&&(p=o.length);for(var y=0,h=new Array(p);y<p;y++)h[y]=o[y];return h}function C(o,p){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var y=[],h=!0,b=!1,F=void 0;try{for(var $=o[Symbol.iterator](),V;!(h=(V=$.next()).done)&&(y.push(V.value),!(p&&y.length===p));h=!0);}catch(Q){b=!0,F=Q}finally{try{!h&&$.return!=null&&$.return()}finally{if(b)throw F}}return y}}function j(o){if(Array.isArray(o))return o}function G(o,p){if(!(o instanceof p))throw new TypeError("Cannot call a class as a function")}function Z(o,p){for(var y=0;y<p.length;y++){var h=p[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}function R(o,p,y){return p&&Z(o.prototype,p),y&&Z(o,y),o}function re(o,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(p&&p.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),p&&q(o,p)}function q(o,p){return q=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},q(o,p)}function x(o){var p=i();return function(){var h=s(o),b;if(p){var F=s(this).constructor;b=Reflect.construct(h,arguments,F)}else b=h.apply(this,arguments);return m(this,b)}}function m(o,p){return p&&(t(p)==="object"||typeof p=="function")?p:g(o)}function g(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(o){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},s(o)}function d(o,p,y){return p in o?Object.defineProperty(o,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):o[p]=y,o}var a="https://www.youtube.com/iframe_api",v="YT",A="onYouTubeIframeAPIReady",I=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,P=/user\/([a-zA-Z0-9_-]+)\/?/,D=/youtube-nocookie\.com/,L="https://www.youtube-nocookie.com",M=function(o){re(y,o);var p=x(y);function y(){var h;G(this,y);for(var b=arguments.length,F=new Array(b),$=0;$<b;$++)F[$]=arguments[$];return h=p.call.apply(p,[this].concat(F)),d(g(h),"callPlayer",n.callPlayer),d(g(h),"parsePlaylist",function(V){if(V instanceof Array)return{listType:"playlist",playlist:V.map(h.getID).join(",")};if(I.test(V)){var Q=V.match(I),J=_(Q,2),ye=J[1];return{listType:"playlist",list:ye.replace(/^UC/,"UU")}}if(P.test(V)){var he=V.match(P),me=_(he,2),se=me[1];return{listType:"user_uploads",list:se}}return{}}),d(g(h),"onStateChange",function(V){var Q=V.data,J=h.props,ye=J.onPlay,he=J.onPause,me=J.onBuffer,se=J.onBufferEnd,Te=J.onEnded,ge=J.onReady,Re=J.loop,ve=J.config,ce=ve.playerVars,be=ve.onUnstarted,ee=window[v].PlayerState,Nt=ee.UNSTARTED,Ht=ee.PLAYING,Ft=ee.PAUSED,$t=ee.BUFFERING,Wt=ee.ENDED,qt=ee.CUED;if(Q===Nt&&be(),Q===Ht&&(ye(),se()),Q===Ft&&he(),Q===$t&&me(),Q===Wt){var Bt=!!h.callPlayer("getPlaylist");Re&&!Bt&&(ce.start?h.seekTo(ce.start):h.play()),Te()}Q===qt&&ge()}),d(g(h),"mute",function(){h.callPlayer("mute")}),d(g(h),"unmute",function(){h.callPlayer("unMute")}),d(g(h),"ref",function(V){h.container=V}),h}return R(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(b){return!b||b instanceof Array||I.test(b)?null:b.match(c.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(b,F){var $=this,V=this.props,Q=V.playing,J=V.muted,ye=V.playsinline,he=V.controls,me=V.loop,se=V.config,Te=V.onError,ge=se.playerVars,Re=se.embedOptions,ve=this.getID(b);if(F){if(I.test(b)||P.test(b)||b instanceof Array){this.player.loadPlaylist(this.parsePlaylist(b));return}this.player.cueVideoById({videoId:ve,startSeconds:(0,n.parseStartTime)(b)||ge.start,endSeconds:(0,n.parseEndTime)(b)||ge.end});return}(0,n.getSDK)(a,v,A,function(ce){return ce.loaded}).then(function(ce){$.container&&($.player=new ce.Player($.container,l({width:"100%",height:"100%",videoId:ve,playerVars:l(l({autoplay:Q?1:0,mute:J?1:0,controls:he?1:0,start:(0,n.parseStartTime)(b),end:(0,n.parseEndTime)(b),origin:window.location.origin,playsinline:ye?1:0},$.parsePlaylist(b)),ge),events:{onReady:function(){me&&$.player.setLoop(!0),$.props.onReady()},onPlaybackRateChange:function(ee){return $.props.onPlaybackRateChange(ee.data)},onPlaybackQualityChange:function(ee){return $.props.onPlaybackQualityChange(ee)},onStateChange:$.onStateChange,onError:function(ee){return Te(ee.data)}},host:D.test(b)?L:void 0},Re)))},Te),Re.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(b){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.callPlayer("seekTo",b),!F&&!this.props.playing&&this.pause()}},{key:"setVolume",value:function(b){this.callPlayer("setVolume",b*100)}},{key:"setPlaybackRate",value:function(b){this.callPlayer("setPlaybackRate",b)}},{key:"setLoop",value:function(b){this.callPlayer("setLoop",b)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var b=this.props.display,F={width:"100%",height:"100%",display:b};return r.default.createElement("div",{style:F},r.default.createElement("div",{ref:this.ref}))}}]),y}(r.Component);e.default=M,d(M,"displayName","YouTube"),d(M,"canPlay",c.canPlay.youtube)})(St);var Yn=Me.createReactPlayer,yt=St.default,Kn=Yn([{key:"youtube",canPlay:yt.canPlay,lazyPlayer:yt}]);const Xn=Qt(Kn),ht=[],$a=e=>{const[t,r]=N.useState([]),[n,c]=N.useState(),[f,O]=N.useState(!0),[w,l]=N.useState(1),[_,T]=N.useState(0),[U,E]=N.useState(0),[C,j]=N.useState(!0),[G]=ae.useForm();Jt();const[Z,R]=N.useState(!1),[re,q]=N.useState(!1),[x,m]=N.useState(0),[g,i]=N.useState(!1),s=N.useRef([]),d=async o=>{c(o),i(!0)},a=()=>{q(!0)},v=()=>{R(!0)},A=async(o,p="",y=!1)=>{const{data:h}=await Ce.custom({url:"",method:"get",meta:{operation:"darasaVideos",variables:{page:{value:o,type:"Int",required:!0},key:{value:p,type:"String",required:!1},id:{value:parseInt(e.id===void 0?"0":e.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:ze}]}}).catch(()=>(ne.error("Error loading videos"),{data:null})).then(b=>b);h&&(E(h.total),T(h.pages),l(h.page),j(h.hasNext),r(h.results.map(b=>({...b,isPlaying:!1})))),O(!1)},I=async o=>{r([o,...t]),q(!1)},P=(o,p)=>{ht[p]=o},D=(o,p)=>{x.toString()!==o.toString()&&m(o),r(t.map((y,h)=>y.id.toString()===o.toString()?{...y,isPlaying:p}:{...y,isPlaying:!1}))},L=async o=>{const{data:p}=await Ce.custom({url:"",method:"post",meta:{operation:"deleteClassVideo",variables:{id:{value:o,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(ne.error("Error deleting video"),{data:null})).then(y=>y);p&&(p.success?(ne.success(p.message),r(t.filter(y=>y.id!==o))):ne.error(p.message))},M=o=>{pr.confirm({title:"Removing Video",icon:u.jsx(Pr,{}),content:"Are you sure ...",okText:"Remove",cancelText:"Cancel",onOk:()=>L(o)})};return N.useEffect(()=>{A(w)},[]),f?u.jsx(u.Fragment,{children:u.jsx(sr,{loading:f,active:!0})}):u.jsxs(u.Fragment,{children:[u.jsxs(Ze,{children:[u.jsx(Le,{span:20,children:u.jsx(ae,{layout:"vertical",form:G,onFinish:o=>{l(0),A(0,o.key,!0)},children:u.jsx(ae.Item,{name:"key",children:u.jsx(Be,{size:"large",placeholder:"Search Video(s)...",prefix:u.jsx(dr,{}),autoComplete:"off",allowClear:!0})})})}),u.jsx(Le,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Qe,{trigger:["click"],overlay:u.jsxs(ie,{children:[u.jsx(ie.Item,{disabled:!e.canManage,children:u.jsxs("a",{target:"_blank",rel:"noopener noreferrer",onClick:v,children:[u.jsx(yr,{}),u.jsx("span",{style:{marginLeft:10},children:"Upload Video"})]})}),u.jsx(ie.Item,{children:u.jsxs("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>a(),children:[u.jsx(hr,{}),u.jsx("span",{style:{marginLeft:10},children:"Youtube-Video"})]})})]}),placement:"bottomRight",overlayStyle:{zIndex:9999},children:u.jsx(Ee,{size:"large",icon:u.jsx(mr,{}),children:"Add Video"})})})]}),u.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[t.length>0?u.jsx(Ze,{align:"top",children:t.map((o,p)=>u.jsx(Le,{span:12,children:u.jsxs(cr,{hoverable:o.isActive,style:{marginRight:10},title:u.jsxs(u.Fragment,{children:[u.jsx("span",{children:o.title}),u.jsx(er,{title:Je(o.created).format("LLLL"),placement:"top",children:u.jsxs(ur.Tag,{color:"red",style:{float:"right"},children:["Published: ",Je(o.created).fromNow()]})}),u.jsx(tr,{style:{right:0,position:"absolute",zIndex:"inherit"},children:u.jsx(Qe,{trigger:["click"],overlay:u.jsxs(ie,{children:[u.jsx(ie.Item,{icon:u.jsx(gr,{}),disabled:!o.isActive,children:u.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>d(o),children:"View Info's"})}),u.jsx(ie.Item,{icon:u.jsx(vr,{}),children:u.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),u.jsx(ie.Item,{icon:u.jsx(br,{}),onClick:()=>M(o.id),disabled:!e.canManage,children:u.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})})]}),overlayStyle:{zIndex:9999},children:u.jsx("a",{className:"ant-dropdown-link",onClick:y=>y.preventDefault(),children:u.jsx(_r,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})]}),children:[o.isYoutube&&u.jsx(Xn,{url:o.url,width:"100%"}),!o.isYoutube&&u.jsx("span",{onClick:()=>{D(o.id,!0),ht[p].pause()},children:u.jsx(Tr,{ref:s.current[p],index:p,file:o.video,videoId:o.id,updatePlaying:D,isPlaying:x.toString()===o.id.toString(),updatePlayer:P})})]})}))}):u.jsx(fr,{severity:"info",children:"No Video found for this class, please add one"}),C&&u.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:u.jsx(Ee,{type:"primary",onClick:()=>{A(w+1)},children:"Load More"})})]}),u.jsx(et,{title:"Uploading Video",open:Z,onClose:o=>R(o),width:"50vw",children:u.jsx(Sr,{id:e.id,random:Math.random(),handleAddingVideo:I})}),u.jsx(et,{title:"Adding Youtube Video",open:re,onClose:o=>q(o),width:"50vw",children:u.jsx(Or,{id:e.id,random:Math.random(),handleAddingDrive:I})}),u.jsx(lr,{title:"Video Info's",width:"40vw",anchor:"right",onClose:o=>i(o),open:g,noOverFlow:!0,children:u.jsx(u.Fragment,{children:n&&u.jsxs(u.Fragment,{children:[" ",u.jsx("div",{dangerouslySetInnerHTML:{__html:n.description}})]})})})]})};export{$a as ClassVideos};
