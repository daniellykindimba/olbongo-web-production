import{r as s,c as J,aT as c,j as e,a8 as le,g,aZ as P,aW as M,aP as b,S as _,av as v,_ as h,cS as Fe,cl as V,a1 as A,cn as re,cL as ce,aN as B,af as U,ce as $,cd as be,aY as me}from"./index-ddd3790b.js";import{G as O}from"./index-aea8f462.js";import{C as W}from"./index-80befb05.js";import{I as Me}from"./InfoCircleOutlined-80566269.js";import{D as ie}from"./index-83a88b90.js";import{T as ue}from"./Timeline-f24c39cc.js";import{S as Ae}from"./Skeleton-62845a9c.js";import{A as ae}from"./index-af50c390.js";import{t as he}from"./text_truncate-315d9efa.js";import{A as Se}from"./Alert-1c98ee2c.js";import{F as qe}from"./FolderOpenFilled-87b3aa39.js";import{C as ke}from"./ckeditor-5b144c6e.js";import{I as ve}from"./index-78ad5910.js";import{S as Z}from"./SearchOutlined-d79a95f9.js";import{L as X}from"./index-c2d121e1.js";import{P as H}from"./index-f0da4d77.js";import{D as xe}from"./DeleteFilled-cfc9a0fa.js";import{E as de}from"./EditOutlined-f57d008f.js";import{C as ee}from"./Collapse-43a87254.js";import{D as te}from"./DeleteOutlined-fbc0259b.js";import{T as fe}from"./index-a817b1d1.js";import{L as Ee}from"./LockFilled-a40787de.js";import{U as Le}from"./UnlockFilled-bf3c841f.js";import"./DotChartOutlined-f39c986e.js";import"./InfoCircleFilled-02e9cfd0.js";import"./InfoCircleFilled-baaa675e.js";import"./ckeditor-d59934ef.js";import"./UpOutlined-7082c42f.js";import"./InputNumber-2ca91e70.js";import"./index-78fd543e.js";import"./ActionButton-20c4ebc0.js";import"./EditOutlined-401a1613.js";import"./index-64dcfd95.js";import"./DeleteOutlined-25685737.js";const Ne=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0);s.useState(20),s.useState("");const[u,S]=s.useState(!1),[m,l]=s.useState(!0);J(),c.useForm(),s.useState(!1);const f=!O.useBreakpoint().lg,x=async(C,K="",N=20)=>{l(!0);const{data:T}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubjectTopics",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0},page:{value:C,type:"Int",required:!0},key:{value:K,type:"String",required:!1},pageSize:{value:N,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content",{subTopics:["id","content",{objectives:["id","content"]}]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(T.page),n(T.total),S(T.hasNext),o(T.results),l(!1)};return s.useEffect(()=>{x(1,"",20)},[t.syllabus,t.educationLevel,t.subject]),e.jsx("div",{style:{maxHeight:"90vh",overflowY:"auto",minHeight:"90vh"},children:e.jsxs(le,{spinning:m,children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsx("h3",{children:"No Topics Found"})}),a.length>0&&e.jsx(W,{style:{padding:0},children:e.jsx("ol",{children:a.map((C,K)=>e.jsxs("li",{children:[e.jsxs("span",{style:{fontWeight:"bolder",fontSize:18},children:[C.content,e.jsx("span",{style:{marginLeft:f?0:5},children:e.jsx("a",{children:e.jsx(Me,{style:{color:"red"}})})})]}),e.jsx("ol",{children:C.subTopics.map(N=>e.jsxs("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:N.content}),e.jsx("ul",{children:N.objectives.map(T=>e.jsx("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:T.content}))})]}))})]}))})})]})})},ge=["red","green","blue","yellow","orange"],we=t=>{const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0);s.useState(20),s.useState("");const[m,l]=s.useState(!1),[d,f]=s.useState(!0);J(),c.useForm();const[x,C]=s.useState(!1),N=!O.useBreakpoint().lg,T=k=>{o(k),C(!0)},Y=async(k,q="",E=100)=>{f(!0);const{data:I}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},page:{value:k,type:"Int",required:!0},key:{value:q,type:"String",required:!1},pageSize:{value:E,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});n(I.page),S(I.total),l(I.hasNext),r(I.results),f(!1)};return s.useEffect(()=>{Y(1,"",100)},[t.syllabus,t.educationLevel]),e.jsxs(e.Fragment,{children:[e.jsx(le,{spinning:d,children:i.map(k=>e.jsx(e.Fragment,{children:e.jsx("a",{onClick:()=>T(k),children:e.jsx(P,{color:ge[Math.floor(Math.random()*ge.length)],style:{fontSize:16,padding:5,marginTop:10},children:k.name})})}))}),e.jsx(ie,{title:(a==null?void 0:a.name)+" Syllabus",anchor:"right",width:N?"100vw":"70vw",onClose:k=>C(k),open:x,noOverFlow:!0,children:e.jsx(Ne,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:a})})]})},Ie=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0);s.useState(20),s.useState("");const[u,S]=s.useState(!1),[m,l]=s.useState(!0);J(),c.useForm(),s.useState(!1),O.useBreakpoint().lg;const f=async(x,C="",K=100)=>{l(!0);const{data:N}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},page:{value:x,type:"Int",required:!0},key:{value:C,type:"String",required:!1},pageSize:{value:K,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(N.page),n(N.total),S(N.hasNext),o(N.results),l(!1)};return s.useEffect(()=>{f(1,"",20)},[t.syllabus]),e.jsx(e.Fragment,{children:e.jsx(le,{spinning:m,children:e.jsx(M,{style:{marginTop:10},children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("p",{style:{fontSize:20,marginTop:10},children:"No Data Found"})}),a.length>0&&e.jsx(ue,{mode:"left",children:a.map((x,C)=>e.jsxs(e.Fragment,{children:[e.jsx(ue.Item,{color:"red",children:e.jsx("span",{style:{fontSize:20},children:x.name})}),e.jsx(ue.Item,{color:"green",dot:!0,children:e.jsx(we,{syllabus:t.syllabus,educationLevel:x})})]}))})]})})})})},{Option:ze}=_,De=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:n.title,type:"String",required:!0},description:{value:n.description,type:"String",required:!1},year:{value:parseInt(n.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(n.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.syllabus)):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(_,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(ze,{value:n.id,children:n.name},n.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Search:Pe}=A,Be=()=>{const[t,a]=s.useState([]),[o,i]=s.useState(!0),[r,j]=s.useState(!1);Fe();const u=!O.useBreakpoint().lg,S=async(l,d="",f=20)=>{const{data:x}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:l,type:"Int",required:!0},key:{value:d,type:"String",required:!1},pageSize:{value:f,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});a(x.results),i(!1)},m=async()=>{h.success("Syllabus subscription successful"),j(!1)};return s.useEffect(()=>{S(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:3},children:[e.jsx(M,{style:{display:"flex",justifyContent:"flex-start"},children:e.jsx(b,{span:u?24:8,children:e.jsx(Pe,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsxs("div",{style:{maxHeight:"calc(100vh - 150px)",overflowY:"auto"},children:[o&&e.jsx(e.Fragment,{children:[...Array(4)].map((l,d)=>e.jsx(M,{children:[...Array(3)].map((f,x)=>e.jsx(b,{span:8,children:e.jsx(W,{children:e.jsx(Ae,{active:!0})})},x))},d))}),!o&&t.length===0&&e.jsx(M,{style:{marginTop:"3px"},children:e.jsx(b,{span:24,children:e.jsx(ae,{message:"No syllabus found",type:"info"})})}),!o&&e.jsx(e.Fragment,{children:t.map(l=>e.jsxs(M,{children:[e.jsx(b,{span:24,children:e.jsx(W,{children:e.jsxs("h1",{children:[l.title," ",e.jsx(P,{color:"red",style:{marginLeft:10},children:l.year})]})})}),e.jsx(b,{span:24,children:e.jsx(W,{children:e.jsx(Ie,{syllabus:l})})})]}))})]})]}),e.jsx(V,{title:"Syllabus Subscription",width:u?"100vw":"40vw",open:r,onClose:l=>j(l),children:e.jsx(De,{onFinish:m})})]})},Oe=()=>{const{push:t}=J();return s.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsx(ce,{children:e.jsxs(B,{children:[e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/"),children:"Home"})}),e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Syllabus"})}),e.jsx(B.Item,{children:"Syllabuses"})]})})}),e.jsx(Be,{})]})},{Search:Ke}=A,Ye=t=>{var k;const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0);s.useState(20),s.useState("");const[m,l]=s.useState(!1),[d,f]=s.useState(!0);J(),c.useForm();const[x,C]=s.useState(!1),N=!O.useBreakpoint().lg,T=q=>{o(q),C(!0)},Y=async(q,E="",I=20)=>{f(!0);const{data:w}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:q,type:"Int",required:!0},key:{value:E,type:"String",required:!1},pageSize:{value:I,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});n(w.page),S(w.total),l(w.hasNext),r(w.results),f(!1)};return s.useEffect(()=>{Y(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:N?24:8,children:e.jsx(Ke,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsx(le,{spinning:d,children:e.jsxs(M,{children:[i.length===0&&!d&&e.jsx(e.Fragment,{children:e.jsx(Se,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},severity:"warning",children:"No syllabuses found"})}),i.map(q=>e.jsx(b,{span:6,children:e.jsxs(W,{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(U,{title:q.title,color:"green",placement:"right",children:e.jsxs("span",{style:{fontSize:26,display:"block",marginBottom:10},children:[he(q.title,30),e.jsx(P,{color:"red",children:q.year})]})}),q.syllabusType&&e.jsx(P,{color:"green",style:{fontSize:18,padding:10},children:e.jsx(U,{title:e.jsx(e.Fragment,{children:q.syllabusType.name}),color:"green",placement:"top",children:he(q.syllabusType.name,30)})}),e.jsx(U,{title:"Click to View Syllabus",color:"green",placement:"top",children:e.jsx(v,{size:"large",style:{display:"block",marginTop:10},icon:e.jsx(qe,{}),onClick:()=>T(q),children:"Open/View"})})]})}))]})}),e.jsx(V,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a==null?void 0:a.title}),e.jsx(P,{color:"green",style:{marginLeft:5},children:(k=a==null?void 0:a.syllabusType)==null?void 0:k.name}),e.jsx(P,{color:"red",style:{marginLeft:5},children:a==null?void 0:a.year})]}),width:N?"100vw":"75vw",open:x,onClose:q=>C(q),children:e.jsx("div",{style:{maxHeight:"85vh",overflowY:"auto"},children:e.jsx(Ie,{syllabus:a})})})]})},He=()=>{const{push:t}=J();return s.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsx(ce,{children:e.jsxs(B,{children:[e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/"),children:"Home"})}),e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Syllabus"})}),e.jsx(B.Item,{children:"Syllabuses"})]})})}),e.jsx(Ye,{})]})},{Option:_e}=_,$e=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:n.title,type:"String",required:!0},description:{value:n.description,type:"String",required:!1},year:{value:parseInt(n.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(n.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.syllabus)):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(A,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(c.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(ve,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(_,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(_e,{value:n.id,children:n.name},n.id))})}),e.jsx(c.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(ke,{onChange:n=>{i.setFieldsValue({description:n})}})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:Ve}=_,{TextArea:Ue}=A,We=t=>{var n,u,S,m,l;const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(d.results)},j=async d=>{var x;const{data:f}=await g.custom({url:"",method:"post",meta:{operation:"updateSyllabus",variables:{id:{value:(x=t.syllabus)==null?void 0:x.id,type:"Int",required:!0},title:{value:d.title,type:"String",required:!0},description:{value:d.description,type:"String",required:!1},year:{value:parseInt(d.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(d.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year",{syllabusType:["id","name"]},"isActive","created","updated","canDelete","canEdit","canManage"]}]}});f.success?(h.success(f.message),t.onFinish(f.syllabus)):h.error(f.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:d=>{j(d)},requiredMark:!0,initialValues:{title:(n=t.syllabus)==null?void 0:n.title,description:(u=t.syllabus)==null?void 0:u.description,year:(S=t.syllabus)==null?void 0:S.year,syllabusTypeId:(l=(m=t.syllabus)==null?void 0:m.syllabusType)==null?void 0:l.id},children:[e.jsx(c.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(A,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(c.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(ve,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(_,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(d=>e.jsx(Ve,{value:d.id,children:d.name},d.id))})}),e.jsx(c.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(Ue,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:je}=_,Re=t=>{const[a,o]=s.useState([]),[i,r]=s.useState([]),[j]=c.useForm(),n=async m=>{const{data:l}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m.educationLevelId,type:"Int",required:!0},subjectIds:{value:m.subjectIds,type:"[Int]",required:!0}},fields:["success","message"]}});l.success?(h.success(l.message),j.resetFields(),t.onFinish()):h.error(l.message)},u=async()=>{const{data:m}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(m.results)},S=async m=>{const{data:l}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(l.results)};return s.useEffect(()=>{u()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:j,onFinish:m=>{m.syllabusId=parseInt(t.syllabus.id.toString()),n(m)},requiredMark:!0,children:[e.jsx(c.Item,{name:"educationLevelId",label:"Education Level",rules:[{required:!0,type:"integer"}],children:e.jsx(_,{size:"large",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:m=>{i.length=0,r([]),j.resetFields(["subject"]),S(parseInt(m.toString()))},dropdownStyle:{zIndex:9999},children:a.map(m=>e.jsx(je,{value:parseInt(m.id.toString()),children:m.name},"educationLevel"+m.id))})}),e.jsx(c.Item,{name:"subjectIds",label:"Applicable Subject(s)",rules:[{required:!0,type:"array"}],children:e.jsx(_,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:()=>{},dropdownStyle:{zIndex:9999},children:i.map(m=>e.jsx(je,{value:parseInt(m.id.toString()),children:m.name},"subject"+m.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{style:{color:"red"},size:"large",htmlType:"submit",icon:e.jsx($,{}),children:"Add"})})]})})},Je=t=>{const[a,o]=s.useState([]);c.useForm();const[i]=c.useForm(),r=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectIds:{value:n,type:"[Int]",required:!0}},fields:["success","message"]}});u.success?(h.success(u.message),o(a.filter(S=>!n.includes(parseInt(S.id.toString())))),t.onFinish()):h.error(u.message)},j=async(n="")=>{const{data:u}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{key:{value:n,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(u.results)};return s.useEffect(()=>{j()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(c,{layout:"vertical",form:i,onFinish:n=>{j(n.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subject Found ...",style:{width:"100%"}}),a.map(n=>e.jsx(W,{children:e.jsx(M,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:n.name}),e.jsx("span",{children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r([parseInt(n.id.toString())])})})]})})}))]})})})]})},{TextArea:Qe}=A,Ge=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusTopic",variables:{syllabusId:{value:parseInt(i.syllabusId.toString()),type:"Int",required:!0},subjectId:{value:parseInt(i.subjectId.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(i.educationLevelId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{topic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.topic),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Topic Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Topic Index"}],children:e.jsx(A,{size:"large",placeholder:"Topic Index",autoComplete:"off",allowClear:!0})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(Qe,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:Ze}=A,Xe=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusSubtopic",variables:{topicId:{value:parseInt(i.topicId.toString()),type:"Int",required:!0},content:{value:i.content.trim(),type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{subTopic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.subTopic),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),i.topicId=parseInt(t.topic.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Subtopic Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Subtopic Index"}],children:e.jsx(A,{size:"large",placeholder:"Subtopic Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(Ze,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:et}=A,tt=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusObjective",variables:{subTopicId:{value:parseInt(i.subtopicId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{objective:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.objective),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),i.topicId=parseInt(t.topic.id.toString()),i.subtopicId=parseInt(t.subtopic.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Index"}],children:e.jsx(A,{size:"large",placeholder:"Enter Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(et,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:st}=A,at=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusStrategy",variables:{objectiveId:{value:parseInt(i.objectiveId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{strategy:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.strategy),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.objectiveId=parseInt(t.objective.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Strategy Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Index"}],children:e.jsx(A,{size:"large",placeholder:"Strategy Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Content"}],children:e.jsx(st,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},nt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!O.useBreakpoint().lg,u=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusStrategy",variables:{id:{value:l,type:"Int",required:!1}},fields:["success","message"]}});d.success?(h.success(d.message),S()):h.error(d.message)},S=async(l="")=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{key:{value:l,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(d.results)},m=async l=>{o([l,...a])};return s.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(W,{title:"Strategies",extra:e.jsx(e.Fragment,{children:e.jsx(U,{title:"Add New Strategy",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("p",{style:{textAlign:"center",color:"gray"},children:"No Strategies Found"}),a.length>0&&e.jsx(X,{bordered:!0,dataSource:a,renderItem:l=>e.jsx(X.Item,{actions:[e.jsx(v,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Delete the strategy?",placement:"left",onConfirm:()=>u(l.id),okText:"Yes",cancelText:"No",disabled:!l.canDelete,overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(xe,{}),disabled:!l.canDelete,danger:!0})})],children:l.content})})]}),e.jsx(V,{title:"Create Strategy",width:n?"100vw":"30vw",open:i,onClose:l=>r(l),children:e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{fontSize:18},children:[e.jsx("span",{style:{fontWeight:"bolder"},children:"For Objective:"})," ",t.objective.content]}),e.jsx(at,{objective:t.objective,onFinish:m})]})})]})},{TextArea:it}=A,{Option:lt}=_,rt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusAssessment",variables:{objectiveId:{value:parseInt(n.objectiveId.toString()),type:"Int",required:!0},materialId:{value:n.materialId,type:"Int",required:!1},content:{value:n.content,type:"String",required:!0}},fields:["success","message",{assessment:["id","content",{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.assessment),i.resetFields()):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{n.objectiveId=parseInt(t.objective.id.toString()),j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"materialId",label:"Material",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Material ..."}],children:e.jsx(_,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(lt,{value:parseInt(n.id.toString()),children:n.content},"material"+n.id))})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Assessment Content"}],children:e.jsx(it,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},ct=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!O.useBreakpoint().lg,u=async l=>{o([l,...a])},S=async()=>{const{data:l}=await g.custom({url:"",method:"get",meta:{operation:"objectiveAssessments",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content",{objective:["id","content"]},{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(l.results)},m=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusAssessment",variables:{id:{value:parseInt(l.toString()),type:"Int",required:!0}},fields:["success","message"]}});d.success?(h.success(d.message),S()):h.error(d.message)};return s.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(W,{title:"Assessment",extra:e.jsx(e.Fragment,{children:e.jsx(U,{title:"Add new Assessment",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Assessment"})}),a.length>0&&e.jsx(X,{bordered:!0,dataSource:a,renderItem:l=>e.jsxs(X.Item,{actions:[e.jsx(v,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Are you sure delete this Assessment?",placement:"top",onConfirm:()=>m(l.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(xe,{}),danger:!0})})],children:[l.content,l.material&&e.jsx(U,{title:"Material Content Related",color:"green",placement:"top",children:e.jsx(P,{color:"green",style:{marginLeft:10},children:l.material.content})})]})})]}),e.jsx(V,{title:"Create Assessment",width:n?"100vw":"40vw",open:i,onClose:l=>r(l),children:e.jsx(rt,{objective:t.objective,onFinish:u})})]})},{TextArea:dt}=A,{Option:ot}=_,ut=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusMaterial",variables:{objectiveId:{value:parseInt(n.objectiveId.toString()),type:"Int",required:!0},strategyId:{value:n.strategyId,type:"Int",required:!1},content:{value:n.content,type:"String",required:!0},index:{value:n.index,type:"String",required:!0}},fields:["success","message",{material:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.material),i.resetFields()):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{n.objectiveId=parseInt(t.objective.id.toString()),j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Material Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please Enter Material Index"}],children:e.jsx(A,{size:"large",placeholder:"Enter Matrial Index"})}),e.jsx(c.Item,{name:"strategyId",label:"Strategy",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Stragegy"}],help:"If you want to add a strategy to this material, please choose one. Leave it blank if you don't want to add a strategy",children:e.jsx(_,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},allowClear:!0,children:a.map(n=>e.jsx(ot,{value:parseInt(n.id.toString()),children:n.content},"strategory"+n.id))})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Material Content"}],children:e.jsx(dt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},mt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!O.useBreakpoint().lg,u=async(l="")=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{key:{value:l,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["page","total","hasNext","hasPrev",{results:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(d.results)},S=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusMaterial",variables:{id:{value:parseInt(l.toString()),type:"Int",required:!0}},fields:["success","message"]}});d.success?(h.success(d.message),u()):h.error(d.message)},m=async l=>{o([l,...a])};return s.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(W,{title:"Materials",extra:e.jsx(e.Fragment,{children:e.jsx(U,{title:"Add new Material",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Materials"})}),a.length>0&&e.jsx(X,{bordered:!0,dataSource:a,renderItem:l=>e.jsxs(X.Item,{actions:[e.jsx(v,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Are you sure delete this Material?",onConfirm:()=>S(l.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(xe,{}),danger:!0})})],children:[l.content,l.strategy&&e.jsx(U,{title:"Related Strategy",color:"green",placement:"top",children:e.jsx(P,{color:"green",style:{marginLeft:10},children:l.strategy.content})})]})})]}),e.jsx(V,{title:"Creating Material",width:n?"100vw":"40vw",open:i,onClose:l=>r(l),children:e.jsxs(e.Fragment,{children:[e.jsxs(Se,{severity:"info",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Tip:"})," Material will be used in the Objective below"]}),e.jsxs("p",{children:[e.jsx("b",{children:e.jsx("i",{children:t.objective.content})}),"."]})]}),e.jsx(ut,{objective:t.objective,onFinish:m})]})})]})},{Panel:xt}=ee,yt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!O.useBreakpoint().lg,S=async x=>{o([...a,x])},m=async(x="")=>{const{data:C}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubtopicObjectives",variables:{key:{value:x,type:"String",required:!1},subtopicId:{value:parseInt(t.subtopic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(C.results)},l=async x=>{const{data:C}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusObjective",variables:{id:{value:x,type:"Int",required:!0}},fields:["success","message"]}});C.success?(h.success(C.message),m()):h.error(C.message)},d=()=>e.jsx(c,{layout:"vertical",form:i,onFinish:x=>{m(x.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})}),f=()=>e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Objective"});return s.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Objectives"}),e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:f()}),e.jsx(b,{span:24,children:d()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:16,children:d()}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:f()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subtopic Objective Found ...",style:{width:"100%"}}),e.jsx(ee,{children:a.map(x=>e.jsxs(xt,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsx("span",{children:x.content})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>l(x.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{danger:!0,icon:e.jsx(te,{})})})})}),children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(nt,{objective:x})})}),e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(mt,{objective:x})})}),e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(ct,{objective:x})})})]},"objective-"+x.id))})]})})}),e.jsx(V,{title:"Adding Subtopic Objective",width:u?"100vw":"40vw",open:r,onClose:x=>j(x),children:e.jsx(tt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:t.subtopic,onFinish:S})})]})},{Panel:pt}=ee,ht=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!O.useBreakpoint().lg,S=async x=>{o([...a,x])},m=async(x="")=>{const{data:C}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubtopics",variables:{key:{value:x,type:"String",required:!1},topicId:{value:parseInt(t.topic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(C.results)},l=async x=>{const{data:C}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusSubtopic",variables:{id:{value:x,type:"Int",required:!0}},fields:["success","message"]}});C.success?(h.success(C.message),m()):h.error(C.message)},d=()=>e.jsx(c,{layout:"vertical",form:i,onFinish:x=>{m(x.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})}),f=()=>e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Sub-Topic"});return s.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Subtopics"}),e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:f()}),e.jsx(b,{span:24,children:d()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:16,children:d()}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:f()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No  Subtopic Found ...",style:{width:"100%"}}),e.jsx(ee,{onChange:()=>{},children:a.map(x=>e.jsx(pt,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(P,{children:x.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:x.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>l(x.id),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{danger:!0,icon:e.jsx(te,{})})})})}),children:e.jsx(yt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:x})},"subtopic-"+x.id))})]})})}),e.jsx(V,{title:"Adding Sub Topics",width:u?"100vw":"40vw",open:r,onClose:x=>j(x),children:e.jsx(Xe,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,onFinish:S})})]})},{Panel:gt}=ee,jt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!O.useBreakpoint().lg,S=async d=>{o([...a,d])},m=async(d="")=>{const{data:f}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTopicsNarrow",variables:{key:{value:d,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(f.results)},l=async d=>{const{data:f}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusTopic",variables:{id:{value:d,type:"Int",required:!0}},fields:["success","message"]}});f.success?(h.success(f.message),o(a.filter(x=>x.id!==d))):h.error(f.message)};return s.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[e.jsx(b,{span:16,children:e.jsx(c,{layout:"vertical",form:i,onFinish:d=>{m(d.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Topic"})})]})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subject Topics Found ...",style:{width:"100%"}}),e.jsx(ee,{children:a.map(d=>e.jsx(gt,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(P,{children:d.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:d.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Topic",placement:"left",okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},disabled:!d.canDelete,onConfirm:()=>l(d.id),children:e.jsx(v,{danger:!0,icon:e.jsx(te,{}),disabled:!d.canDelete})})})}),children:e.jsx(ht,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:d})},d.id))})]})})}),e.jsx(V,{title:"Adding Topics",width:u?"100vw":"40vw",open:r,onClose:d=>j(d),children:e.jsx(Ge,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,onFinish:S})})]})},bt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState();c.useForm();const[j]=c.useForm(),[n,u]=s.useState(!1),[S,m]=s.useState(!1),d=!O.useBreakpoint().lg,f=async T=>{r(T),m(!0)},x=async T=>{const{data:Y}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusEducationLevelSubject",variables:{subjectId:{value:parseInt(T.toString()),type:"Int",required:!0},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["success","message"]}});Y.success?(h.success(Y.message),C()):h.error(Y.message)},C=async(T="")=>{const{data:Y}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{key:{value:T,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(Y.results)},K=()=>e.jsx(U,{title:"Add Subjects to "+t.educationLevel.name,placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),size:"small",onClick:()=>u(!0),children:"Subject(s)"})}),N=()=>e.jsxs("h3",{children:[t.educationLevel.name," Subjects"]});return s.useEffect(()=>{C()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(M,{children:[d&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"end"},children:K()}),e.jsx(b,{span:24,children:N()})]}),!d&&e.jsx(e.Fragment,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[N(),K()]})})]})}),e.jsx("div",{children:e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:d?24:12,children:e.jsx(c,{layout:"vertical",form:j,onFinish:T=>{C(T.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsxs("div",{style:{maxHeight:"55vh",minHeight:"55vh",overflowY:"auto"},children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("h3",{children:"No Subjects Found"})}),a.map(T=>e.jsx(W,{children:e.jsx(M,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx("a",{onClick:()=>f(T),children:T.name})}),e.jsxs("span",{children:[e.jsx(U,{title:"Manage Subject Syllabus",placement:"top",color:"green",children:e.jsx(v,{style:{margin:3},icon:e.jsx(be,{}),size:"small",type:"primary",onClick:()=>f(T)})}),e.jsx(H,{title:"Are you sure delete/remove this Subject?",onConfirm:()=>x(T.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(te,{}),size:"small",type:"primary",danger:!0})})]})]})})}))]}),e.jsx(ie,{title:"Adding Subjects",width:d?"100vw":"30vw",anchor:"right",onClose:T=>u(T),open:n,noOverFlow:!0,children:e.jsx(Je,{educationLevel:t.educationLevel,syllabus:t.syllabus,onFinish:C})}),e.jsx(ie,{title:(i==null?void 0:i.name)+" Topics ",width:d?"100vw":"70vw",anchor:"right",onClose:T=>m(T),open:S,noOverFlow:!0,children:e.jsx(jt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:i})})]})},{TabPane:St}=fe,vt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!O.useBreakpoint().lg,u=async()=>{const{data:m}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(m.results)},S=async()=>{u()};return s.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Add New Education Level",placement:"top",color:"green",children:e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>r(!0),children:"Add Education Level"})}),e.jsxs(W,{style:{marginTop:3},children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Education Levels Added"})}),a.length>0&&e.jsx(fe,{defaultActiveKey:"1",tabPosition:"left",children:a.map(m=>e.jsx(St,{tab:m.name,children:e.jsx(bt,{educationLevel:m,syllabus:t.syllabus,randKey:Math.random()})},m.id))})]}),e.jsx(V,{title:"Adding Education Levels",open:i,width:n?"100vw":"40vw",onClose:m=>r(m),children:e.jsx(Re,{randKey:Math.random(),syllabus:t.syllabus,onFinish:S})})]})},ft=t=>{const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0),[m,l]=s.useState(20),[d,f]=s.useState(""),[x,C]=s.useState(!1),[K,N]=s.useState(!0);J();const[T]=c.useForm();c.useForm();const k=!O.useBreakpoint().lg,[q,E]=s.useState(!1),[I,w]=s.useState(!1),[G,se]=s.useState(!1),ne=F=>{o(F),se(!0)},L=F=>{o(F),E(!0)},p=async F=>{const{data:y}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabus",variables:{id:{value:F,type:"Int",required:!0}},fields:["success","message"]}});y.success?(h.success(y.message),r(i.filter(z=>z.id!==F))):h.error(y.message)},D=async(F,y)=>{const{data:z}=await g.custom({url:"",method:"post",meta:{operation:"publishUnpublishSyllabus",variables:{syllabusId:{value:F,type:"Int",required:!0},publish:{value:y,type:"Boolean",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","created","updated","isActive","isPublished","canDelete","canEdit","canManage"]}]}});z.success?(h.success(z.message),r(i.map(R=>R.id===z.syllabus.id?z.syllabus:R))):h.error(z.message)},Q=[{title:"Title",dataIndex:"title",fixed:!0,render:(F,y,z)=>e.jsx("span",{children:e.jsx("a",{children:y.title})})},{title:"Syllabus Type",dataIndex:"syllabusType",render:(F,y,z)=>{var R;return e.jsx("span",{children:e.jsx("a",{children:(R=y==null?void 0:y.syllabusType)==null?void 0:R.name})})}},{title:"Year",dataIndex:"year",render:(F,y,z)=>e.jsx("span",{children:y.year})},{title:"Published",dataIndex:"isPublished",render:(F,y,z)=>e.jsx(e.Fragment,{children:y!=null&&y.isPublished?e.jsx(e.Fragment,{children:e.jsx(H,{title:"Unpublish this syllabus?",onConfirm:()=>D(y.id,!1),okText:"Unpublish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(P,{color:"green",children:"Published"})})})}):e.jsx(H,{title:"Publish this syllabus?",onConfirm:()=>D(y.id,!0),okText:"Publish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(P,{color:"red",children:"Not Published"})})})})},{title:"Description",dataIndex:"description",render:(F,y,z)=>e.jsx("span",{children:y.description})},{title:"Created",dataIndex:"created",render:(F,y,z)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:new Date(y.created).toLocaleString()})})},{title:"Status",dataIndex:"isActive",render:(F,y,z)=>e.jsx("a",{children:y!=null&&y.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(F,y,z)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(U,{title:"Manage Syllabus Education Levels Subjects",placement:"top",color:"green",children:e.jsx(v,{disabled:!(y!=null&&y.canManage),onClick:()=>ne(y),icon:e.jsx(be,{})})}),e.jsx(H,{title:"Are you sure to delete this Syllabus?",onConfirm:()=>p(y==null?void 0:y.id),okText:"Yes",cancelText:"No",disabled:!(y!=null&&y.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(te,{}),disabled:!(y!=null&&y.canDelete)})}),e.jsx(v,{disabled:!(y!=null&&y.canEdit),onClick:()=>L(y),icon:e.jsx(de,{})})]})}],Ce=async F=>{r([F,...i]),w(!1)},Te=async F=>{r(i.map(y=>y.id===F.id?F:y)),E(!1)},oe=async(F,y="",z=20)=>{const{data:R}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:F,type:"Int",required:!0},key:{value:y,type:"String",required:!1},pageSize:{value:z,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});n(R.page),S(R.total),C(R.hasNext),r(R.results),N(!1)},ye=()=>e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>w(!0),children:"Create/Add"}),pe=()=>e.jsx(c,{layout:"vertical",form:T,onFinish:F=>{n(1),i.length=0,oe(1,F.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})});return s.useEffect(()=>{oe(j,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(M,{style:{marginTop:10},children:[k&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:ye()}),e.jsx(b,{span:24,children:pe()})]}),!k&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:12,children:pe()}),e.jsx(b,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:ye()})]})]}),e.jsx("div",{children:e.jsx(me,{loading:K,columns:Q,dataSource:i,scroll:{x:!0},pagination:{onChange:(F,y)=>{l(y),oe(F,d,y)},total:u,pageSize:m,position:["bottomCenter"],showQuickJumper:!0}})}),e.jsx(V,{title:"Creating/Adding Syllabus",width:k?"100vw":"40vw",open:I,onClose:F=>w(F),children:e.jsx($e,{onFinish:Ce,randKey:Math.random()})}),e.jsx(V,{title:"Edit Syllabus",width:k?"100vw":"40vw",open:q,onClose:F=>E(F),children:e.jsx(We,{onFinish:Te,randKey:Math.random(),syllabus:a})}),e.jsx(V,{title:"Syllabus Education Levels Subjects",width:k?"100vw":"80vw",open:G,onClose:F=>se(F),children:e.jsx(vt,{syllabus:a,randKey:Math.random()})})]})},It=()=>{const{push:t}=J();return s.useEffect(()=>{document.title=re.system_name+": Syllabuses"},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsx(ce,{children:e.jsxs(B,{children:[e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/"),children:"Home"})}),e.jsx(B.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Syllabus"})}),e.jsx(B.Item,{children:"Manage Syllabuses"})]})})}),e.jsx(ft,{})]})},Ct=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0),[u,S]=s.useState(20),[m,l]=s.useState(""),[d,f]=s.useState(!1),[x,C]=s.useState(!0);J();const[K]=c.useForm(),T=!O.useBreakpoint().lg,Y=async E=>{const{data:I}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusManager",variables:{userId:{value:E,type:"Int",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});I.success?(h.success(I.message),o(a.filter(w=>parseInt(w.id.toString())!==parseInt(E.toString()))),t.onAdd(I.syllabusManager)):h.error(I.message)},k=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(E,I,w)=>e.jsx("span",{children:e.jsx("a",{children:I.fullName})})},{title:"Email",dataIndex:"email",render:(E,I,w)=>e.jsxs("span",{children:[I.email&&e.jsx(P,{color:"green",children:I.email}),I.phone&&e.jsx(P,{color:"green",children:I.phone})]})},{title:"",dataIndex:"action",render:(E,I,w)=>e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(H,{title:"Are you sure to Add this Syllabus Manager?",placement:"left",onConfirm:()=>Y(parseInt(I==null?void 0:I.id)),okText:"Yes",cancelText:"No",disabled:!(I!=null&&I.canManage),overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx($,{}),disabled:!(I!=null&&I.canManage),danger:!0})})})}],q=async(E,I="",w=20)=>{const{data:G}=await g.custom({url:"",method:"get",meta:{operation:"syllabusManagersToAdd",variables:{page:{value:E,type:"Int",required:!0},key:{value:I,type:"String",required:!1},pageSize:{value:w,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}});r(G.page),n(G.total),f(G.hasNext),o(G.results),C(!1)};return s.useEffect(()=>{q(i)},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:T?24:18,children:e.jsx(c,{layout:"vertical",form:K,onFinish:E=>{r(1),a.length=0,q(1,E.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(me,{loading:x,columns:k,dataSource:a,scroll:{x:!0},pagination:{onChange:(E,I)=>{S(I),q(E,m,I)},total:j,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}})]})},Tt=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0),[u,S]=s.useState(20),[m,l]=s.useState(""),[d,f]=s.useState(!1),[x,C]=s.useState(!0);J();const[K]=c.useForm(),T=!O.useBreakpoint().lg,[Y,k]=s.useState(!1),q=async L=>{const{data:p}=await g.custom({url:"",method:"post",meta:{operation:"removeSyllabusManager",variables:{id:{value:L,type:"Int",required:!0}},fields:["success","message"]}});p.success?(h.success(p.message),o(a.filter(D=>D.id!==L))):h.error(p.message)},E=async(L,p)=>{const{data:D}=await g.custom({url:"",method:"post",meta:{operation:"blockUnblockSyllabusManager",variables:{id:{value:L,type:"Int",required:!0},block:{value:p,type:"Boolean",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});D.success?(h.success(D.message),o(a.map(Q=>Q.id===L?D.syllabusManager:Q))):h.error(D.message)},I=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(L,p,D)=>e.jsx("span",{children:e.jsx("a",{children:p.user.fullName})})},{title:"Email",dataIndex:"email",render:(L,p,D)=>e.jsxs("span",{children:[p.user.email&&e.jsx(P,{color:"green",children:p.user.email}),p.user.phone&&e.jsx(P,{color:"green",children:p.user.phone})]})},{title:"Date Created",dataIndex:"created",render:(L,p,D)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:new Date(p.created).toLocaleString()})})},{title:"Status",dataIndex:"isActive",render:(L,p,D)=>e.jsx("a",{children:p!=null&&p.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(L,p,D)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(H,{title:"Are you sure to delete this Syllabus Manager?",placement:"left",onConfirm:()=>q(parseInt(p==null?void 0:p.id)),onCancel:()=>{},okText:"Yes",cancelText:"No",disabled:!(p!=null&&p.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(v,{style:{marginRight:10},icon:e.jsx(te,{}),disabled:!(p!=null&&p.canDelete),danger:!0})}),p.isActive?e.jsx(H,{title:"Blocking Manager???",placement:"left",onConfirm:()=>E(parseInt(p==null?void 0:p.id),!1),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(Ee,{}),disabled:!(p!=null&&p.canManage),danger:!0})}):e.jsx(H,{title:"Blocking Manager???",placement:"left",onConfirm:()=>E(parseInt(p==null?void 0:p.id),!0),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(Le,{}),disabled:!(p!=null&&p.canEdit),danger:!0})})]})}],w=async(L,p="",D=20)=>{const{data:Q}=await g.custom({url:"",method:"get",meta:{operation:"syllabusManagers",variables:{page:{value:L,type:"Int",required:!0},key:{value:p,type:"String",required:!1},pageSize:{value:D,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});r(Q.page),n(Q.total),f(Q.hasNext),o(Q.results),C(!1)},G=async L=>{o([L,...a])},se=()=>e.jsx(e.Fragment,{children:e.jsx(c,{layout:"vertical",form:K,onFinish:L=>{r(1),a.length=0,w(1,L.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(Z,{}),autoComplete:"off",allowClear:!0})})})}),ne=()=>e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>k(!0),danger:!0,children:"Add Manager"});return s.useEffect(()=>{w(i)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(M,{style:{marginTop:10},children:[T&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"end"},children:ne()}),e.jsx(b,{span:24,children:se()})]}),!T&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:10,children:se()}),e.jsx(b,{span:14,style:{display:"flex",justifyContent:"end"},children:ne()})]})]}),e.jsx(me,{loading:x,columns:I,dataSource:a,scroll:{x:!0},pagination:{onChange:(L,p)=>{S(p),w(L,m,p)},total:j,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}}),e.jsx(ie,{title:"Adding Syllabus Manager",width:T?"100vw":"35vw",anchor:"right",onClose:L=>k(L),open:Y,noOverFlow:!0,children:e.jsx(Ct,{onAdd:G})})]})},Ft=()=>(s.useEffect(()=>{document.title=re.system_name+": Syllabuses Managers"},[]),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("div",{style:{marginBottom:10},children:e.jsx(ce,{children:e.jsxs(B,{children:[e.jsx(B.Item,{children:e.jsx("a",{href:"/",children:"Home"})}),e.jsx(B.Item,{children:e.jsx("a",{href:"/syllabus",children:"Syllabus"})}),e.jsx(B.Item,{children:"Syllabuses Managers"})]})})}),e.jsx(Tt,{})]})),rs=t=>{const{page:a}=t;return a==="SyllabusesManagersPage"?e.jsx(Ft,{}):a==="SyllabusesManagementPage"?e.jsx(It,{}):a==="SyllabusesPage"?e.jsx(He,{}):a==="SyllabusHomePage"?e.jsx(Oe,{}):e.jsx("div",{children:"Page not found ..."})};export{rs as SyllabusPages};
