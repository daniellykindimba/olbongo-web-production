import{eR as zr,h6 as it,h7 as ar,h8 as Fr,h9 as Ir,ha as Nt,hb as Vn,hc as Wr,hd as Yn,he as Gn,hf as qn,hg as $t,hh as Xn,hi as _t,hj as Zn,hk as jr,hl as Jn,hm as Qn,hn as ea,ho as or,hp as ir,hq as Lt,hr as qe,hs as zt,ht as Ft,hu as Hr,hv as ta,hw as ra,hx as Ur,hy as Xe,hz as na,hA as aa,hB as st,hC as Br,hD as oa,hE as Kr,hF as ia,hG as sa,hH as Ue,hI as sr,hJ as la,hK as yt,hL as ca,hM as ua,hN as fa,bH as Y,bG as It,O as m,r as N,hO as da,hP as va,hQ as ha,hR as pa,hS as ma,hT as ga,hU as ya,hV as ba,hW as wa,hX as Vr,ap as D,hY as Ea,eQ as lt,eC as re,eD as ne,eE as X,eF as Z,eN as se,eK as W,H as Sa,hZ as Da,fK as Ta,eH as ce,h_ as Yr,eI as Ee,b7 as Wt,h$ as Oa,i0 as Ma,i1 as Ra,j as F,aA as bt,ak as Ca,ah as Me,g as jt,i2 as Aa,m as Pa,S as xa,k as Be,aF as ue,i as Ke,M as ka}from"./index-d9f4923f.js";import{m as Gr}from"./memoize-one.esm-297ddbcb.js";import"./localeData-7e1ac95b.js";import"./utc-f4268411.js";var Na=function(){},$a=Na;const _a=zr($a);var lr=Object.create,La=function(){function e(){}return function(t){if(!it(t))return{};if(lr)return lr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const qr=La;function za(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Xr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function Ht(e,t,n){t=="__proto__"&&ar?ar(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Fa=Object.prototype,Ia=Fa.hasOwnProperty;function Zr(e,t,n){var r=e[t];(!(Ia.call(e,t)&&Fr(r,n))||n===void 0&&!(t in e))&&Ht(e,t,n)}function Le(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var i=t[o],l=r?r(n[i],e[i],i,n,e):void 0;l===void 0&&(l=e[i]),a?Ht(n,i,l):Zr(n,i,l)}return n}function Wa(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ja=Object.prototype,Ha=ja.hasOwnProperty;function Ua(e){if(!it(e))return Wa(e);var t=Ir(e),n=[];for(var r in e)r=="constructor"&&(t||!Ha.call(e,r))||n.push(r);return n}function ct(e){return Nt(e)?Vn(e,!0):Ua(e)}function Ba(e){var t=e==null?0:e.length;return t?Wr(e,1):[]}function Ka(e){return Yn(Gn(e,void 0,Ba),e+"")}var Va=qn(Object.getPrototypeOf,Object);const ut=Va;var Ya="[object Object]",Ga=Function.prototype,qa=Object.prototype,Jr=Ga.toString,Xa=qa.hasOwnProperty,Za=Jr.call(Object);function Ja(e){if(!$t(e)||Xn(e)!=Ya)return!1;var t=ut(e);if(t===null)return!0;var n=Xa.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Jr.call(n)==Za}function Qa(e,t){return e&&Le(t,_t(t),e)}function eo(e,t){return e&&Le(t,ct(t),e)}var Qr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cr=Qr&&typeof module=="object"&&module&&!module.nodeType&&module,to=cr&&cr.exports===Qr,ur=to?Zn.Buffer:void 0,fr=ur?ur.allocUnsafe:void 0;function ro(e,t){if(t)return e.slice();var n=e.length,r=fr?fr(n):new e.constructor(n);return e.copy(r),r}function no(e,t){return Le(e,jr(e),t)}var ao=Object.getOwnPropertySymbols,oo=ao?function(e){for(var t=[];e;)Qn(t,jr(e)),e=ut(e);return t}:Jn;const en=oo;function io(e,t){return Le(e,en(e),t)}function tn(e){return ea(e,ct,en)}var so=Object.prototype,lo=so.hasOwnProperty;function co(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&lo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ut(e){var t=new e.constructor(e.byteLength);return new or(t).set(new or(e)),t}function uo(e,t){var n=t?Ut(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var fo=/\w*$/;function vo(e){var t=new e.constructor(e.source,fo.exec(e));return t.lastIndex=e.lastIndex,t}var dr=ir?ir.prototype:void 0,vr=dr?dr.valueOf:void 0;function ho(e){return vr?Object(vr.call(e)):{}}function po(e,t){var n=t?Ut(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var mo="[object Boolean]",go="[object Date]",yo="[object Map]",bo="[object Number]",wo="[object RegExp]",Eo="[object Set]",So="[object String]",Do="[object Symbol]",To="[object ArrayBuffer]",Oo="[object DataView]",Mo="[object Float32Array]",Ro="[object Float64Array]",Co="[object Int8Array]",Ao="[object Int16Array]",Po="[object Int32Array]",xo="[object Uint8Array]",ko="[object Uint8ClampedArray]",No="[object Uint16Array]",$o="[object Uint32Array]";function _o(e,t,n){var r=e.constructor;switch(t){case To:return Ut(e);case mo:case go:return new r(+e);case Oo:return uo(e,n);case Mo:case Ro:case Co:case Ao:case Po:case xo:case ko:case No:case $o:return po(e,n);case yo:return new r;case bo:case So:return new r(e);case wo:return vo(e);case Eo:return new r;case Do:return ho(e)}}function Lo(e){return typeof e.constructor=="function"&&!Ir(e)?qr(ut(e)):{}}var zo="[object Map]";function Fo(e){return $t(e)&&Lt(e)==zo}var hr=qe&&qe.isMap,Io=hr?zt(hr):Fo;const Wo=Io;var jo="[object Set]";function Ho(e){return $t(e)&&Lt(e)==jo}var pr=qe&&qe.isSet,Uo=pr?zt(pr):Ho;const Bo=Uo;var Ko=1,Vo=2,Yo=4,rn="[object Arguments]",Go="[object Array]",qo="[object Boolean]",Xo="[object Date]",Zo="[object Error]",nn="[object Function]",Jo="[object GeneratorFunction]",Qo="[object Map]",ei="[object Number]",an="[object Object]",ti="[object RegExp]",ri="[object Set]",ni="[object String]",ai="[object Symbol]",oi="[object WeakMap]",ii="[object ArrayBuffer]",si="[object DataView]",li="[object Float32Array]",ci="[object Float64Array]",ui="[object Int8Array]",fi="[object Int16Array]",di="[object Int32Array]",vi="[object Uint8Array]",hi="[object Uint8ClampedArray]",pi="[object Uint16Array]",mi="[object Uint32Array]",H={};H[rn]=H[Go]=H[ii]=H[si]=H[qo]=H[Xo]=H[li]=H[ci]=H[ui]=H[fi]=H[di]=H[Qo]=H[ei]=H[an]=H[ti]=H[ri]=H[ni]=H[ai]=H[vi]=H[hi]=H[pi]=H[mi]=!0;H[Zo]=H[nn]=H[oi]=!1;function Ve(e,t,n,r,a,o){var s,i=t&Ko,l=t&Vo,c=t&Yo;if(n&&(s=a?n(e,r,a,o):n(e)),s!==void 0)return s;if(!it(e))return e;var u=Ft(e);if(u){if(s=co(e),!i)return za(e,s)}else{var d=Lt(e),f=d==nn||d==Jo;if(Hr(e))return ro(e,i);if(d==an||d==rn||f&&!a){if(s=l||f?{}:Lo(e),!i)return l?io(e,eo(s,e)):no(e,Qa(s,e))}else{if(!H[d])return a?e:{};s=_o(e,d,i)}}o||(o=new ta);var v=o.get(e);if(v)return v;o.set(e,s),Bo(e)?e.forEach(function(g){s.add(Ve(g,t,n,g,e,o))}):Wo(e)&&e.forEach(function(g,y){s.set(y,Ve(g,t,n,y,e,o))});var h=c?l?tn:ra:l?ct:_t,p=u?void 0:h(e);return Xr(p||e,function(g,y){p&&(y=g,g=e[y]),Zr(s,y,Ve(g,t,n,y,e,o))}),s}function gi(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),i=s.length;i--;){var l=s[e?i:++a];if(n(o[l],l,o)===!1)break}return t}}var yi=gi();const bi=yi;function Bt(e,t){return e&&bi(e,t,_t)}function wi(e,t){return function(n,r){if(n==null)return n;if(!Nt(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var Ei=wi(Bt);const Si=Ei;var on=Object.prototype,Di=on.hasOwnProperty,Ti=Ur(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Xe(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=ct(o),i=-1,l=s.length;++i<l;){var c=s[i],u=e[c];(u===void 0||Fr(u,on[c])&&!Di.call(e,c))&&(e[c]=o[c])}return e});const Oi=Ti;var Mi=Math.max;function Ri(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:na(n);return a<0&&(a=Mi(r+a,0)),aa(e,st(t),a)}function Ci(e,t){var n=-1,r=Nt(e)?Array(e.length):[];return Si(e,function(a,o,s){r[++n]=t(a,o,s)}),r}function Ai(e,t){return t.length<2?e:Br(e,oa(t,0,-1))}function Pi(e,t){var n={};return t=st(t),Bt(e,function(r,a,o){Ht(n,a,t(r,a,o))}),n}function xi(e,t){return t=Kr(t,e),e=Ai(e,t),e==null||delete e[ia(sa(t))]}function ki(e){return Ja(e)?void 0:e}var Ni=1,$i=2,_i=4,Li=Ka(function(e,t){var n={};if(e==null)return n;var r=!1;t=Ue(t,function(o){return o=Kr(o,e),r||(r=o.length>1),o}),Le(e,tn(e),n),r&&(n=Ve(n,Ni|$i|_i,ki));for(var a=t.length;a--;)xi(n,t[a]);return n});const zi=Li;function Fi(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Ii(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=sr(e),s=t!==void 0,i=t===null,l=t===t,c=sr(t);if(!i&&!c&&!o&&e>t||o&&s&&l&&!i&&!c||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||i&&n&&a||!s&&a||!l)return-1}return 0}function Wi(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,i=n.length;++r<s;){var l=Ii(a[r],o[r]);if(l){if(r>=i)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}function ji(e,t,n){t.length?t=Ue(t,function(o){return Ft(o)?function(s){return Br(s,o.length===1?o[0]:o)}:o}):t=[la];var r=-1;t=Ue(t,zt(st));var a=Ci(e,function(o,s,i){var l=Ue(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Fi(a,function(o,s){return Wi(o,s,n)})}var Hi=Math.ceil,Ui=Math.max;function Bi(e,t,n,r){for(var a=-1,o=Ui(Hi((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++a]=e,e+=n;return s}function Ki(e){return function(t,n,r){return r&&typeof r!="number"&&Xe(t,n,r)&&(n=r=void 0),t=yt(t),n===void 0?(n=t,t=0):n=yt(n),r=r===void 0?t<n?1:-1:yt(r),Bi(t,n,r,e)}}var Vi=Ki();const Yi=Vi;var Gi=Ur(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Xe(e,t[0],t[1])?t=[]:n>2&&Xe(t[0],t[1],t[2])&&(t=[t[0]]),ji(e,Wr(t,1),[])});const qi=Gi;function Xi(e,t,n){var r=Ft(e),a=r||Hr(e)||ca(e);if(t=st(t),n==null){var o=e&&e.constructor;a?n=r?new o:[]:it(e)?n=ua(o)?qr(ut(e)):{}:n={}}return(a?Xr:Bt)(e,function(s,i,l){return t(n,s,i,l)}),n}var Zi=function(e,t,n,r,a,o,s,i){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,i],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Ji=Zi;const Pe=zr(Ji);var Qi=function(){};function es(e,t){var n={};return Object.keys(e).forEach(function(r){n[Ye(r)]=Qi}),n}function mr(e,t){return e[t]!==void 0}function Ye(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ts(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function sn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ln(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function cn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}sn.__suppressDeprecationWarning=!0;ln.__suppressDeprecationWarning=!0;cn.__suppressDeprecationWarning=!0;function rs(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=sn,t.componentWillReceiveProps=ln),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=cn;var i=t.componentDidUpdate;t.componentDidUpdate=function(c,u,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;i.call(this,c,u,f)}}return e}var ns="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function un(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=ts(e),o=Object.keys(t),s=o.map(Ye);a||!n.length||Pe(!1);var i=function(c){fa(u,c);function u(){for(var f,v=arguments.length,h=new Array(v),p=0;p<v;p++)h[p]=arguments[p];f=c.call.apply(c,[this].concat(h))||this,f.handlers=Object.create(null),o.forEach(function(y){var b=t[y],E=function(S){if(f.props[b]){var T;f._notifying=!0;for(var R=arguments.length,A=new Array(R>1?R-1:0),k=1;k<R;k++)A[k-1]=arguments[k];(T=f.props)[b].apply(T,[S].concat(A)),f._notifying=!1}f.unmounted||f.setState(function(x){var $,P=x.values;return{values:Y(Object.create(null),P,($={},$[y]=S,$))}})};f.handlers[b]=E}),n.length&&(f.attachRef=function(y){f.inner=y});var g=Object.create(null);return o.forEach(function(y){g[y]=f.props[Ye(y)]}),f.state={values:g,prevProps:{}},f}var d=u.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(v,h){var p=h.values,g=h.prevProps,y={values:Y(Object.create(null),p),prevProps:{}};return o.forEach(function(b){y.prevProps[b]=v[b],!mr(v,b)&&mr(g,b)&&(y.values[b]=v[Ye(b)])}),y},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var v=this,h=this.props,p=h.innerRef,g=It(h,["innerRef"]);s.forEach(function(b){delete g[b]});var y={};return o.forEach(function(b){var E=v.props[b];y[b]=E!==void 0?E:v.state.values[b]}),m.createElement(e,Y({},g,y,this.handlers,{ref:p||this.attachRef}))},u}(m.Component);rs(i),i.displayName="Uncontrolled("+r+")",i.propTypes=Y({innerRef:function(){}},es(t)),n.forEach(function(c){i.prototype[c]=function(){var d;return(d=this.inner)[c].apply(d,arguments)}});var l=i;return m.forwardRef&&(l=m.forwardRef(function(c,u){return m.createElement(i,Y({},c,{innerRef:u,__source:{fileName:ns,lineNumber:128},__self:this}))}),l.propTypes=i.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,u,d){return u===void 0&&(u={}),un(c,Y({},t,u),d)},l}function fn(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function q(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=fn(e))&&(r&&(r+=" "),r+=t);return r}var dn="milliseconds",Kt="seconds",Vt="minutes",Yt="hours",xe="day",Ze="week",Gt="month",qt="year",Je="decade",Qe="century",vn={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},as={month:1,year:12,decade:10*12,century:100*12};function os(e){return[31,is(e),31,30,31,30,31,31,30,31,30,31]}function is(e){return e%4===0&&e%100!==0||e%400===0?29:28}function ve(e,t,n){switch(e=new Date(e),n){case dn:case Kt:case Vt:case Yt:case xe:case Ze:return ss(e,t*vn[n]);case Gt:case qt:case Je:case Qe:return ls(e,t*as[n])}throw new TypeError('Invalid units: "'+n+'"')}function ss(e,t){var n=new Date(+e+t);return cs(e,n)}function ls(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=n*12+r+t,s=Math.trunc(o/12),i=o%12,l=Math.min(a,os(s)[i]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(i),c.setDate(l),c}function cs(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*vn.minutes)}function et(e,t,n){return ve(e,-t,n)}function oe(e,t,n){switch(e=new Date(e),t){case Qe:case Je:case qt:e=ps(e,0);case Gt:e=hs(e,1);case Ze:case xe:e=nt(e,0);case Yt:e=ke(e,0);case Vt:e=rt(e,0);case Kt:e=tt(e,0)}return t===Je&&(e=et(e,gr(e)%10,"year")),t===Qe&&(e=et(e,gr(e)%100,"year")),t===Ze&&(e=ms(e,0,n)),e}function Mt(e,t,n){switch(e=new Date(e),e=oe(e,t,n),t){case Qe:case Je:case qt:case Gt:case Ze:e=ve(e,1,t),e=et(e,1,xe),e.setHours(23,59,59,999);break;case xe:e.setHours(23,59,59,999);break;case Yt:case Vt:case Kt:e=ve(e,1,t),e=et(e,1,dn)}return e}var ft=Re(function(e,t){return e===t}),hn=Re(function(e,t){return e!==t}),Xt=Re(function(e,t){return e>t}),dt=Re(function(e,t){return e>=t}),pn=Re(function(e,t){return e<t}),ze=Re(function(e,t){return e<=t});function us(){return new Date(Math.min.apply(Math,arguments))}function fs(){return new Date(Math.max.apply(Math,arguments))}function ds(e,t,n,r){return r=r||"day",(!t||dt(e,t,r))&&(!n||ze(e,n,r))}var tt=me("Milliseconds"),rt=me("Seconds"),ke=me("Minutes"),nt=me("Hours"),vs=me("Day"),hs=me("Date"),ps=me("Month"),gr=me("FullYear");function ms(e,t,n){var r=(vs(e)+7-(n||0))%7;return t===void 0?r:ve(e,t-r,xe)}function me(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Re(e){return function(t,n,r){return e(+oe(t,r),+oe(n,r))}}function Fe(e){return e&&e.ownerDocument||document}function gs(e){var t=Fe(e);return t&&t.defaultView||window}function ys(e,t){return gs(e).getComputedStyle(e,t)}var bs=/([A-Z])/g;function ws(e){return e.replace(bs,"-$1").toLowerCase()}var Es=/^ms-/;function je(e){return ws(e).replace(Es,"-ms-")}var Ss=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ds(e){return!!(e&&Ss.test(e))}function Oe(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(je(t))||ys(e).getPropertyValue(je(t));Object.keys(t).forEach(function(a){var o=t[a];!o&&o!==0?e.style.removeProperty(je(a)):Ds(a)?r+=a+"("+o+") ":n+=je(a)+": "+o+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Ne(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Ts(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Zt(e){return"window"in e&&e.window===e?e:Ts(e)&&e.defaultView||!1}function mn(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var o=Zt(r);if(a===void 0)return o?o[e]:r[t];o?o.scrollTo(o[e],a):r[t]=a}return n}const gn=mn("pageXOffset"),yn=mn("pageYOffset");function Se(e){var t=Fe(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Ne(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+yn(r)-(r.clientTop||0),left:n.left+gn(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var Os=function(t){return!!t&&"offsetParent"in t};function Ms(e){for(var t=Fe(e),n=e&&e.offsetParent;Os(n)&&n.nodeName!=="HTML"&&Oe(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var Rs=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function bn(e,t){var n={top:0,left:0},r;if(Oe(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||Ms(e);r=Se(e),Rs(a)!=="html"&&(n=Se(a));var o=String(Oe(a,"borderTopWidth")||0);n.top+=parseInt(o,10)-yn(a)||0;var s=String(Oe(a,"borderLeftWidth")||0);n.left+=parseInt(s,10)-gn(a)||0}var i=String(Oe(e,"marginTop")||0),l=String(Oe(e,"marginLeft")||0);return Y({},r,{top:r.top-n.top-(parseInt(i,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const Jt=!!(typeof window<"u"&&window.document&&window.document.createElement);var yr=new Date().getTime();function Cs(e){var t=new Date().getTime(),n=Math.max(0,16-(t-yr)),r=setTimeout(e,n);return yr=t,r}var As=["","webkit","moz","o","ms"],Rt="clearTimeout",Ct=Cs,br=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Jt&&As.some(function(e){var t=br(e,"request");return t in window&&(Rt=br(e,"cancel"),Ct=function(r){return window[t](r)}),!!Ct});var wr=function(t){typeof window[Rt]=="function"&&window[Rt](t)},wn=Ct,wt;function Ps(e,t){if(!wt){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;wt=function(o,s){return r.call(o,s)}}return wt(e,t)}var xs=Function.prototype.bind.call(Function.prototype.call,[].slice);function ks(e,t){return xs(e.querySelectorAll(t))}var At=!1,Pt=!1;try{var Et={get passive(){return At=!0},get once(){return Pt=At=!0}};Jt&&(window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,!0))}catch{}function Ns(e,t,n,r){if(r&&typeof r!="boolean"&&!Pt){var a=r.once,o=r.capture,s=n;!Pt&&a&&(s=n.__once||function i(l){this.removeEventListener(t,i,o),n.call(this,l)},n.__once=s),e.addEventListener(t,s,At?r:o)}e.addEventListener(t,n,r)}function $s(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e},[e]),t}function Er(e){const t=$s(e);return N.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Sr(){return N.useState(null)}function _s(){const e=N.useRef(!0),t=N.useRef(()=>e.current);return N.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ls(e){const t=_s();return[e[0],N.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var zs=da({defaultModifiers:[va,ha,pa,ma,ga,ya,ba,wa]}),Dr=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Fs={name:"applyStyles",enabled:!1},Is={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,o=r.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(i){return i.trim()!==o.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,o=a.popper,s=a.reference,i=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&i==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(o.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+o.id:o.id)}}},Ws=[];function js(e,t,n){var r=n===void 0?{}:n,a=r.enabled,o=a===void 0?!0:a,s=r.placement,i=s===void 0?"bottom":s,l=r.strategy,c=l===void 0?"absolute":l,u=r.modifiers,d=u===void 0?Ws:u,f=It(r,["enabled","placement","strategy","modifiers"]),v=N.useRef(),h=N.useCallback(function(){var w;(w=v.current)==null||w.update()},[]),p=N.useCallback(function(){var w;(w=v.current)==null||w.forceUpdate()},[]),g=Ls(N.useState({placement:i,update:h,forceUpdate:p,attributes:{},styles:{popper:Dr(c),arrow:{}}})),y=g[0],b=g[1],E=N.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var T=S.state,R={},A={};Object.keys(T.elements).forEach(function(k){R[k]=T.styles[k],A[k]=T.attributes[k]}),b({state:T,styles:R,attributes:A,update:h,forceUpdate:p,placement:T.placement})}}},[h,p,b]);return N.useEffect(function(){!v.current||!o||v.current.setOptions({placement:i,strategy:c,modifiers:[].concat(d,[E,Fs])})},[c,i,E,o]),N.useEffect(function(){if(!(!o||e==null||t==null))return v.current=zs(e,t,Y({},f,{placement:i,strategy:c,modifiers:[].concat(d,[Is,E])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,b(function(w){return Y({},w,{attributes:{},styles:{popper:Dr(c)}})}))}},[o,e,t]),y}function Hs(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Ae(e,t,n,r){return Ns(e,t,n,r),function(){Hs(e,t,n,r)}}function Us(e){return e&&"setState"in e?Vr.findDOMNode(e):e??null}const Bs=function(e){return Fe(Us(e))};var Ks=27,Tr=function(){};function Vs(e){return e.button===0}function Ys(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Or=function(t){return t&&("current"in t?t.current:t)};function Gs(e,t,n){var r=n===void 0?{}:n,a=r.disabled,o=r.clickTrigger,s=o===void 0?"click":o,i=N.useRef(!1),l=t||Tr,c=N.useCallback(function(f){var v,h=Or(e);_a(!!h,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),i.current=!h||Ys(f)||!Vs(f)||!!Ne(h,(v=f.composedPath==null?void 0:f.composedPath()[0])!=null?v:f.target)},[e]),u=Er(function(f){i.current||l(f)}),d=Er(function(f){f.keyCode===Ks&&l(f)});N.useEffect(function(){if(!(a||e==null)){var f=window.event,v=Bs(Or(e)),h=Ae(v,s,c,!0),p=Ae(v,s,function(b){if(b===f){f=void 0;return}u(b)}),g=Ae(v,"keyup",function(b){if(b===f){f=void 0;return}d(b)}),y=[];return"ontouchstart"in v.documentElement&&(y=[].slice.call(v.body.children).map(function(b){return Ae(b,"mousemove",Tr)})),function(){h(),p(),g(),y.forEach(function(b){return b()})}}},[e,a,s,c,u,d])}function qs(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function Xs(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Zs(e){var t,n,r,a,o=e.enabled,s=e.enableEvents,i=e.placement,l=e.flip,c=e.offset,u=e.fixed,d=e.containerPadding,f=e.arrowElement,v=e.popperConfig,h=v===void 0?{}:v,p=qs(h.modifiers);return Y({},h,{placement:i,enabled:o,strategy:u?"fixed":h.strategy,modifiers:Xs(Y({},p,{eventListeners:{enabled:s},preventOverflow:Y({},p.preventOverflow,{options:d?Y({padding:d},(t=p.preventOverflow)==null?void 0:t.options):(n=p.preventOverflow)==null?void 0:n.options}),offset:{options:Y({offset:c},(r=p.offset)==null?void 0:r.options)},arrow:Y({},p.arrow,{enabled:!!f,options:Y({},(a=p.arrow)==null?void 0:a.options,{element:f})}),flip:Y({enabled:!!l},p.flip)}))})}var He;function En(e){if((!He&&He!==0||e)&&Jt){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),He=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return He}var St=function(t){var n;return typeof document>"u"?null:t==null?Fe().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function Mr(e,t){var n=N.useState(function(){return St(e)}),r=n[0],a=n[1];if(!r){var o=St(e);o&&a(o)}return N.useEffect(function(){t&&r&&t(r)},[t,r]),N.useEffect(function(){var s=St(e);s!==r&&a(s)},[e,r]),r}const Rr=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Js(e,t){const n=Rr(e),r=Rr(t);return a=>{n&&n(a),r&&r(a)}}function Qs(e,t){return N.useMemo(()=>Js(e,t),[e,t])}var Qt=m.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,o=e.containerPadding,s=o===void 0?5:o,i=e.popperConfig,l=i===void 0?{}:i,c=e.transition,u=Sr(),d=u[0],f=u[1],v=Sr(),h=v[0],p=v[1],g=Qs(f,t),y=Mr(e.container),b=Mr(e.target),E=N.useState(!e.show),w=E[0],S=E[1],T=js(b,d,Zs({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:h,popperConfig:l})),R=T.styles,A=T.attributes,k=It(T,["styles","attributes"]);e.show?w&&S(!1):!e.transition&&!w&&S(!0);var x=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},$=e.show||c&&!w;if(Gs(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!$)return null;var P=e.children(Y({},k,{show:!!e.show,props:Y({},A.popper,{style:R.popper,ref:g}),arrowProps:Y({},A.arrow,{style:R.arrow,ref:p})}));if(c){var z=e.onExit,I=e.onExiting,B=e.onEnter,K=e.onEntering,J=e.onEntered;P=m.createElement(c,{in:e.show,appear:!0,onExit:z,onExiting:I,onExited:x,onEnter:B,onEntering:K,onEntered:J},P)}return y?Vr.createPortal(P,y):null});Qt.displayName="Overlay";Qt.propTypes={show:D.bool,placement:D.oneOf(Ea),target:D.any,container:D.any,flip:D.bool,children:D.func.isRequired,containerPadding:D.number,popperConfig:D.object,rootClose:D.bool,rootCloseEvent:D.oneOf(["click","mousedown"]),rootCloseDisabled:D.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var o;return(o=D.func).isRequired.apply(o,[t].concat(r))}return D.func.apply(D,[t].concat(r))},transition:D.elementType,onEnter:D.func,onEntering:D.func,onEntered:D.func,onExit:D.func,onExiting:D.func,onExited:D.func};const el=Qt;function Dt(e,t){var n=Zt(e);return n?n.innerHeight:t?e.clientHeight:Se(e).height}function Sn(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(Ps(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function xt(e,t){var n=Zt(e);return n?n.innerWidth:t?e.clientWidth:Se(e).width}var tl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(lt,function(){return function(n,r,a){r.prototype.isBetween=function(o,s,i,l){var c=a(o),u=a(s),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,i):!this.isBefore(c,i))&&(f?this.isBefore(u,i):!this.isAfter(u,i))||(d?this.isBefore(c,i):!this.isAfter(c,i))&&(f?this.isAfter(u,i):!this.isBefore(u,i))}}})})(tl);var rl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(lt,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})})(rl);var nl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(lt,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})})(nl);var al={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(lt,function(){return function(n,r,a){var o=function(s,i){if(!i||!i.length||i.length===1&&!i[0]||i.length===1&&Array.isArray(i[0])&&!i[0].length)return null;var l;i.length===1&&i[0].length>0&&(i=i[0]),l=(i=i.filter(function(u){return u}))[0];for(var c=1;c<i.length;c+=1)i[c].isValid()&&!i[c][s](l)||(l=i[c]);return l};a.max=function(){var s=[].slice.call(arguments,0);return o("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return o("isBefore",s)}}})})(al);function le(e){return e.children}var ae={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},te={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Cr=Object.keys(te).map(function(e){return te[e]});D.oneOfType([D.string,D.func]);D.any;D.func;D.oneOfType([D.arrayOf(D.oneOf(Cr)),D.objectOf(function(e,t){var n=Cr.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return D.elementType.apply(D,[e,t].concat(a))})]);D.oneOfType([D.oneOf(["overlap","no-overlap"]),D.func]);function U(e,t){e&&e.apply(null,[].concat(t))}var Ar={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Dn(e,t){var n=oe(e,"month");return oe(n,"week",t.startOfWeek())}function Tn(e,t){var n=Mt(e,"month");return Mt(n,"week",t.startOfWeek())}function ol(e,t){for(var n=Dn(e,t),r=Tn(e,t),a=[];ze(n,r,"day");)a.push(n),n=ve(n,1,"day");return a}function kt(e,t){var n=oe(e,t);return ft(n,e)?n:ve(n,1,t)}function il(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];ze(r,t,n);)a.push(r),r=ve(r,1,n);return a}function sl(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=oe(e,"day"),e=nt(e,nt(t)),e=ke(e,ke(t)),e=rt(e,rt(t)),tt(e,tt(t)))}function Pr(e){return nt(e)===0&&ke(e)===0&&rt(e)===0&&tt(e)===0}function $e(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+oe(e,n)/Ar[n]-+oe(t,n)/Ar[n]))}var ll=D.oneOfType([D.string,D.func]);function cl(e,t,n,r,a){var o=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return Pe(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function ul(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function er(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function fl(e,t){return $e(e,t,"minutes")+er(e,t)}function dl(e){var t=oe(e,"day");return $e(t,e,"minutes")+er(t,e)}function vl(e,t){return pn(e,t,"day")}function hl(e,t,n){var r=ft(e,t,"minutes");return r?dt(t,n,"minutes"):Xt(t,n,"minutes")}function pl(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,o=e.evtB,s=o.start,i=o.end,l=o.allDay,c=+oe(n,"day")-+oe(s,"day"),u=$e(n,kt(r,"day"),"day"),d=$e(s,kt(i,"day"),"day");return c||Math.max(d,1)-Math.max(u,1)||!!l-!!a||+n-+s||+r-+i}function ml(e){var t=e.event,n=t.start,r=t.end,a=e.range,o=a.start,s=a.end,i=oe(n,"day"),l=ze(i,s,"day"),c=hn(i,r,"minutes"),u=c?Xt(r,o,"minutes"):dt(r,o,"minutes");return l&&u}function gl(e,t){return ft(e,t,"day")}function yl(e,t){return Pr(e)&&Pr(t)}var bl=Z(function e(t){var n=this;X(this,e),Pe(typeof t.format=="function","date localizer `format(..)` must be a function"),Pe(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||ll,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return cl.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||sl,this.inRange=t.inRange||ds,this.lt=t.lt||pn,this.lte=t.lte||ze,this.gt=t.gt||Xt,this.gte=t.gte||dt,this.eq=t.eq||ft,this.neq=t.neq||hn,this.startOf=t.startOf||oe,this.endOf=t.endOf||Mt,this.add=t.add||ve,this.range=t.range||il,this.diff=t.diff||$e,this.ceil=t.ceil||kt,this.min=t.min||us,this.max=t.max||fs,this.minutes=t.minutes||ke,this.firstVisibleDay=t.firstVisibleDay||Dn,this.lastVisibleDay=t.lastVisibleDay||Tn,this.visibleDays=t.visibleDays||ol,this.getSlotDate=t.getSlotDate||ul,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||er,this.getTotalMin=t.getTotalMin||fl,this.getMinutesFromMidnight=t.getMinutesFromMidnight||dl,this.continuesPrior=t.continuesPrior||vl,this.continuesAfter=t.continuesAfter||hl,this.sortEvents=t.sortEvents||pl,this.inEventRange=t.inEventRange||ml,this.isSameDate=t.isSameDate||gl,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||yl,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function wl(e,t,n,r){var a=W(W({},e.formats),n);return W(W({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,i){return e.format(s,a[i]||i,t)}})}var El={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Sl(e){return W(W({},El),e)}function Dl(e){var t=e.ref,n=e.callback;N.useEffect(function(){var r=function(o){t.current&&!t.current.contains(o.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var Tl=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],On=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.style,s=a.className,i=a.event,l=a.selected,c=a.isAllDay,u=a.onSelect,d=a.onDoubleClick,f=a.onKeyPress,v=a.localizer,h=a.continuesPrior,p=a.continuesAfter,g=a.accessors,y=a.getters,b=a.children,E=a.components,w=E.event,S=E.eventWrapper,T=a.slotStart,R=a.slotEnd,A=se(a,Tl);delete A.resizable;var k=g.title(i),x=g.tooltip(i),$=g.end(i),P=g.start(i),z=g.allDay(i),I=c||z||v.diff(P,v.ceil($,"day"),"day")>1,B=y.eventProp(i,P,$,l),K=m.createElement("div",{className:"rbc-event-content",title:x||void 0},w?m.createElement(w,{event:i,continuesPrior:h,continuesAfter:p,title:k,isAllDay:z,localizer:v,slotStart:T,slotEnd:R}):k);return m.createElement(S,Object.assign({},this.props,{type:"date"}),m.createElement("div",Object.assign({},A,{tabIndex:0,style:W(W({},B.style),o),className:q("rbc-event",s,B.className,{"rbc-selected":l,"rbc-event-allday":I,"rbc-event-continues-prior":h,"rbc-event-continues-after":p}),onClick:function(Q){return u&&u(i,Q)},onDoubleClick:function(Q){return d&&d(i,Q)},onKeyPress:function(Q){return f&&f(i,Q)}}),typeof b=="function"?b(K):K))}}]),n}(m.Component);function vt(e,t){return!e||t==null?!1:Oa(e,t)}function Mn(e,t){var n=e.right-e.left,r=n/t;return r}function Rn(e,t,n,r){var a=Mn(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Ol(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function Ml(e,t,n,r,a){var o=-1,s=-1,i=r-1,l=Mn(t,r),c=Rn(t,n.x,a,r),u=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,v=t.top>e.y,h=n.top<t.top&&n.bottom>t.bottom;return h&&(o=0,s=i),u&&(v?(o=0,s=c):f&&(o=c,s=i)),d&&(o=s=a?i-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<o?o=c:s=c:e.y<n.y?s=i:o=0),{startIdx:o,endIdx:s}}function Rl(e){var t=e.target,n=e.offset,r=e.container,a=e.box,o=Se(t),s=o.top,i=o.left,l=o.width,c=o.height,u=Se(r),d=u.top,f=u.left,v=u.width,h=u.height,p=Se(a),g=p.width,y=p.height,b=d+h,E=f+v,w=s+y,S=i+g,T=n.x,R=n.y,A=w>b?s-y-R:s+R+c,k=S>E?i+T-g+l:i+T;return{topOffset:A,leftOffset:k}}function Cl(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,o=e.components,s=e.localizer,i=e.position,l=e.show,c=e.events,u=e.slotStart,d=e.slotEnd,f=e.onSelect,v=e.onDoubleClick,h=e.onKeyPress,p=e.handleDragStart,g=e.popperRef,y=e.target,b=e.offset;Dl({ref:g,callback:l}),N.useLayoutEffect(function(){var S=Rl({target:y,offset:b,container:t.current,box:g.current}),T=S.topOffset,R=S.leftOffset;g.current.style.top="".concat(T,"px"),g.current.style.left="".concat(R,"px")},[b.x,b.y,y]);var E=i.width,w={minWidth:E+E/2};return m.createElement("div",{style:w,className:"rbc-overlay",ref:g},m.createElement("div",{className:"rbc-overlay-header"},s.format(u,"dayHeaderFormat")),c.map(function(S,T){return m.createElement(On,{key:T,type:"popup",localizer:s,event:S,getters:r,onSelect:f,accessors:n,components:o,onDoubleClick:v,onKeyPress:h,continuesPrior:s.lt(n.end(S),u,"day"),continuesAfter:s.gte(n.start(S),d,"day"),slotStart:u,slotEnd:d,selected:vt(S,a),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return l()}})}))}var Cn=m.forwardRef(function(e,t){return m.createElement(Cl,Object.assign({},e,{popperRef:t}))});Cn.propTypes={accessors:D.object.isRequired,getters:D.object.isRequired,selected:D.object,components:D.object.isRequired,localizer:D.object.isRequired,position:D.object.isRequired,show:D.func.isRequired,events:D.array.isRequired,slotStart:D.instanceOf(Date).isRequired,slotEnd:D.instanceOf(Date),onSelect:D.func,onDoubleClick:D.func,onKeyPress:D.func,handleDragStart:D.func,style:D.object,offset:D.shape({x:D.number,y:D.number})};function Al(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,o=e.accessors,s=e.localizer,i=e.components,l=e.getters,c=e.selected,u=e.handleSelectEvent,d=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,v=e.handleDragStart,h=e.onHide,p=e.overlayDisplay,g=N.useRef(null);if(!a.position)return null;var y=r;isNaN(r)||(y={x:r,y:r});var b=a.position,E=a.events,w=a.date,S=a.end;return m.createElement(el,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:h,target:a.target},function(T){var R=T.props;return m.createElement(Cn,Object.assign({},R,{containerRef:t,ref:g,target:a.target,offset:y,accessors:o,getters:l,selected:c,components:i,localizer:s,position:b,show:p,events:E,slotStart:w,slotEnd:S,onSelect:u,onDoubleClick:d,onKeyPress:f,handleDragStart:v}))})}var tr=m.forwardRef(function(e,t){return m.createElement(Al,Object.assign({},e,{containerRef:t}))});tr.propTypes={popupOffset:D.oneOfType([D.number,D.shape({x:D.number,y:D.number})]),overlay:D.shape({position:D.object,events:D.array,date:D.instanceOf(Date),end:D.instanceOf(Date)}),accessors:D.object.isRequired,localizer:D.object.isRequired,components:D.object.isRequired,getters:D.object.isRequired,selected:D.object,handleSelectEvent:D.func,handleDoubleClickEvent:D.func,handleKeyPressEvent:D.func,handleDragStart:D.func,onHide:D.func,overlayDisplay:D.func};function ee(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ae(n,e,t,{passive:!1})}function Pl(e,t,n){return!e||Ne(e,document.elementFromPoint(t,n))}function xl(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return Sn(a,".rbc-event",e)}function kl(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return Sn(a,".rbc-show-more",e)}function at(e,t){return!!xl(e,t)}function Nl(e,t){return!!kl(e,t)}function Te(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var xr=5,$l=250,An=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,o=n.longPressThreshold,s=o===void 0?250:o,i=n.validContainers,l=i===void 0?[]:i;X(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ee("touchmove",function(){},window),this._removeKeyDownListener=ee("keydown",this._keyListener),this._removeKeyUpListener=ee("keyup",this._keyListener),this._removeDropFromOutsideListener=ee("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ee("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Z(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var s=a.indexOf(r);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s,i=this._listeners[n]||[];return i.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:kr(r,De(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,o=null,s=null,i=null,l=function(f){o=setTimeout(function(){u(),n(f)},a.longPressThreshold),s=ee("touchmove",function(){return u()}),i=ee("touchend",function(){return u()})},c=ee("touchstart",l),u=function(){o&&clearTimeout(o),s&&s(),i&&i(),o=null,s=null,i=null};return r&&l(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=ee("mousedown",function(o){n._removeInitialEventListener(),n._handleInitialEvent(o),n._removeInitialEventListener=ee("mousedown",n._handleInitialEvent)}),a=ee("touchstart",function(o){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Te(n),a=r.pageX,o=r.pageY,s=r.clientX,i=r.clientY;this.emit("dropFromOutside",{x:a,y:o,clientX:s,clientY:i}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Te(n),a=r.pageX,o=r.pageY,s=r.clientX,i=r.clientY;this.emit("dragOverFromOutside",{x:a,y:o,clientX:s,clientY:i}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=Te(n),a=r.clientX,o=r.clientY,s=r.pageX,i=r.pageY,l=this.container(),c,u;if(!(n.which===3||n.button===2||!Pl(l,a,o))){if(!this.globalMouse&&l&&!Ne(l,n.target)){var d=_l(0),f=d.top,v=d.left,h=d.bottom,p=d.right;if(u=De(l),c=kr({top:u.top-f,left:u.left-v,bottom:u.bottom+h,right:u.right+p},{top:i,left:s}),!c)return}var g=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:i,clientX:a,clientY:o});if(g!==!1)switch(n.type){case"mousedown":this._removeEndListener=ee("mouseup",this._handleTerminatingEvent),this._onEscListener=ee("keydown",this._handleTerminatingEvent),this._removeMoveListener=ee("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=ee("touchend",this._handleTerminatingEvent),this._removeMoveListener=ee("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(n){var r=Te(n),a=r.pageX,o=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var s=!this.container||Ne(this.container(),n.target),i=this._isWithinValidContainer(n),l=this._selectRect,c=this.isClick(a,o);return this._initialEventData=null,n.key==="Escape"||!i?this.emit("reset"):c&&s?this._handleClickEvent(n):c?this.emit("reset"):this.emit("select",l)}}},{key:"_handleClickEvent",value:function(n){var r=Te(n),a=r.pageX,o=r.pageY,s=r.clientX,i=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<$l?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:o,clientX:s,clientY:i})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:o,clientX:s,clientY:i}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,o=r.y,s=Te(n),i=s.pageX,l=s.pageY,c=Math.abs(a-i),u=Math.abs(o-l),d=Math.min(i,a),f=Math.min(l,o),v=this.selecting;this.isClick(i,l)&&!v&&!(c||u)||(this.selecting=!0,this._selectRect={top:f,left:d,x:i,y:l,right:d+c,bottom:f+u},v||this.emit("selectStart",this._initialEventData),this.isClick(i,l)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,o=a.x,s=a.y,i=a.isTouch;return!i&&Math.abs(n-o)<=xr&&Math.abs(r-s)<=xr}}]),e}();function _l(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Wt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function kr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=De(e),a=r.top,o=r.left,s=r.right,i=s===void 0?o:s,l=r.bottom,c=l===void 0?a:l,u=De(t),d=u.top,f=u.left,v=u.right,h=v===void 0?f:v,p=u.bottom,g=p===void 0?d:p;return!(c-n<d||a+n>g||i-n<f||o+n>h)}function De(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+Nr("left"),r=t.top+Nr("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function Nr(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Ll=function(e){re(n,e);var t=ne(n);function n(r,a){var o;return X(this,n),o=t.call(this,r,a),o.state={selecting:!1},o.containerRef=N.createRef(),o}return Z(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,o=a.range,s=a.getNow,i=a.getters,l=a.date,c=a.components.dateCellWrapper,u=a.localizer,d=this.state,f=d.selecting,v=d.startIdx,h=d.endIdx,p=s();return m.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(g,y){var b=f&&y>=v&&y<=h,E=i.dayProp(g),w=E.className,S=E.style;return m.createElement(c,{key:y,value:g,range:o},m.createElement("div",{style:S,className:q("rbc-day-bg",w,b&&"rbc-selected-cell",u.isSameDate(g,p)&&"rbc-today",l&&u.neq(l,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,o=this.containerRef.current,s=this._selector=new An(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,u){if(!at(o,c)&&!Nl(o,c)){var d=De(o),f=a.props,v=f.range,h=f.rtl;if(Ol(d,c)){var p=Rn(d,c.x,h,v.length);a._selectSlot({startIdx:p,endIdx:p,action:u,box:c})}}a._initial={},a.setState({selecting:!1})};s.on("selecting",function(l){var c=a.props,u=c.range,d=c.rtl,f=-1,v=-1;if(a.state.selecting||(U(a.props.onSelectStart,[l]),a._initial={x:l.x,y:l.y}),s.isSelected(o)){var h=De(o),p=Ml(a._initial,h,l,u.length,d);f=p.startIdx,v=p.endIdx}a.setState({selecting:!0,startIdx:f,endIdx:v})}),s.on("beforeSelect",function(l){if(a.props.selectable==="ignoreEvents")return!at(a.containerRef.current,l)}),s.on("click",function(l){return i(l,"click")}),s.on("doubleClick",function(l){return i(l,"doubleClick")}),s.on("select",function(l){a._selectSlot(W(W({},a.state),{},{action:"select",bounds:l})),a._initial={},a.setState({selecting:!1}),U(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var o=a.endIdx,s=a.startIdx,i=a.action,l=a.bounds,c=a.box;o!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:o,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}]),n}(m.Component),ie={propTypes:{slotMetrics:D.object.isRequired,selected:D.object,isAllDay:D.bool,accessors:D.object.isRequired,localizer:D.object.isRequired,components:D.object.isRequired,getters:D.object.isRequired,onSelect:D.func,onDoubleClick:D.func,onKeyPress:D.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,o=t.getters,s=t.onSelect,i=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,d=t.components,f=t.resizable,v=u.continuesPrior(n),h=u.continuesAfter(n);return m.createElement(On,{event:n,getters:o,localizer:c,accessors:a,components:d,onSelect:s,onDoubleClick:i,onKeyPress:l,continuesPrior:v,continuesAfter:h,slotStart:u.first,slotEnd:u.last,selected:vt(n,r),resizable:f})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(n)/t*100+"%";return m.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},a)}},Pn=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this,o=this.props,s=o.segments,i=o.slotMetrics.slots,l=o.className,c=1;return m.createElement("div",{className:q(l,"rbc-row")},s.reduce(function(u,d,f){var v=d.event,h=d.left,p=d.right,g=d.span,y="_lvl_"+f,b=h-c,E=ie.renderEvent(a.props,v);return b&&u.push(ie.renderSpan(i,b,"".concat(y,"_gap"))),u.push(ie.renderSpan(i,g,y,E)),c=p+1,u},[]))}}]),n}(m.Component);Pn.defaultProps=W({},ie.defaultProps);function xn(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function zl(e,t,n,r){var a=xn({dateRange:t,localizer:r}),o=a.first,s=a.last,i=r.diff(o,s,"day"),l=r.max(r.startOf(n.start(e),"day"),o),c=r.min(r.ceil(n.end(e),"day"),s),u=Ri(t,function(f){return r.isSameDate(f,l)}),d=r.diff(l,c,"day");return d=Math.min(d,i),d=Math.max(d-r.segmentOffset,1),{event:e,span:d,left:u+1,right:Math.max(u+d,1)}}function kn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,o=[],s=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<o.length&&Fl(a,o[r]);r++);r>=t?s.push(a):(o[r]||(o[r]=[])).push(a)}for(n=0;n<o.length;n++)o[n].sort(function(i,l){return i.left-l.left});return{levels:o,extra:s}}function _e(e,t,n,r,a){var o={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:o,range:s})}function Fl(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function Nn(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:o})}var $n=function(t,n){return t.left<=n&&t.right>=n},$r=function(t,n){return t.filter(function(r){return $n(r,n)}).length},_n=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){for(var a=this.props,o=a.segments,s=a.slotMetrics.slots,i=kn(o).levels[0],l=1,c=1,u=[];l<=s;){var d="_lvl_"+l,f=i.filter(function(E){return $n(E,l)})[0]||{},v=f.event,h=f.left,p=f.right,g=f.span;if(!v){l++;continue}var y=Math.max(0,h-c);if(this.canRenderSlotEvent(h,g)){var b=ie.renderEvent(this.props,v);y&&u.push(ie.renderSpan(s,y,d+"_gap")),u.push(ie.renderSpan(s,g,d,b)),c=l=p+1}else y&&u.push(ie.renderSpan(s,y,d+"_gap")),u.push(ie.renderSpan(s,1,d,this.renderShowMore(o,l))),c=l=l+1}return m.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(a,o){var s=this.props.segments;return Yi(a,a+o).every(function(i){var l=$r(s,i);return l===1})}},{key:"renderShowMore",value:function(a,o){var s=this,i=this.props.localizer,l=$r(a,o);return l?m.createElement("button",{type:"button",key:"sm_"+o,className:q("rbc-button-link","rbc-show-more"),onClick:function(u){return s.showMore(o,u)}},i.messages.showMore(l)):!1}},{key:"showMore",value:function(a,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(a,o.target)}}]),n}(m.Component);_n.defaultProps=W({},ie.defaultProps);var Il=function(t){var n=t.children;return m.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Wl=function(t,n){return t.left<=n&&t.right>=n},jl=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function Ln(){return Gr(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,o=e.accessors,s=e.localizer,i=xn({dateRange:t,localizer:s}),l=i.first,c=i.last,u=n.map(function(p){return zl(p,t,o,s)}),d=kn(u,Math.max(r-1,1)),f=d.levels,v=d.extra,h=v.length>0?a-1:a;f.length<h;)f.push([]);return{first:l,last:c,levels:f,extra:v,range:t,slots:t.length,clone:function(g){var y=Ln();return y(W(W({},e),g))},getDateForSlot:function(g){return t[g]},getSlotForDate:function(g){return t.find(function(y){return s.isSameDate(y,g)})},getEventsForSlot:function(g){return u.filter(function(y){return Wl(y,g)}).map(function(y){return y.event})},continuesPrior:function(g){return s.continuesPrior(o.start(g),l)},continuesAfter:function(g){var y=o.start(g),b=o.end(g);return s.continuesAfter(y,b,c)}}},jl)}var ot=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.handleSelectSlot=function(i){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),v=ks(r.containerRef.current,".rbc-row-bg")[0],h;v&&(h=v.children[i-1]);var p=f.getEventsForSlot(i);d(p,u[i-1],h,i,l)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:i,key:"header_".concat(l),className:q("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,l=i.className,c=i.range,u=i.renderHeader,d=i.showAllEvents;return m.createElement("div",{className:l,ref:r.containerRef},m.createElement("div",{className:q("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&m.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),m.createElement("div",{className:"rbc-row",ref:r.eventRowRef},m.createElement("div",{className:"rbc-row-segment"},m.createElement("div",{className:"rbc-event"},m.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=N.createRef(),r.headingRowRef=N.createRef(),r.eventRowRef=N.createRef(),r.slotMetrics=Ln(),r}return Z(n,[{key:"getRowLimit",value:function(){var a,o=Dt(this.eventRowRef.current),s=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?Dt(this.headingRowRef.current):0,i=Dt(this.containerRef.current)-s;return Math.max(Math.floor(i/o),1)}},{key:"render",value:function(){var a=this.props,o=a.date,s=a.rtl,i=a.range,l=a.className,c=a.selected,u=a.selectable,d=a.renderForMeasure,f=a.accessors,v=a.getters,h=a.components,p=a.getNow,g=a.renderHeader,y=a.onSelect,b=a.localizer,E=a.onSelectStart,w=a.onSelectEnd,S=a.onDoubleClick,T=a.onKeyPress,R=a.resourceId,A=a.longPressThreshold,k=a.isAllDay,x=a.resizable,$=a.showAllEvents;if(d)return this.renderDummy();var P=this.slotMetrics(this.props),z=P.levels,I=P.extra,B=$?Il:le,K=h.weekWrapper,J={selected:c,accessors:f,getters:v,localizer:b,components:h,onSelect:y,onDoubleClick:S,onKeyPress:T,resourceId:R,slotMetrics:P,resizable:x};return m.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},m.createElement(Ll,{localizer:b,date:o,getNow:p,rtl:s,range:i,selectable:u,container:this.getContainer,getters:v,onSelectStart:E,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:A,resourceId:R}),m.createElement("div",{className:q("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},g&&m.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),m.createElement(B,null,m.createElement(K,Object.assign({isAllDay:k},J,{rtl:this.props.rtl}),z.map(function(Q,ge){return m.createElement(Pn,Object.assign({key:ge,segments:Q},J))}),!!I.length&&m.createElement(_n,Object.assign({segments:I,onShowMore:this.handleShowMore},J))))))}}]),n}(m.Component);ot.defaultProps={minRows:0,maxRows:1/0};var zn=function(t){var n=t.label;return m.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Hl=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?m.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},n):m.createElement("span",null,n)},Ul=["date","className"],Bl=function(t,n,r,a,o){return t.filter(function(s){return _e(s,n,r,a,o)})},ht=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,v=c.getNow,h=c.selected,p=c.date,g=c.localizer,y=c.longPressThreshold,b=c.accessors,E=c.getters,w=c.showAllEvents,S=r.state,T=S.needLimitMeasure,R=S.rowLimit,A=Bl(Sa(u),i[0],i[i.length-1],b,g);return A.sort(function(k,x){return Nn(k,x,b,g)}),m.createElement(ot,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:v,date:p,range:i,events:A,maxRows:w?1/0:R,selected:h,selectable:f,components:d,accessors:b,getters:E,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:T,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:y,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:w})},r.readerDateHeading=function(i){var l=i.date,c=i.className,u=se(i,Ul),d=r.props,f=d.date,v=d.getDrilldownView,h=d.localizer,p=h.neq(l,f,"month"),g=h.isSameDate(l,f),y=v(l),b=h.format(l,"dateFormat"),E=r.props.components.dateHeader||Hl;return m.createElement("div",Object.assign({},u,{className:q(c,p&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),m.createElement(E,{label:b,date:l,drilldownView:y,isOffRange:p,onDrillDown:function(S){return r.handleHeadingClick(l,y,S)}}))},r.handleSelectSlot=function(i,l){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(i,l,c){c.preventDefault(),r.clearSelection(),U(r.props.onDrillDown,[i,l])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onKeyPressEvent,l)},r.handleShowMore=function(i,l,c,u,d){var f=r.props,v=f.popup,h=f.onDrillDown,p=f.onShowMore,g=f.getDrilldownView,y=f.doShowMoreDrillDown;if(r.clearSelection(),v){var b=bn(c,r.containerRef.current);r.setState({overlay:{date:l,events:i,position:b,target:d}})}else y&&U(h,[l,g(l)||te.DAY]);U(p,[i,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=N.createRef(),r.slotRowRef=N.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Z(n,[{key:"componentDidMount",value:function(){var a=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||wn(function(){o=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,o=a.date,s=a.localizer,i=a.className,l=s.visibleDays(o,s),c=Da(l,7);return this._weekCount=c.length,m.createElement("div",{className:q("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},m.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var o=this.props,s=o.localizer,i=o.components,l=a[0],c=a[a.length-1],u=i.header||zn;return s.range(l,c,"day").map(function(d,f){return m.createElement("div",{key:"header_"+f,className:"rbc-header"},m.createElement(u,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,o,s=this,i=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,v=l.selected,h=l.popupOffset,p=l.handleDragStart,g=function(){return s.setState({overlay:null})};return m.createElement(tr,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:v,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(l,c){return+l-+c});var s=new Date(o[0]),i=new Date(o[o.length-1]);i.setDate(o[o.length-1].getDate()+1),U(this.props.onSelectSlot,{slots:o,start:s,end:i,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,o){var s=a.date,i=a.localizer;return{date:s,needLimitMeasure:i.neq(s,o.date,"month")}}}]),n}(m.Component);ht.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};ht.navigate=function(e,t,n){var r=n.localizer;switch(t){case ae.PREVIOUS:return r.add(e,-1,"month");case ae.NEXT:return r.add(e,1,"month");default:return e}};ht.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var _r=function(t){var n=t.min,r=t.max,a=t.step,o=t.slots,s=t.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(a,"-").concat(o)};function rr(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,o=e.localizer,s=_r({start:t,end:n,step:r,timeslots:a,localizer:o}),i=1+o.getTotalMin(t,n),l=o.getMinutesFromMidnight(t),c=Math.ceil((i-1)/(r*a)),u=c*a,d=new Array(c),f=new Array(u),v=0;v<c;v++){d[v]=new Array(a);for(var h=0;h<a;h++){var p=v*a+h,g=p*r;f[p]=d[v][h]=o.getSlotDate(t,l,g)}}var y=f.length*r;f.push(o.getSlotDate(t,l,y));function b(E){var w=o.diff(t,E,"minutes")+o.getDstOffset(t,E);return Math.min(w,i)}return{groups:d,update:function(w){return _r(w)!==s?rr(w):this},dateIsInGroup:function(w,S){var T=d[S+1];return o.inRange(w,d[S][0],T?T[0]:n,"minutes")},nextSlot:function(w){var S=f[Math.min(f.indexOf(w)+1,f.length-1)];return S===w&&(S=o.add(w,r,"minutes")),S},closestSlotToPosition:function(w){var S=Math.min(f.length-1,Math.max(0,Math.floor(w*u)));return f[S]},closestSlotFromPoint:function(w,S){var T=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((w.y-S.top)/T)},closestSlotFromDate:function(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(w,t,"minutes"))return f[0];if(o.gt(w,n,"minutes"))return f[f.length-1];var T=o.diff(t,w,"minutes");return f[(T-T%r)/r+S]},startsBeforeDay:function(w){return o.lt(w,t,"day")},startsAfterDay:function(w){return o.gt(w,n,"day")},startsBefore:function(w){return o.lt(o.merge(t,w),t,"minutes")},startsAfter:function(w){return o.gt(o.merge(n,w),n,"minutes")},getRange:function(w,S,T,R){T||(w=o.min(n,o.max(t,w))),R||(S=o.min(n,o.max(t,S)));var A=b(w),k=b(S),x=k>r*u&&!o.eq(n,S)?(A-r)/(r*u)*100:A/(r*u)*100;return{top:x,height:k/(r*u)*100-x,start:b(w),startDate:w,end:b(S),endDate:S}},getCurrentTimePosition:function(w){var S=b(w),T=S/(r*u)*100;return T}}}var Kl=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;X(this,e);var o=a.getRange(r.start(t),r.end(t)),s=o.start,i=o.startDate,l=o.end,c=o.endDate,u=o.top,d=o.height;this.start=s,this.end=l,this.startMs=+i,this.endMs=+c,this.top=u,this.height=d,this.data=t}return Z(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,o){return Math.max(a,o.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,o=a.indexOf(this);return o===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,o=n._width,s=r.indexOf(this)+1;return a+s*o}}]),e}();function Vl(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Yl(e){for(var t=qi(e,["startMs",function(i){return-i.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var o=t[a];if(!(r.endMs>o.startMs)){if(a>0){var s=t.splice(a,1)[0];n.push(s)}break}}}return n}function Fn(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=t.map(function(d){return new Kl(d,{slotMetrics:r,accessors:a})}),s=Yl(o),i=[],l=function(){var f=s[c],v=i.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<n});if(!v)return f.rows=[],i.push(f),"continue";f.container=v;for(var h=null,p=v.rows.length-1;!h&&p>=0;p--)Vl(v.rows[p],f,n)&&(h=v.rows[p]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],v.rows.push(f))},c=0;c<s.length;c++)var u=l();return s.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function In(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=In(e.friends[r],t,n);t=t>a?t:a}return t}function Gl(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=Fn({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});o.sort(function(B,K){return B=B.style,K=K.style,B.top!==K.top?B.top>K.top?1:-1:B.top+B.height<K.top+K.height?1:-1});for(var s=0;s<o.length;++s)o[s].friends=[],delete o[s].style.left,delete o[s].style.left,delete o[s].idx,delete o[s].size;for(var i=0;i<o.length-1;++i)for(var l=o[i],c=l.style.top,u=l.style.top+l.style.height,d=i+1;d<o.length;++d){var f=o[d],v=f.style.top,h=f.style.top+f.style.height;(v>=c&&h<=u||h>c&&h<=u||v>=c&&v<u)&&(l.friends.push(f),f.friends.push(l))}for(var p=0;p<o.length;++p){for(var g=o[p],y=[],b=0;b<100;++b)y.push(1);for(var E=0;E<g.friends.length;++E)g.friends[E].idx!==void 0&&(y[g.friends[E].idx]=0);g.idx=y.indexOf(1)}for(var w=0;w<o.length;++w){var S=0;if(!o[w].size){var T=[],R=In(o[w],0,T);S=100/(R+1),o[w].size=S;for(var A=0;A<T.length;++A)T[A].size=S}}for(var k=0;k<o.length;++k){var x=o[k];x.style.left=x.idx*x.size;for(var $=0,P=0;P<x.friends.length;++P){var z=x.friends[P].idx;$=$>z?$:z}$<=x.idx&&(x.size=100-x.idx*x.size);var I=x.idx===0?0:3;x.style.width="calc(".concat(x.size,"% - ").concat(I,"px)"),x.style.height="calc(".concat(x.style.height,"% - 2px)"),x.style.xOffset="calc(".concat(x.style.left,"% + ").concat(I,"px)")}return o}var Lr={overlap:Fn,"no-overlap":Gl};function ql(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Xl(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in Lr&&(n=Lr[t]),ql(n)?n.apply(this,arguments):[]}var Wn=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.renderSlot,s=a.resource,i=a.group,l=a.getters,c=a.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?le:d,v=l?l.slotGroupProp(i):{};return m.createElement("div",Object.assign({className:"rbc-timeslot-group"},v),i.map(function(h,p){var g=l?l.slotProp(h,s):{};return m.createElement(f,{key:p,value:h,resource:s},m.createElement("div",Object.assign({},g,{className:q("rbc-time-slot",g.className)}),o&&o(h,p)))}))}}]),n}(N.Component);function be(e){return typeof e=="string"?e:e+"%"}function Zl(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,o=e.rtl,s=e.selected,i=e.label,l=e.continuesPrior,c=e.continuesAfter,u=e.getters,d=e.onClick,f=e.onDoubleClick,v=e.isBackgroundEvent,h=e.onKeyPress,p=e.components,g=p.event,y=p.eventWrapper,b=a.title(r),E=a.tooltip(r),w=a.end(r),S=a.start(r),T=u.eventProp(r,S,w,s),R=t.height,A=t.top,k=t.width,x=t.xOffset,$=[m.createElement("div",{key:"1",className:"rbc-event-label"},i),m.createElement("div",{key:"2",className:"rbc-event-content"},g?m.createElement(g,{event:r,title:b}):b)],P=v?W(W({},T.style),{},Ee({top:be(A),height:be(R),width:"calc(".concat(k," + 10px)")},o?"right":"left",be(Math.max(0,x)))):W(W({},T.style),{},Ee({top:be(A),width:be(k),height:be(R)},o?"right":"left",be(x)));return m.createElement(y,Object.assign({type:"time"},e),m.createElement("div",{onClick:d,onDoubleClick:f,style:P,onKeyPress:h,title:E?(typeof i=="string"?i+": ":"")+E:void 0,className:q(v?"rbc-background-event":"rbc-event",n,T.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},$))}var Jl=function(t){var n=t.children,r=t.className,a=t.style,o=t.innerRef;return m.createElement("div",{className:r,style:a,ref:o},n)},Ql=m.forwardRef(function(e,t){return m.createElement(Jl,Object.assign({},e,{innerRef:t}))}),ec=["dayProp"],tc=["eventContainerWrapper"],jn=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,v=u.accessors,h=u.localizer,p=u.getters,g=u.components,y=u.step,b=u.timeslots,E=u.dayLayoutAlgorithm,w=u.resizable,S=Ta(r),T=S.slotMetrics,R=h.messages,A=Xl({events:l,accessors:v,slotMetrics:T,minimumStartDifference:Math.ceil(y*b/2),dayLayoutAlgorithm:E});return A.map(function(k,x){var $=k.event,P=k.style,z=v.end($),I=v.start($),B="eventTimeRangeFormat",K,J=T.startsBeforeDay(I),Q=T.startsAfterDay(z);J?B="eventTimeRangeEndFormat":Q&&(B="eventTimeRangeStartFormat"),J&&Q?K=R.allDay:K=h.format({start:I,end:z},B);var ge=J||T.startsBefore(I),O=Q||T.startsAfter(z);return m.createElement(Zl,{style:P,event:$,label:K,key:"evt_"+x,getters:p,rtl:d,components:g,continuesPrior:ge,continuesAfter:O,accessors:v,resource:r.props.resource,selected:vt($,f),onClick:function(C){return r._select(W(W({},$),{},{sourceResource:r.props.resource}),C)},onDoubleClick:function(C){return r._doubleClick($,C)},isBackgroundEvent:c,onKeyPress:function(C){return r._keyPress($,C)},resizable:w})})},r._selectable=function(){var i=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new An(function(){return i},{longPressThreshold:c}),f=function(g){var y=r.props.onSelecting,b=r.state||{},E=v(g),w=E.startDate,S=E.endDate;y&&(u.eq(b.startDate,w,"minutes")&&u.eq(b.endDate,S,"minutes")||y({start:w,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==E.start||r.state.end!==E.end||r.state.selecting!==E.selecting)&&r.setState(E)},v=function(g){var y=r.slotMetrics.closestSlotFromPoint(g,De(i));r.state.selecting||(r._initialSlot=y);var b=r._initialSlot;u.lte(b,y)?y=r.slotMetrics.nextSlot(y):u.gt(b,y)&&(b=r.slotMetrics.nextSlot(b));var E=r.slotMetrics.getRange(u.min(b,y),u.max(b,y));return W(W({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},h=function(g,y){if(!at(r.containerRef.current,g)){var b=v(g),E=b.startDate,w=b.endDate;r._selectSlot({startDate:E,endDate:w,action:y,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(p){if(r.props.selectable==="ignoreEvents")return!at(r.containerRef.current,p)}),d.on("click",function(p){return h(p,"click")}),d.on("doubleClick",function(p){return h(p,"doubleClick")}),d.on("select",function(p){r.state.selecting&&(r._selectSlot(W(W({},r.state),{},{action:"select",bounds:p})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,u=i.action,d=i.bounds,f=i.box,v=l,h=[];r.props.localizer.lte(v,c);)h.push(v),v=new Date(+v+r.props.step*60*1e3);U(r.props.onSelectSlot,{slots:h,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onKeyPressEvent,l)},r.slotMetrics=rr(r.props),r.containerRef=N.createRef(),r}return Z(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){a.selectable&&!this.props.selectable&&this._selectable(),!a.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(a)}},{key:"componentDidUpdate",value:function(a,o){var s=this.props,i=s.getNow,l=s.isNow,c=s.localizer,u=s.date,d=s.min,f=s.max,v=c.neq(a.getNow(),i(),"minutes");if(a.isNow!==l||v){if(this.clearTimeIndicatorInterval(),l){var h=!v&&c.eq(a.date,u,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else l&&(c.neq(a.min,d,"minutes")||c.neq(a.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,o=a.min,s=a.max,i=a.getNow,l=i();if(l>=o&&l<=s){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,o=a.date,s=a.max,i=a.rtl,l=a.isNow,c=a.resource,u=a.accessors,d=a.localizer,f=a.getters,v=f.dayProp,h=se(f,ec),p=a.components,g=p.eventContainerWrapper,y=se(p,tc),b=this.slotMetrics,E=this.state,w=E.selecting,S=E.top,T=E.height,R=E.startDate,A=E.endDate,k={start:R,end:A},x=v(s),$=x.className,P=x.style,z=y.dayColumnWrapper||Ql;return m.createElement(z,{ref:this.containerRef,date:o,style:P,className:q($,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:b},b.groups.map(function(I,B){return m.createElement(Wn,{key:B,group:I,resource:c,getters:h,components:y})}),m.createElement(g,{localizer:d,resource:c,accessors:u,getters:h,components:y,slotMetrics:b},m.createElement("div",{className:q("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&m.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:T}},m.createElement("span",null,d.format(k,"selectRangeFormat"))),l&&this.intervalTriggered&&m.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),n}(m.Component);jn.defaultProps={dragThroughEvents:!0,timeslots:2};function rc(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var nc=function(t){var n=t.min,r=t.max,a=t.timeslots,o=t.step,s=t.localizer,i=t.getNow,l=t.resource,c=t.components,u=t.getters,d=t.gutterRef,f=c.timeGutterWrapper,v=N.useMemo(function(){return rc({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),h=v.start,p=v.end,g=N.useState(rr({min:h,max:p,timeslots:a,step:o,localizer:s})),y=ce(g,2),b=y[0],E=y[1];N.useEffect(function(){b&&E(b.update({min:h,max:p,timeslots:a,step:o,localizer:s}))},[h==null?void 0:h.toISOString(),p==null?void 0:p.toISOString(),a,o]);var w=N.useCallback(function(S,T){if(T)return null;var R=b.dateIsInGroup(i(),T);return m.createElement("span",{className:q("rbc-label",R&&"rbc-now")},s.format(S,"timeGutterFormat"))},[b,s,i]);return m.createElement(f,{slotMetrics:b},m.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},b.groups.map(function(S,T){return m.createElement(Wn,{key:T,group:S,resource:l,components:c,renderSlot:w,getters:u})})))},ac=m.forwardRef(function(e,t){return m.createElement(nc,Object.assign({gutterRef:t},e))}),oc=function(t){var n=t.label;return m.createElement(m.Fragment,null,n)},ic=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),U(r.props.onDrillDown,[i,l])},r.renderRow=function(i){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,v=l.range,h=l.getters,p=l.localizer,g=l.accessors,y=l.components,b=l.resizable,E=g.resourceId(i),w=i?c.filter(function(S){return g.resource(S)===E}):c;return m.createElement(ot,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:v,events:w,resourceId:E,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:y,accessors:g,getters:h,localizer:p,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return Z(n,[{key:"renderHeaderCells",value:function(a){var o=this,s=this.props,i=s.localizer,l=s.getDrilldownView,c=s.getNow,u=s.getters.dayProp,d=s.components.header,f=d===void 0?zn:d,v=c();return a.map(function(h,p){var g=l(h),y=i.format(h,"dayFormat"),b=u(h),E=b.className,w=b.style,S=m.createElement(f,{date:h,label:y,localizer:i});return m.createElement("div",{key:p,style:w,className:q("rbc-header",E,i.isSameDate(h,v)&&"rbc-today")},g?m.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(R){return o.handleHeaderClick(h,g,R)}},S):m.createElement("span",null,S))})}},{key:"render",value:function(){var a=this,o=this.props,s=o.width,i=o.rtl,l=o.resources,c=o.range,u=o.events,d=o.getNow,f=o.accessors,v=o.selectable,h=o.components,p=o.getters,g=o.scrollRef,y=o.localizer,b=o.isOverflowing,E=o.components,w=E.timeGutterHeader,S=E.resourceHeader,T=S===void 0?oc:S,R=o.resizable,A={};b&&(A[i?"marginLeft":"marginRight"]="".concat(En()-1,"px"));var k=l.groupEvents(u);return m.createElement("div",{style:A,ref:g,className:q("rbc-time-header",b&&"rbc-overflowing")},m.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},w&&m.createElement(w,null)),l.map(function(x,$){var P=ce(x,2),z=P[0],I=P[1];return m.createElement("div",{className:"rbc-time-header-content",key:z||$},I&&m.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},m.createElement("div",{className:"rbc-header"},m.createElement(T,{index:$,label:f.resourceTitle(I),resource:I}))),m.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(c)),m.createElement(ot,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:a.props.allDayMaxRows+1,range:c,events:k.get(z)||[],resourceId:I&&z,className:"rbc-allday-cell",selectable:v,selected:a.props.selected,components:h,accessors:f,getters:p,localizer:y,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyPress:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:R}))}))}}]),n}(m.Component),Tt={};function sc(e,t){return{map:function(r){return e?e.map(function(a,o){return r([t.resourceId(a),a],o)}):[r([Tt,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(o){var s=t.resource(o)||Tt;if(Array.isArray(s))s.forEach(function(l){var c=a.get(l)||[];c.push(o),a.set(l,c)});else{var i=a.get(s)||[];i.push(o),a.set(s,i)}}),a):(a.set(Tt,r),a)}}}var Ce=function(e){re(n,e);var t=ne(n);function n(r){var a;return X(this,n),a=t.call(this,r),a.handleScroll=function(o){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=o.target.scrollLeft)},a.handleResize=function(){wr(a.rafHandle),a.rafHandle=wn(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];U(a.props.onKeyPressEvent,s)},a.handleSelectEvent=function(){a.clearSelection();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];U(a.props.onSelectEvent,s)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];U(a.props.onDoubleClickEvent,s)},a.handleShowMore=function(o,s,i,l,c){var u=a.props,d=u.popup,f=u.onDrillDown,v=u.onShowMore,h=u.getDrilldownView,p=u.doShowMoreDrillDown;if(a.clearSelection(),d){var g=bn(i,a.containerRef.current);a.setState({overlay:{date:s,events:o,position:W(W({},g),{},{width:"200px"}),target:c}})}else p&&U(f,[s,h(s)||te.DAY]);U(v,[o,s,l])},a.handleSelectAllDaySlot=function(o,s){var i=a.props.onSelectSlot,l=new Date(o[0]),c=new Date(o[o.length-1]);c.setDate(o[o.length-1].getDate()+1),U(i,{slots:o,start:l,end:c,action:s.action,resourceId:s.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var o=a.contentRef.current,s=o.scrollHeight>o.clientHeight;a.state.isOverflowing!==s&&(a._updatingOverflow=!0,a.setState({isOverflowing:s},function(){a._updatingOverflow=!1}))}},a.memoizedResources=Gr(function(o,s){return sc(o,s)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=m.createRef(),a.contentRef=m.createRef(),a.containerRef=m.createRef(),a._scrollRatio=null,a.gutterRef=N.createRef(),a}return Z(n,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),wr(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(a,o,s,i){var l=this,c=this.props,u=c.min,d=c.max,f=c.components,v=c.accessors,h=c.localizer,p=c.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,v),y=g.groupEvents(o),b=g.groupEvents(s);return g.map(function(E,w){var S=ce(E,2),T=S[0],R=S[1];return a.map(function(A,k){var x=(y.get(T)||[]).filter(function(P){return h.inRange(A,v.start(P),v.end(P),"day")}),$=(b.get(T)||[]).filter(function(P){return h.inRange(A,v.start(P),v.end(P),"day")});return m.createElement(jn,Object.assign({},l.props,{localizer:h,min:h.merge(A,u),max:h.merge(A,d),resource:R&&T,components:f,isNow:h.isSameDate(A,i),key:w+"-"+k,date:A,events:x,backgroundEvents:$,dayLayoutAlgorithm:p}))})})}},{key:"render",value:function(){var a,o=this.props,s=o.events,i=o.backgroundEvents,l=o.range,c=o.width,u=o.rtl,d=o.selected,f=o.getNow,v=o.resources,h=o.components,p=o.accessors,g=o.getters,y=o.localizer,b=o.min,E=o.max,w=o.showMultiDayTimes,S=o.longPressThreshold,T=o.resizable;c=c||this.state.gutterWidth;var R=l[0],A=l[l.length-1];this.slots=l.length;var k=[],x=[],$=[];return s.forEach(function(P){if(_e(P,R,A,p,y)){var z=p.start(P),I=p.end(P);p.allDay(P)||y.startAndEndAreDateOnly(z,I)||!w&&!y.isSameDate(z,I)?k.push(P):x.push(P)}}),i.forEach(function(P){_e(P,R,A,p,y)&&$.push(P)}),k.sort(function(P,z){return Nn(P,z,p,y)}),m.createElement("div",{className:q("rbc-time-view",v&&"rbc-time-view-resources"),ref:this.containerRef},m.createElement(ic,{range:l,events:k,width:c,rtl:u,getNow:f,localizer:y,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(v,p),selectable:this.props.selectable,accessors:p,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:T}),this.props.popup&&this.renderOverlay(),m.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},m.createElement(ac,{date:R,ref:this.gutterRef,localizer:y,min:y.merge(R,b),max:y.merge(R,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(l,x,$,f())))}},{key:"renderOverlay",value:function(){var a,o,s=this,i=(a=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&a!==void 0?a:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,v=l.selected,h=l.popupOffset,p=l.handleDragStart,g=function(){return s.setState({overlay:null})};return m.createElement(tr,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:v,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,s=(o=a.gutterRef)!==null&&o!==void 0&&o.current?xt(a.gutterRef.current):void 0;s&&a.state.gutterWidth!==s&&a.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=a.min,s=a.max,i=a.scrollToTime,l=a.localizer,c=l.diff(l.merge(i,o),i,"milliseconds"),u=l.diff(o,s,"milliseconds");this._scrollRatio=c/u}}]),n}(N.Component);Ce.defaultProps={step:30,timeslots:2};var lc=["date","localizer","min","max","scrollToTime","enableAutoScroll"],pt=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.date,s=a.localizer,i=a.min,l=i===void 0?s.startOf(new Date,"day"):i,c=a.max,u=c===void 0?s.endOf(new Date,"day"):c,d=a.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,v=a.enableAutoScroll,h=v===void 0?!0:v,p=se(a,lc),g=n.range(o,{localizer:s});return m.createElement(Ce,Object.assign({},p,{range:g,eventOffset:10,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:h}))}}]),n}(m.Component);pt.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};pt.navigate=function(e,t,n){var r=n.localizer;switch(t){case ae.PREVIOUS:return r.add(e,-1,"day");case ae.NEXT:return r.add(e,1,"day");default:return e}};pt.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var cc=["date","localizer","min","max","scrollToTime","enableAutoScroll"],he=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.date,s=a.localizer,i=a.min,l=i===void 0?s.startOf(new Date,"day"):i,c=a.max,u=c===void 0?s.endOf(new Date,"day"):c,d=a.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,v=a.enableAutoScroll,h=v===void 0?!0:v,p=se(a,cc),g=n.range(o,this.props);return m.createElement(Ce,Object.assign({},p,{range:g,eventOffset:15,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:h}))}}]),n}(m.Component);he.defaultProps=Ce.defaultProps;he.navigate=function(e,t,n){var r=n.localizer;switch(t){case ae.PREVIOUS:return r.add(e,-1,"week");case ae.NEXT:return r.add(e,1,"week");default:return e}};he.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(a,o)};he.title=function(e,t){var n=t.localizer,r=he.range(e,{localizer:n}),a=Yr(r),o=a[0],s=a.slice(1);return n.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};var uc=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function nr(e,t){return he.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Ie=function(e){re(n,e);var t=ne(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.date,s=a.localizer,i=a.min,l=i===void 0?s.startOf(new Date,"day"):i,c=a.max,u=c===void 0?s.endOf(new Date,"day"):c,d=a.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,v=a.enableAutoScroll,h=v===void 0?!0:v,p=se(a,uc),g=nr(o,this.props);return m.createElement(Ce,Object.assign({},p,{range:g,eventOffset:15,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:h}))}}]),n}(m.Component);Ie.defaultProps=Ce.defaultProps;Ie.range=nr;Ie.navigate=he.navigate;Ie.title=function(e,t){var n=t.localizer,r=nr(e,{localizer:n}),a=Yr(r),o=a[0],s=a.slice(1);return n.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};function pe(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,o=e.getters,s=e.length,i=e.localizer,l=e.onDoubleClickEvent,c=e.onSelectEvent,u=e.selected,d=N.useRef(null),f=N.useRef(null),v=N.useRef(null),h=N.useRef(null),p=N.useRef(null);N.useEffect(function(){b()});var g=function(R,A,k){var x=n.event,$=n.date;return A=A.filter(function(P){return _e(P,i.startOf(R,"day"),i.endOf(R,"day"),t,i)}),A.map(function(P,z){var I=t.title(P),B=t.end(P),K=t.start(P),J=o.eventProp(P,K,B,vt(P,u)),Q=z===0&&i.format(R,"agendaDateFormat"),ge=z===0?m.createElement("td",{rowSpan:A.length,className:"rbc-agenda-date-cell"},$?m.createElement($,{day:R,label:Q}):Q):!1;return m.createElement("tr",{key:k+"_"+z,className:J.className,style:J.style},ge,m.createElement("td",{className:"rbc-agenda-time-cell"},y(R,P)),m.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return c&&c(P,M)},onDoubleClick:function(M){return l&&l(P,M)}},x?m.createElement(x,{event:P,title:I}):I))},[])},y=function(R,A){var k="",x=n.time,$=i.messages.allDay,P=t.end(A),z=t.start(A);return t.allDay(A)||(i.eq(z,P)?$=i.format(z,"agendaTimeFormat"):i.isSameDate(z,P)?$=i.format({start:z,end:P},"agendaTimeRangeFormat"):i.isSameDate(R,z)?$=i.format(z,"agendaTimeFormat"):i.isSameDate(R,P)&&($=i.format(P,"agendaTimeFormat"))),i.gt(R,z,"day")&&(k="rbc-continues-prior"),i.lt(R,P,"day")&&(k+=" rbc-continues-after"),m.createElement("span",{className:k.trim()},x?m.createElement(x,{event:A,day:R,label:$}):$)},b=function(){if(p.current){var R=d.current,A=p.current.firstChild;if(A){var k=h.current.scrollHeight>h.current.clientHeight,x=[],$=x;x=[xt(A.children[0]),xt(A.children[1])],($[0]!==x[0]||$[1]!==x[1])&&(f.current.style.width=x[0]+"px",v.current.style.width=x[1]+"px"),k?(Ma(R,"rbc-header-overflowing"),R.style.marginRight=En()+"px"):Ra(R,"rbc-header-overflowing")}}},E=i.messages,w=i.add(r,s,"day"),S=i.range(r,w,"day");return a=a.filter(function(T){return _e(T,i.startOf(r,"day"),i.endOf(w,"day"),t,i)}),a.sort(function(T,R){return+t.start(T)-+t.start(R)}),m.createElement("div",{className:"rbc-agenda-view"},a.length!==0?m.createElement(m.Fragment,null,m.createElement("table",{ref:d,className:"rbc-agenda-table"},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",{className:"rbc-header",ref:f},E.date),m.createElement("th",{className:"rbc-header",ref:v},E.time),m.createElement("th",{className:"rbc-header"},E.event)))),m.createElement("div",{className:"rbc-agenda-content",ref:h},m.createElement("table",{className:"rbc-agenda-table"},m.createElement("tbody",{ref:p},S.map(function(T,R){return g(T,a,R)}))))):m.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}pe.defaultProps={length:30};pe.range=function(e,t){var n=t.length,r=n===void 0?pe.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return{start:e,end:o}};pe.navigate=function(e,t,n){var r=n.length,a=r===void 0?pe.defaultProps.length:r,o=n.localizer;switch(t){case ae.PREVIOUS:return o.add(e,-a,"day");case ae.NEXT:return o.add(e,a,"day");default:return e}};pe.title=function(e,t){var n=t.length,r=n===void 0?pe.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return a.format({start:e,end:o},"agendaHeaderFormat")};var we,Ge=(we={},Ee(we,te.MONTH,ht),Ee(we,te.WEEK,he),Ee(we,te.WORK_WEEK,Ie),Ee(we,te.DAY,pt),Ee(we,te.AGENDA,pe),we),fc=["action","date","today"];function dc(e,t){var n=t.action,r=t.date,a=t.today,o=se(t,fc);switch(e=typeof e=="string"?Ge[e]:e,n){case ae.TODAY:r=a||new Date;break;case ae.DATE:break;default:Pe(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}var vc=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.localizer.messages,s=a.label;return m.createElement("div",{className:"rbc-toolbar"},m.createElement("span",{className:"rbc-btn-group"},m.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.TODAY)},o.today),m.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.PREVIOUS)},o.previous),m.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.NEXT)},o.next)),m.createElement("span",{className:"rbc-toolbar-label"},s),m.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(a){var o=this,s=this.props.views,i=this.props.view;if(s.length>1)return s.map(function(l){return m.createElement("button",{type:"button",key:l,className:q({"rbc-active":i===l}),onClick:o.view.bind(null,l)},a[l])})}}]),n}(m.Component);function hc(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Wt(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var fe=function(t){return function(n){return hc(n,t)}},pc=["view","date","getNow","onNavigate"],mc=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Hn(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=ce(r[n],2),o=a[0],s=a[1];s&&t.push(o)}return t}function gc(e,t){var n=t.views,r=Hn(n);return r.indexOf(e)!==-1}var Un=function(e){re(n,e);var t=ne(n);function n(){var r;X(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?Xi(i,function(l,c){return l[c]=Ge[c]},{}):Wt(i)==="object"?Pi(i,function(l,c){return l===!0?Ge[c]:l}):Ge},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(i,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(i,{localizer:f}),c)},r.handleNavigate=function(i,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,v=c.onNavigate,h=se(c,pc),p=r.getView(),g=f();d=dc(p,W(W({},h),{},{action:i,date:l||d||g,today:g})),v(d,u,i),r.handleRangeChange(d,p)},r.handleViewChange=function(i){i!==r.props.view&&gc(i,r.props)&&r.props.onView(i);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];U(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(i){U(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,l){var c=r.props.onDrillDown;if(c){c(i,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(ae.DATE,i)},r.state={context:n.getContext(r.props)},r}return Z(n,[{key:"render",value:function(){var a=this.props,o=a.view,s=a.toolbar,i=a.events,l=a.backgroundEvents,c=a.style,u=a.className,d=a.elementProps,f=a.date,v=a.getNow,h=a.length,p=a.showMultiDayTimes,g=a.onShowMore,y=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var b=se(a,mc);f=f||v();var E=this.getView(),w=this.state.context,S=w.accessors,T=w.components,R=w.getters,A=w.localizer,k=w.viewNames,x=T.toolbar||vc,$=E.title(f,{localizer:A,length:h});return m.createElement("div",Object.assign({},d,{className:q(u,"rbc-calendar",b.rtl&&"rbc-rtl"),style:c}),s&&m.createElement(x,{date:f,view:o,views:k,label:$,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),m.createElement(E,Object.assign({},b,{events:i,backgroundEvents:l,date:f,getNow:v,length:h,localizer:A,getters:R,components:T,accessors:S,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:g,doShowMoreDrillDown:y})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:n.getContext(a)}}},{key:"getContext",value:function(a){var o=a.startAccessor,s=a.endAccessor,i=a.allDayAccessor,l=a.tooltipAccessor,c=a.titleAccessor,u=a.resourceAccessor,d=a.resourceIdAccessor,f=a.resourceTitleAccessor,v=a.eventPropGetter,h=a.backgroundEventPropGetter,p=a.slotPropGetter,g=a.slotGroupPropGetter,y=a.dayPropGetter,b=a.view,E=a.views,w=a.localizer,S=a.culture,T=a.messages,R=T===void 0?{}:T,A=a.components,k=A===void 0?{}:A,x=a.formats,$=x===void 0?{}:x,P=Hn(E),z=Sl(R);return{viewNames:P,localizer:wl(w,S,$,z),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return h&&h.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return g&&g.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:Oi(k[b]||{},zi(k,P),{eventWrapper:le,backgroundEventWrapper:le,eventContainerWrapper:le,dateCellWrapper:le,weekWrapper:le,timeSlotWrapper:le,timeGutterWrapper:le}),accessors:{start:fe(o),end:fe(s),allDay:fe(i),tooltip:fe(l),title:fe(c),resource:fe(u),resourceId:fe(d),resourceTitle:fe(f)}}}}]),n}(m.Component);Un.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:te.MONTH,views:[te.MONTH,te.WEEK,te.DAY,te.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:te.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var yc=un(Un,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),bc=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"MMMM DD",n)+"  "+r.format(o,r.eq(a,o,"month")?"DD":"MMMM DD",n)},wc=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"L",n)+"  "+r.format(o,"L",n)},Ot=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"LT",n)+"  "+r.format(o,"LT",n)},Ec=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+"  "},Sc=function(t,n,r){var a=t.end;return"  "+r.format(a,"LT",n)},Dc={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Ot,eventTimeRangeFormat:Ot,eventTimeRangeStartFormat:Ec,eventTimeRangeEndFormat:Sc,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:bc,agendaHeaderFormat:wc,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Ot};function de(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Tc(e){var t=function(M,C){return C?M.locale(C):M};function n(O){return e(O).toDate().getTimezoneOffset()}function r(O,M){var C,_,L=e(O).local(),j=e(M).local();if(!e.tz)return L.toDate().getTimezoneOffset()-j.toDate().getTimezoneOffset();var V=(C=L==null||(_=L._z)===null||_===void 0?void 0:_.name)!==null&&C!==void 0?C:e.tz.guess(),G=e.tz.zone(V).utcOffset(+L),ye=e.tz.zone(V).utcOffset(+j);return G-ye}function a(O){var M=e(O).startOf("day");return r(M,O)}function o(O,M,C){var _=de(C),L=_?e(O).startOf(_):e(O),j=_?e(M).startOf(_):e(M);return[L,j,_]}function s(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,C=de(M);return C?e(O).startOf(C).toDate():e(O).toDate()}function i(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,C=de(M);return C?e(O).endOf(C).toDate():e(O).toDate()}function l(O,M,C){var _=o(O,M,C),L=ce(_,3),j=L[0],V=L[1],G=L[2];return j.isSame(V,G)}function c(O,M,C){return!l(O,M,C)}function u(O,M,C){var _=o(O,M,C),L=ce(_,3),j=L[0],V=L[1],G=L[2];return j.isAfter(V,G)}function d(O,M,C){var _=o(O,M,C),L=ce(_,3),j=L[0],V=L[1],G=L[2];return j.isBefore(V,G)}function f(O,M,C){var _=o(O,M,C),L=ce(_,3),j=L[0],V=L[1],G=L[2];return j.isSameOrBefore(V,G)}function v(O,M,C){var _=o(O,M,C),L=ce(_,3),j=L[0],V=L[1],G=L[2];return j.isSameOrBefore(V,G)}function h(O,M,C){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",L=de(_),j=e(O),V=e(M),G=e(C);return j.isBetween(V,G,L,"[]")}function p(O,M){var C=e(O),_=e(M),L=e.min(C,_);return L.toDate()}function g(O,M){var C=e(O),_=e(M),L=e.max(C,_);return L.toDate()}function y(O,M){if(!O&&!M)return null;var C=e(M).format("HH:mm:ss"),_=e(O).startOf("day").format("MM/DD/YYYY");return e("".concat(_," ").concat(C),"MM/DD/YYYY HH:mm:ss").toDate()}function b(O,M,C){var _=de(C);return e(O).add(M,_).toDate()}function E(O,M){for(var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",_=de(C),L=e(O).toDate(),j=[];v(L,M);)j.push(L),L=b(L,1,_);return j}function w(O,M){var C=de(M),_=s(O,C);return l(_,O)?_:b(_,1,C)}function S(O,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",_=de(C),L=e(O),j=e(M);return j.diff(L,_)}function T(O){var M=e(O);return M.minutes()}function R(O){var M=O?e.localeData(O):e.localeData();return M?M.firstDayOfWeek():0}function A(O){return e(O).startOf("month").startOf("week").toDate()}function k(O){return e(O).endOf("month").endOf("week").toDate()}function x(O){for(var M=A(O),C=k(O),_=[];v(M,C);)_.push(M),M=b(M,1,"d");return _}function $(O,M,C){return e(O).startOf("day").minute(M+C).toDate()}function P(O,M){return S(O,M,"minutes")}function z(O){var M=e(O).startOf("day"),C=e(O);return C.diff(M,"minutes")+a(O)}function I(O,M){var C=e(O),_=e(M);return C.isBefore(_,"day")}function B(O,M,C){var _=e(M),L=e(C);return _.isSameOrAfter(L,"minutes")}function K(O){var M=O.evtA,C=M.start,_=M.end,L=M.allDay,j=O.evtB,V=j.start,G=j.end,ye=j.allDay,We=+s(C,"day")-+s(V,"day"),mt=S(C,w(_,"day"),"day"),gt=S(V,w(G,"day"),"day");return We||Math.max(gt,1)-Math.max(mt,1)||!!ye-!!L||+C-+V||+_-+G}function J(O){var M=O.event,C=M.start,_=M.end,L=O.range,j=L.start,V=L.end,G=e(C).startOf("day"),ye=e(_),We=e(j),mt=e(V),gt=G.isSameOrBefore(mt,"day"),Bn=!G.isSame(ye,"minutes"),Kn=Bn?ye.isAfter(We,"minutes"):ye.isSameOrAfter(We,"minutes");return gt&&Kn}function Q(O,M){var C=e(O),_=e(M);return C.isSame(_,"day")}function ge(){var O=new Date,M=/-/.test(O.toString())?"-":"",C=O.getTimezoneOffset(),_=Number("".concat(M).concat(Math.abs(C))),L=e().utcOffset();return L>_?1:0}return new bl({formats:Dc,firstOfWeek:R,firstVisibleDay:A,lastVisibleDay:k,visibleDays:x,format:function(M,C,_){return t(e(M),_).format(C)},lt:d,lte:v,gt:u,gte:f,eq:l,neq:c,merge:y,inRange:h,startOf:s,endOf:i,range:E,add:b,diff:S,ceil:w,min:p,max:g,minutes:T,getSlotDate:$,getTimezoneOffset:n,getDstOffset:r,getTotalMin:P,getMinutesFromMidnight:z,continuesPrior:I,continuesAfter:B,sortEvents:K,inEventRange:J,isSameDate:Q,browserTZOffset:ge})}const Oc=e=>{const[t,n]=N.useState(!1),[r,a]=N.useState(),o=async()=>{n(!0);const{data:s}=await jt.custom({url:"",method:"get",meta:{operation:"schoolEducationLevelSubjectTeachersByTimetableEntry",variables:{entryId:{value:parseInt(e.entryId??"0"),type:"Int",required:!0}},fields:["pages","total","page","hasNext","hasPrev",{results:Aa}]}}).catch(()=>({data:null})).then(i=>i);s&&a(s.results),n(!1)};return N.useEffect(()=>{o()},[e.randKey,e.entryId]),F.jsx(F.Fragment,{children:F.jsx(bt,{itemLayout:"horizontal",dataSource:r,renderItem:s=>{var i;return F.jsx(bt.Item,{children:F.jsx(bt.Item.Meta,{avatar:F.jsx(Ca,{src:(i=s==null?void 0:s.user)==null?void 0:i.pic}),title:F.jsx("a",{children:s.fullName??s.user.fullName}),description:F.jsxs(F.Fragment,{children:[F.jsxs(Me,{color:"green",children:["Reg#:",s.registrationNumber]}),F.jsxs(Me,{color:"green",children:["Email: ",s.email]}),F.jsxs(Me,{color:"green",children:["Phone: ",s.phone]})]})})})}})})},Mc=e=>{var s,i,l,c,u,d,f;const[t,n]=N.useState(!1),[r,a]=N.useState();Pa();const o=async v=>{n(!0);const{data:h}=await jt.custom({url:"",method:"get",meta:{operation:"schoolEducationLevelTimetableEntry",variables:{id:{value:v,type:"Int",required:!0}},fields:["id","advanced",{schoolEducationLevelTimetable:["id","published","hasEntries","isActive",{schoolEducationLevel:["id",{educationLevel:["id"]}]},{schoolTimetable:["id","title","description","isPublished","startAt","endAt","year","forExamination",{author:["id"]},{school:["id","name"]},{schoolExamination:["id"]}]}]},{schoolEducationLevelGroup:["id"]},{teacher:["id"]},{venue:["id","name","code","description","capacity","latitude","longitude",{schoolVenueType:["id","name"]}]},{module:["id","name","code",{studyCourse:["id"]}]},{subject:["id",{schoolSubject:["id",{subject:["id","name"]}]}]},"dueDate","startTime","endTime","day","created","updated","isActive","canEdit","canDelete","canManage"]}}).catch(p=>({data:null})).then(p=>p);h&&a(h),n(!1)};return N.useEffect(()=>{o(e==null?void 0:e.event.id)},[e.event,e.randKey]),F.jsx(F.Fragment,{children:F.jsxs(xa,{spinning:t,children:[F.jsxs(Be,{children:[!(r!=null&&r.advanced)&&F.jsx(ue,{title:"Subject",column:1,children:F.jsx(ue.Item,{label:"Name",children:(i=(s=r==null?void 0:r.subject)==null?void 0:s.schoolSubject)==null?void 0:i.subject.name})}),(r==null?void 0:r.advanced)&&F.jsx(ue,{title:"Module",column:1,children:F.jsxs(ue.Item,{label:"Name",children:[(l=r==null?void 0:r.module)==null?void 0:l.name,F.jsx(Me,{color:"green",children:(c=r==null?void 0:r.module)==null?void 0:c.code})]})})]}),F.jsx(Be,{style:{marginTop:2},children:F.jsxs(ue,{title:"Venue",column:2,children:[F.jsx(ue.Item,{label:"Name",children:(u=r==null?void 0:r.venue)==null?void 0:u.name}),F.jsx(ue.Item,{label:"Code",children:(d=r==null?void 0:r.venue)==null?void 0:d.code}),F.jsx(ue.Item,{label:"Capacity",children:(f=r==null?void 0:r.venue)==null?void 0:f.capacity})]})}),!(r!=null&&r.advanced)&&F.jsx(Be,{style:{marginTop:2},title:"Taught By",children:F.jsx(Oc,{entryId:r==null?void 0:r.id.toString()})})]})})},Rc=Tc(Ke),kc=e=>{const[t,n]=N.useState(!1),[r,a]=N.useState([]),[o,s]=N.useState(),i=N.useCallback(({start:f,end:v})=>{a(h=>[...h])},[a]),l=N.useCallback(f=>{s(f),n(!0)},[]),{defaultDate:c,scrollToTime:u}=N.useMemo(()=>({defaultDate:new Date(2015,3,12),scrollToTime:new Date(1970,1,1,6)}),[]),d=async()=>{const{data:f}=await jt.custom({url:"",method:"get",meta:{operation:"myWeeklyTimetableEntriesBig",variables:{},fields:["entries"]}}).catch(v=>({data:null})).then(v=>v);f&&a(f.entries.map(v=>({id:v.id,title:v.title,start:new Date(v.start),end:new Date(v.end)})))};return N.useEffect(()=>{d()},[]),F.jsxs(F.Fragment,{children:[r.length>0&&F.jsx(Be,{title:"",style:{marginTop:10},children:F.jsx(yc,{dayLayoutAlgorithm:"no-overlap",events:r,startAccessor:"start",endAccessor:"end",defaultDate:Ke().toDate(),defaultView:"day",views:["week","day","agenda"],localizer:Rc,showMultiDayTimes:!0,onSelectEvent:l,onSelectSlot:i,selectable:!0,scrollToTime:u})}),F.jsx(ka,{title:F.jsxs(F.Fragment,{children:[F.jsx("span",{children:"Event Details, start:"}),F.jsx(Me,{color:"green",style:{marginLeft:3},children:Ke(o==null?void 0:o.start).format("h:mm")}),F.jsx("span",{children:"End:"}),F.jsx(Me,{color:"green",style:{marginLeft:3},children:Ke(o==null?void 0:o.end).format("h:mm")})]}),width:"45vw",open:t,onClose:f=>n(f),children:F.jsx(Mc,{event:o,randKey:Math.random()})})]})};export{kc as WeeklyTimetableComponent};
