import{r as t,c as j,j as e,a8 as n,aX as v,af as y,av as C,cd as S,aS as E,g as N,_ as o}from"./index-7df9ee76.js";import{C as q}from"./darasa_card-97b1cf47.js";import{C as w}from"./index-746394d2.js";import"./remove_html_tags-be9c976e.js";import"./index-efa01bbc.js";import"./index-d353142b.js";import"./ShareAltOutlined-35eb5bd4.js";import"./FolderOpenOutlined-76d52b2b.js";import"./EditOutlined-a52bf258.js";import"./EditOutlined-401a1613.js";import"./InfoCircleOutlined-d965a3ac.js";import"./DeleteOutlined-645f7cb7.js";import"./DeleteOutlined-25685737.js";import"./MoreOutlined-8471c15a.js";import"./Skeleton-494b0004.js";import"./DotChartOutlined-f39c986e.js";import"./index-fdfe4d32.js";const K=l=>{const[d,p]=t.useTransition(),[c,r]=t.useState(!1),[a,m]=t.useState([]),{push:u}=j(),g=async(s,h="",x=5)=>{r(!0);const{data:i}=await N.custom({url:"",method:"get",meta:{operation:"myMadarasa",variables:{page:{value:s,type:"Int",required:!0},key:{value:h,type:"String",required:!1},pageSize:{value:x,type:"Int",required:!1},where:{value:{mode:"all"},type:"JSON",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","description","created","canEdit","canDelete","canManage","updated","isActive","isAuthor","isConnected","cover",{user:["id","firstName","middleName","lastName","fullName","pic"]}]}]}}).catch(()=>(o.remove(),o.error("Error getting darasas"),{data:null})).then(f=>f);i&&m(i.results),r(!1)};return t.useEffect(()=>{g(1,"",5)},[l.randKey]),e.jsx(e.Fragment,{children:e.jsx(w,{title:e.jsx(n,{spinning:d,children:e.jsxs(v,{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Classes"}),e.jsx(y,{title:"View All Classes",color:"red",children:e.jsx(C,{icon:e.jsx(S,{}),onClick:()=>{p(()=>{u("/oclass")})},danger:!0})})]})}),style:{padding:"0px !important"},children:e.jsxs(n,{spinning:c,children:[a.length===0&&e.jsx(E,{description:"You are not connected to any class"}),a.length>0&&e.jsx("div",{style:{overflowY:"auto",maxHeight:"56vh",minHeight:"56vh"},children:a.map(s=>e.jsx(q,{min:!0,darasa:s,size:"small"}))})]})})})};export{K as DashboardClassesComponent};
