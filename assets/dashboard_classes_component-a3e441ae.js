import{r as a,c as j,j as e,a7 as i,a_ as y,af as v,aw as C,cH as S,aU as w,g as E,_ as o}from"./index-ccfcd4da.js";import{C as N}from"./darasa_card-a2ad853c.js";import{C as q}from"./index-e733c2fd.js";import"./remove_html_tags-be9c976e.js";import"./index-3bfb9ed3.js";import"./index-afc6ce50.js";import"./Skeleton-a2d4f426.js";import"./index-5c2e1e93.js";const _=l=>{const[d,c]=a.useTransition(),[p,r]=a.useState(!1),[s,u]=a.useState([]),{push:m}=j(),g=async(t,h="",x=5)=>{r(!0);const{data:n}=await E.custom({url:"",method:"get",meta:{operation:"myMadarasa",variables:{page:{value:t,type:"Int",required:!0},key:{value:h,type:"String",required:!1},pageSize:{value:x,type:"Int",required:!1},where:{value:{mode:"all"},type:"JSON",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","description","created","canEdit","canDelete","canManage","updated","isActive","isAuthor","isConnected","cover",{user:["id","firstName","middleName","lastName","fullName","pic"]}]}]}}).catch(()=>(o.remove(),o.error("Error getting darasas"),{data:null})).then(f=>f);n&&u(n.results),r(!1)};return a.useEffect(()=>{g(1,"",5)},[l.randKey]),e.jsx(e.Fragment,{children:e.jsx(q,{title:e.jsx(i,{spinning:d,children:e.jsxs(y,{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Classes"}),e.jsx(v,{title:"View All Classes",color:"red",children:e.jsx(C,{icon:e.jsx(S,{}),onClick:()=>{c(()=>{m("/oclass")})},danger:!0})})]})}),style:{padding:"0px !important"},children:e.jsxs(i,{spinning:p,children:[s.length===0&&e.jsx(w,{description:"You are not connected to any class"}),s.length>0&&e.jsx("div",{style:{overflowY:"auto",maxHeight:"56vh",minHeight:"56vh"},children:s.map(t=>e.jsx(N,{min:!0,darasa:t,size:"small"}))})]})})})};export{_ as DashboardClassesComponent};
