var na=Object.defineProperty;var aa=(r,t,n)=>t in r?na(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var wr=(r,t,n)=>(aa(r,typeof t!="symbol"?t+"":t,n),n);import{r as o,F as T,j as e,G as qe,I as ne,S as fe,s as ce,u as xe,C as Te,v as Ie,Z as ke,$,am as sa,B as K,a1 as Me,an as hr,K as y,A as _e,ao as Ye,ap as st,aq as an,ar as pe,as as ge,J as Y,at as ia,au as Je,av as pt,aw as rt,ah as Ue,ai as ze,ag as zt,af as Xe,y as Z,z as X,ax as Re,ay as it,az as ue,aA as Pr,q as be,aB as Ht,aC as Dt,aD as oa,a0 as Le,a9 as Be,aE as la,D as ca,H as ae,aF as ua,aG as da,aH as fr,aI as ha,aJ as ht,a5 as ee,Y as fa,aK as ma,ab as wt,aL as Et,aM as Jt,aN as sn,T as oe,x as Ke,aO as on,aP as pa,aQ as ga,aR as ya,aS as xa,aT as Tr,a7 as Ve,a6 as gt,aU as Wt,aV as va,aW as ln,aX as Yt,aY as ft,aZ as ja,a2 as Ot,a_ as ba,a$ as Sa,X as mr,b0 as Ir,b1 as Ca,b2 as Pt,b3 as cn,b4 as wa,b5 as pr,b6 as Bt,ad as gr,ae as Pa,b7 as Ta,b8 as Ia,b9 as ka,ba as Qt,bb as Da,bc as Oa,bd as un,be as dn,bf as dt,bg as Ma,bh as hn,bi as _a,bj as Aa,bk as kr,bl as yr,bm as fn,bn as Rt,bo as Dr,bp as mn,bq as Ea,br as Fa,bs as Ra,bt as Or,bu as xr,bv as La,bw as pn,bx as Mr,O as gn,by as Na,bz as qa,E as Va,bA as vr,V as Ua,t as za,bB as Ha,bC as yn,bD as Wa,aa as me,N as Ya,ac as Ba}from"./index-8ddffded.js";import{B as re}from"./Breadcrumb-86726eef.js";import{t as sr}from"./text_truncate-315d9efa.js";import{I as jr}from"./index.es-44cf19e8.js";import{C as xn}from"./Collapse-314faebf.js";import{a as $a,T as vn}from"./Table-77fe0a00.js";import{B as Ga}from"./book_payment_form-f90c2dd4.js";import"./index-314fa976.js";const Ka=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(0),[M,k]=o.useState(24),[R,x]=o.useState(""),[w,L]=o.useState(!0),[D,W]=o.useState(!1),[z]=T.useForm(),U=async u=>{const{data:m}=await Y.custom({url:"",method:"post",meta:{operation:"removeDarasaArchive",variables:{id:{value:u,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error removing from archive"),{data:null})).then(f=>f);m&&(m.success?(y.success(m.message),n(t.filter(f=>f.id!==u))):y.error(m.message)),pe.destroyAll()},I=u=>{pe.confirm({title:"Confirm",icon:e.jsx(ge,{}),content:"Removing Class From Archive ....",okText:"Restore",cancelText:"Cancel",onOk:()=>U(u)})},g=async(u,m=24,f="")=>{const{data:c}=await Y.custom({url:"",method:"get",meta:{operation:"madarasaArchives",variables:{page:{value:u,type:"Int",required:!0},key:{value:f,type:"String",required:!1},pageSize:{value:m,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:ia}]}}).catch(_=>(console.error(_),y.error("Error fetching archives"),{data:null})).then(_=>_);c&&(d(c.total),l(c.page),P(c.pages),L(c.hasNext),W(c.hasPrev),n(c.results)),s(!1)};return o.useEffect(()=>{g(1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(qe,{container:!0,children:e.jsx(qe,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:e.jsx(T,{layout:"vertical",form:z,onFinish:u=>{l(0),g(0,M,u.key)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Classes Archives...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0,disabled:a})})})})}),e.jsx(ce,{spinning:a,children:e.jsx(xe,{children:t.length>0?e.jsx(qe,{container:!0,children:t.map(u=>e.jsx(qe,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:e.jsxs(Te,{hoverable:u.isActive,style:{marginRight:10},children:[e.jsx(Ie,{style:{right:0,position:"absolute"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsx($,{children:e.jsx($.Item,{icon:e.jsx(sa,{}),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>I(u.id),children:"Restore"})},"class-archive-"+u.id)}),overlayStyle:{zIndex:9999},children:e.jsx(K,{type:"link",size:"large",className:"ant-dropdown-link",onClick:m=>m.preventDefault(),style:{zIndex:1},children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx(hr.Ribbon,{text:u.darasa.code,placement:"start",color:"orange",children:e.jsx("a",{onClick:()=>{y("Drive To Connect")},children:e.jsxs(Ie,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx(_e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Ye,{}),src:u.darasa.icon}),e.jsx("span",{style:{fontSize:20},children:u.darasa.name})]})})})]})}))}):e.jsx(st,{severity:"info",sx:{fontSize:18},children:a?e.jsx(e.Fragment,{children:"Loading ..."}):e.jsx(e.Fragment,{children:"No Class Found in Archives"})})})}),(w||D)&&!a&&e.jsx(xe,{children:e.jsx(an.Pagination,{showSizeChanger:!0,onShowSizeChange:(u,m)=>{l(u),k(m),g(u,m||M,R)},defaultCurrent:i,total:p,onChange:(u,m)=>{l(u),k(m||M),g(u,m||M,R)}})})]})},Xa=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Classes Archives"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx(Ka,{})})]}),{Title:Mt,Text:_t}=pt,jn=r=>{const[t,n]=o.useState(),[a,s]=o.useState(!0),i=async l=>{const{data:p}=await Y.custom({url:"",method:"get",meta:{operation:"darasa",variables:{id:{value:l,type:"Int",required:!0}},fields:rt}}).catch(()=>(y.error("Error fetching darasa"),{data:null}));p&&n(p),s(!1)};return o.useEffect(()=>{i(r.id)},[r.id]),e.jsxs(ce,{spinning:a,children:[e.jsx(Mt,{level:5,children:"Class Name"}),e.jsx(_t,{children:t==null?void 0:t.name}),e.jsx(Mt,{level:5,children:"Class Code"}),e.jsx(_t,{children:t==null?void 0:t.code}),e.jsx(Mt,{level:5,children:"Class Description"}),e.jsx(_t,{children:t==null?void 0:t.description}),e.jsx(Mt,{level:5,children:"Class Author"}),e.jsx(_t,{children:t==null?void 0:t.user.profile.fullName})]})},Ja=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState("");return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:i=>{i.payable=t,i.description=a,r.onFinish(i)},requiredMark:!0,autoComplete:"off",children:[e.jsx(T.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Name is required"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Name ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ue.CKEditor,{editor:ze,data:a,onReady:i=>{i.editing.view.change(l=>{l.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,l)=>{const p=l.getData();s(p)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(T.Item,{name:"payable",children:e.jsx(zt,{onChange:i=>n(i.target.checked),children:"Payable"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(T.Item,{name:"price",label:"Cost",initialValue:0,rules:[{required:t,type:"number",validator:(i,l)=>l<=0?Promise.reject("Price cannot be less than 0"):Promise.resolve()}],children:e.jsx(Xe,{size:"large",style:{width:"100%"},precision:2})}),e.jsxs(Z,{children:[e.jsx(X,{span:8,children:e.jsx(T.Item,{name:"duration",label:"Duration",initialValue:1,wrapperCol:{span:24},rules:[{required:t,type:"number",message:"Please enter duration"}],children:e.jsx(Xe,{size:"large",style:{width:"100%"}})})}),e.jsx(X,{span:12,children:e.jsx(T.Item,{label:"Duration Type",name:"duration_type",wrapperCol:{span:12},initialValue:"months",rules:[{required:t,type:"string",message:"Please select duration type"}],children:e.jsxs(Re,{size:"large",dropdownStyle:{zIndex:9999},children:[e.jsx(Re.Option,{value:"days",children:"Days"}),e.jsx(Re.Option,{value:"months",children:"Months"}),e.jsx(Re.Option,{value:"years",children:"Years"})]})})})]}),e.jsx(T.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,type:"object",message:"Please select Start Date"}],children:e.jsx(it,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<ue().endOf("day"),popupStyle:{zIndex:9999}})})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Qa=r=>{const[t,n]=o.useState(r.darasa.payable),[a,s]=o.useState(r.darasa.description);return o.useEffect(()=>{r.form.setFieldsValue({name:r.darasa.name,description:r.darasa.description,payable:r.darasa.payable,price:r.darasa.price,duration:r.darasa.duration,duration_type:r.darasa.durationType,start_date:Pr(r.darasa.startDate),end_date:Pr(r.darasa.endDate)})},[r.darasa,r.form]),e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:i=>{i.id=parseInt(r.darasa.id),i.payable=t,i.description=a,r.onFinish(i)},requiredMark:!1,children:[e.jsx(T.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Name is required"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Name ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ue.CKEditor,{editor:ze,data:a,onReady:i=>{i.editing.view.change(l=>{l.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,l)=>{const p=l.getData();s(p)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(T.Item,{name:"payable",children:e.jsx(zt,{defaultChecked:t,onChange:i=>n(i.target.checked),children:"Payable"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(T.Item,{name:"price",label:"Cost",initialValue:0,rules:[{required:t,type:"number",validator:(i,l)=>l<=0?Promise.reject("Price cannot be less than 0"):Promise.resolve()}],children:e.jsx(Xe,{size:"large",style:{width:"100%"},precision:2})}),e.jsxs(Z,{children:[e.jsx(X,{span:8,children:e.jsx(T.Item,{name:"duration",label:"Duration",initialValue:1,wrapperCol:{span:24},rules:[{required:t,type:"number",message:"Please enter duration"}],children:e.jsx(Xe,{size:"large",style:{width:"100%"}})})}),e.jsx(X,{span:12,children:e.jsx(T.Item,{label:"Duration Type",name:"duration_type",wrapperCol:{span:12},initialValue:"months",rules:[{required:t,type:"string",message:"Please select duration type"}],children:e.jsxs(Re,{size:"large",dropdownStyle:{zIndex:9999},children:[e.jsx(Re.Option,{value:"days",children:"Days"}),e.jsx(Re.Option,{value:"months",children:"Months"}),e.jsx(Re.Option,{value:"years",children:"Years"})]})})})]}),e.jsx(T.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,type:"object",message:"Please select Start Date"}],children:e.jsx(it,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<ue().endOf("day"),popupStyle:{zIndex:9999}})})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Paragraph:Za}=pt,$t=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState([]),[i,l]=o.useState(),[p,d]=o.useState(),[b,P]=o.useState(!0),[M,k]=o.useState(1),[R,x]=o.useState(0),[w,L]=o.useState(24),[D,W]=o.useState(!0),[z,U]=o.useState(!1),[I]=T.useForm(),[g,u]=o.useState(!1),[m,f]=o.useState(!1),{push:c}=be(),[_]=T.useForm(),[B,G]=o.useState(!1),[O,q]=o.useState(!1),N=F=>{l(F),q(!0)},V=F=>{l(F),f(!0)},j=F=>{d(F),G(!0)},S=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"connectClass",variables:{id:{value:F,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error connecting darasa"),{data:null})).then(se=>se);J&&(J.success?(G(!1),d(null),y(J.message),s(a.filter(se=>se.id!==F))):y.error(J.message))},A=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"addDarasaArchive",variables:{id:{value:F,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error adding darasa to archive"),{data:null})).then(se=>se);J&&(J.success?(y.success(J.message),s(a.filter(se=>se.id!==F))):y.error(J.message)),pe.destroyAll()},C=F=>{pe.confirm({title:"Confirm",icon:e.jsx(ge,{}),content:"Adding Class To Archive ....",okText:"Add",cancelText:"Cancel",onOk:()=>A(F)})},h=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasa",variables:{name:{value:F.name,type:"String",required:!0},description:{value:F.description,type:"String",required:!0},payable:{value:F.payable,type:"Boolean",required:!1},price:{value:F.price,type:"Float",required:!1},duration:{value:F.duration,type:"Int",required:!1},durationType:{value:F.duration_type,type:"String",required:!1},startDate:{value:F.start_date,type:"String",required:!1}},fields:["success","message",{darasa:rt}]}}).catch(()=>(y.error("Error creating darasa"),{data:null})).then(se=>se);J&&(J.success?(y.success(J.message),u(!1),s([J.darasa,...a])):y.error(J.message))},v=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"updateDarasa",variables:{id:{value:F.id,type:"Int",required:!0},name:{value:F.name,type:"String",required:!0},description:{value:F.description,type:"String",required:!0},payable:{value:F.payable,type:"Boolean",required:!1},price:{value:F.price,type:"Float",required:!1},duration:{value:F.duration,type:"Int",required:!1},durationType:{value:F.duration_type,type:"String",required:!1},startDate:{value:F.start_date,type:"String",required:!1}},fields:["success","message",{darasa:rt}]}}).catch(()=>(y.error("Error updating darasa"),{data:null})).then(se=>se);J&&(J.success?(y.success(J.message),f(!1),s(a.map(se=>se.id===F.id?J.darasa:se))):y.error(J.message))},E=()=>{_.resetFields(),u(!0)},H=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"disconnectClass",variables:{classId:{value:F,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error disconnecting darasa"),{data:null})).then(se=>se);J&&(J.success?(y.success(J.message),s(a.filter(se=>se.id!==F))):y.error(J.message))},te=F=>{pe.confirm({title:"Disconnecting Class",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Disconnect",cancelText:"Cancel",onOk:()=>H(F)})},de=async F=>{const{data:J}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasa",variables:{id:{value:F,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting darasa"),{data:null})).then(se=>se);J&&(J.success?(y.success(J.message),s(a.filter(se=>se.id!==F))):y.error(J.message))},He=F=>{pe.confirm({title:"Deleting Class",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>de(F)})},Oe=async(F,J=24,se="")=>{P(!0);const{data:Ne}=await Y.custom({url:"",method:"get",meta:{operation:"myMadarasa",variables:{page:{value:F,type:"Int",required:!0},key:{value:se,type:"String",required:!1},pageSize:{value:J,type:"Int",required:!0},where:{value:{mode:r.mode},type:"JSON",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:rt}]}}).catch(()=>(y.error("Error getting darasas"),{data:null})).then(Qe=>Qe);Ne&&(x(Ne.total),k(Ne.page),W(Ne.hasNext),U(Ne.hasPrev),s(Ne.results)),P(!1)},ve=async()=>{const{data:F}=await Y.custom({url:"",method:"get",meta:{operation:"darasaAuth",variables:{},fields:["auth"]}}).catch(()=>(y.error("Error getting darasa auth"),{data:null})).then(J=>J);F&&n(F.auth.create_classes)};return o.useEffect(()=>{ve(),Oe(1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(qe,{container:!0,children:[e.jsx(qe,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsx(T,{layout:"vertical",form:I,onFinish:F=>{k(1),Oe(1,w,F.key)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Classes...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0,disabled:b})})})}),e.jsx(qe,{item:!0,xs:12,sm:6,md:8,lg:8,sx:{display:"flex",justifyContent:"flex-end",paddingBottom:{xs:2,sm:0,md:0,lg:0}},children:r.mode!=="connect"&&e.jsx(K,{size:"large",icon:e.jsx(Ht,{}),onClick:()=>E(),disabled:!t||b,children:"Create Class"})})]}),e.jsx(ce,{spinning:b,children:a.length>0?e.jsx(qe,{container:!0,children:a.map(F=>e.jsx(qe,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsxs(Te,{hoverable:F.isActive,style:{marginRight:10,marginBottom:5},children:[e.jsx(Ie,{style:{right:0,position:"absolute"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[F.isConnected?e.jsxs(e.Fragment,{children:[e.jsx($.Item,{icon:e.jsx(Ye,{}),disabled:!F.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>{F.isActive&&F.isConnected?c("/oclass/class/session/"+F.id+"/"+F.code):F.isActive&&!F.isConnected?j(F):y("Class is Blocked")},children:"Open"})}),e.jsx($.Item,{icon:e.jsx(Dt,{}),onClick:()=>V(F),disabled:!(F!=null&&F.canManage),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx($.Item,{icon:e.jsx(oa,{}),onClick:()=>N(F),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Share"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),F.isAuthor?e.jsx(e.Fragment,{}):e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>te(F.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Disconnect"})}),e.jsx($.Item,{icon:e.jsx(Be,{}),onClick:()=>He(F.id),disabled:!(F!=null&&F.canDelete),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx($.Item,{icon:e.jsx(la,{}),onClick:()=>C(F.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Archive"})},"drive-archive-"+F.id)]}):e.jsx(e.Fragment,{}),F.isConnected?e.jsx(e.Fragment,{}):e.jsx($.Item,{icon:e.jsx(Ye,{}),disabled:!F.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>c("/oclass/class/session/"+F.id+"/"+F.code),children:"Connect"})})]}),overlayStyle:{zIndex:9999},children:e.jsx(K,{type:"link",size:"large",className:"ant-dropdown-link",style:{zIndex:1},onClick:J=>J.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx(hr.Ribbon,{text:F.code,placement:"start",color:"orange",children:e.jsx("a",{onClick:()=>c("/oclass/class/session/"+F.id+"/"+F.code),children:e.jsxs(Ie,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx(_e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Ye,{}),src:F.icon}),e.jsx("span",{style:{fontSize:20},children:F.name})]})})})]})},F.id))}):e.jsx(st,{severity:"info",sx:{fontSize:18},children:b?e.jsx(e.Fragment,{children:"Loading ..."}):e.jsx(e.Fragment,{children:"No Classes Found"})})}),(D||z)&&!b&&e.jsx(xe,{children:e.jsx(ca,{showSizeChanger:!0,onShowSizeChange:(F,J)=>{k(F),L(J),Oe(F,J)},defaultCurrent:M,total:R,onChange:(F,J)=>{k(F),L(J||w),Oe(F,J||w)}})}),e.jsx(ae,{title:"Creating Class",open:g,destroyOnClose:!0,width:"40vw",onClose:F=>u(F),children:e.jsx(Ja,{form:_,onFinish:h})}),e.jsx(ae,{title:"Editting Class",width:"40vw",open:m,onClose:F=>f(F),children:e.jsx(Qa,{darasa:i,form:_,onFinish:v})}),e.jsx(ae,{title:"Connecting "+(p==null?void 0:p.name),open:B,onClose:F=>G(F),children:e.jsxs(e.Fragment,{children:[e.jsx(jn,{id:p==null?void 0:p.id}),e.jsx(K,{onClick:()=>S(p==null?void 0:p.id),style:{position:"absolute",bottom:0,right:0,margin:10},children:"Connect"})]})}),e.jsx(ae,{title:"Share Class",open:O,width:"40vw",onClose:F=>q(F),children:e.jsx(Te,{title:"Click Copy icon to copy share link",children:e.jsx(Za,{copyable:{icon:[e.jsx(ua,{},"copy-icon"),e.jsx(da,{},"copied-icon")],tooltips:["click here","you clicked!!"],onCopy:()=>{y.success("Link Successfully Copied")}},style:{textAlign:"center",fontSize:20},children:fr.site_url+"/oclass/class/session/"+(i==null?void 0:i.id)+"/"+(i==null?void 0:i.code)})})})]})},es=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Connect Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx($t,{mode:"connect"})})]}),ts=()=>e.jsxs("div",{style:{marginTop:10},children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx($t,{mode:"all"})})]}),rs=r=>{const[t,n]=o.useState("");return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:a=>{a.content=t,r.onFinish(a)},requiredMark:!1,children:[e.jsx(T.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string",message:"Please enter title"}],children:e.jsx(ne,{size:"large",placeholder:"Write Content ..."})}),e.jsx("h3",{children:"Announcement Description"}),e.jsx(Ue.CKEditor,{editor:ze,data:t,onReady:a=>{a.editing.view.change(s=>{s.setStyle("min-height","300px",a.editing.view.document.getRoot())})},onChange:(a,s)=>{const i=s.getData();n(i)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},ns=r=>{const[t,n]=o.useState("");return o.useEffect(()=>{var a,s,i;(i=r.form)==null||i.setFieldsValue({title:(a=r.announcement)==null?void 0:a.title,content:(s=r.announcement)==null?void 0:s.content})},[r.form]),e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:a=>{a.content=t,r.onFinish(a)},requiredMark:!1,children:[e.jsx(T.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string",message:"Please enter title"}],children:e.jsx(ne,{size:"large",placeholder:"Write Content ..."})}),e.jsx("h3",{children:"Announcement Description"}),e.jsx(ha,{onChange:a=>n(a)}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},as=r=>{const[t,n]=o.useState(),[a,s]=o.useState([]),[i,l]=o.useState(!0),[p,d]=o.useState(1),[b]=T.useForm(),[P,M]=o.useState(0),[k,R]=o.useState(0),[x,w]=o.useState(!0);be();const[L,D]=o.useState(!1),[W,z]=o.useState(!1),[U]=T.useForm(),[I]=T.useForm(),[g,u]=o.useState(!1),m=N=>{n(N),u(!0)},f=N=>{n(N),z(!0)},c=()=>{D(!0)},_=async N=>{const{data:V}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaAnnouncement",variables:{id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},title:{value:N.title,type:"String",required:!0},content:{value:N.content,type:"String",required:!0}},fields:["success","message",{announcement:Et}]}}).catch(()=>(y.error("Error creating announcement"),{data:null})).then(j=>j);V&&(V.success?(y(V.message),s([V.announcement,...a]),U.resetFields(),D(!1)):y.error(V.message))},B=async N=>{const{data:V}=await Y.custom({url:"",method:"post",meta:{operation:"updateDarasaAnnouncement",variables:{id:{value:t===void 0?"0":t.id,type:"Int",required:!0},title:{value:N.title,type:"String",required:!0},content:{value:N.content,type:"String",required:!0}},fields:["success","message",{announcement:Et}]}});V.success?(y(V.message),s(a.map(j=>j.id===V.announcement.id?V.announcement:j)),I.resetFields(),z(!1)):y.error(V.message)},G=async(N,V="",j=!1)=>{const{data:S}=await Y.custom({url:"",method:"get",meta:{operation:"darasaAnnouncements",variables:{page:{value:N,type:"Int",required:!0},key:{value:V,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Et}]}});R(S.total),M(S.pages),d(S.page),w(S.hasNext),(V.length>0||V.length===0&&j)&&s(S.results),S.results.length>0&&!j&&s(a.concat(S.results)),l(!1)},O=async N=>{const{data:V}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaAnnouncement",variables:{id:{value:N,type:"Int",required:!0}},fields:["success","message"]}});V.success?(y.success(V.message),s(a.filter(j=>j.id!==N))):y.error(V.message)},q=N=>{pe.confirm({title:"Deleting Announcent",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>O(N)})};return o.useEffect(()=>{G(p)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:b,onFinish:N=>G(0,N.key,!0),children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Resources Links...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{size:"large",icon:e.jsx(ht,{}),onClick:c,disabled:!r.canManage,children:"Add Announcement"})})]}),e.jsx("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:e.jsxs(ce,{spinning:i,children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:a,renderItem:N=>e.jsx("div",{style:{background:"white",marginBottom:5,paddingLeft:10,paddingTop:10},children:e.jsx(ee.Item,{style:{margin:0,padding:0},actions:[e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(fa,{}),onClick:()=>m(N),children:e.jsx("a",{children:"Read"})}),e.jsx($.Item,{icon:e.jsx(Be,{}),disabled:!N.canDelete,onClick:()=>q(N.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx($.Item,{icon:e.jsx(Dt,{}),disabled:!N.canEdit,onClick:()=>f(N),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:V=>V.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(ee.Item.Meta,{style:{borderBottom:"1px solid #f0f0f0"},avatar:e.jsx(ma,{}),title:e.jsx("a",{target:"_blank",rel:"noreferrer",children:N.title}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:sr(N.content.replace(/<[^>]+>/g,""),225)}),e.jsx("p",{children:e.jsx(wt,{date:new Date(N.created),locale:"en-US"})})]})})},"class-resource-link-"+N.id)},"class-resource-link-item-container-"+N.id)}),x&&e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:10},children:e.jsx(K,{type:"primary",onClick:()=>{G(p+1)},children:"Load More"})})]})}),e.jsx(ae,{title:"Adding Announcement",open:L,onClose:N=>D(N),width:"50vw",children:e.jsx(rs,{form:U,onFinish:_})}),e.jsx(ae,{title:"Editting Announcement",open:W,onClose:N=>z(N),width:"50vw",children:e.jsx(ns,{announcement:t,form:I,onFinish:B})}),e.jsx(ae,{title:e.jsx("h3",{children:t==null?void 0:t.title}),open:g,onClose:N=>u(N),width:"75vw",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:(t==null?void 0:t.content)??""},style:{marginTop:10}})})]})},ss=r=>{const[t,n]=o.useState(!0),[a,s]=o.useState("");return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:i=>{i.online=t,i.description=a,r.onFinish(i)},requiredMark:!1,children:[e.jsx(T.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string",message:"Please input Title"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(T.Item,{name:"online",children:e.jsx(zt,{checked:t,onChange:()=>n(!t),children:"Online Submit Assignment Work"})}),e.jsx(T.Item,{name:"deadline",label:"Deadline",rules:[{required:!0,type:"date",message:"Please select Deadline"}],children:e.jsx(it,{size:"large",showTime:{format:"HH:mm"},disabledDate:i=>{const l=ue().format("YYYY-MM-DD");return i&&i<ue(l,"YYYY-MM-DD")},style:{width:"100%"},popupStyle:{zIndex:9999}})}),e.jsx("h3",{children:"Description"}),e.jsx(Ue.CKEditor,{editor:ze,data:a,onReady:i=>{i.editing.view.change(l=>{l.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,l)=>{const p=l.getData();s(p)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{height:45}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},is=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(),[i,l]=o.useState(!0),[p,d]=o.useState(1),[b]=T.useForm(),[P,M]=o.useState(0),[k,R]=o.useState(0),[x,w]=o.useState(!0);be();const[L,D]=o.useState(!1),[W,z]=o.useState(!1),[U,I]=o.useState(!1),[g,u]=o.useState(!1),[m,f]=o.useState(!1),[c]=T.useForm(),[_]=T.useForm(),B=v=>{s(v),f(!0)},G=v=>{n(t.map(E=>E.id===v.id?v:E))},O=v=>{s(v),u(!0)},q=v=>{s(v),z(!0)},N=v=>{s(v),I(!0)},V=()=>{D(!0)},j=async v=>{const{data:E}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaAssignment",variables:{id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},title:{value:v.title,type:"String",required:!0},description:{value:v.description,type:"String",required:!0},deadline:{value:v.deadline,type:"DateTime",required:!0},online:{value:v.online,type:"Boolean",required:!0}},fields:["success","message",{assignment:Tr}]}}).catch(()=>(y.error("Failed to create assignment"),{data:null})).then(H=>H);E&&(E.success?(y(E.message),n([E.assignment,...t]),c.resetFields(),D(!1)):y.error(E.message))},S=async v=>{const{data:E}=await Y.custom({url:"",method:"post",meta:{operation:"updateDarasaAssignment",variables:{id:{value:a===void 0?0:a.id,type:"Int",required:!0},title:{value:v.title,type:"String",required:!0},description:{value:v.description,type:"String",required:!0},deadline:{value:v.deadline,type:"DateTime",required:!0},online:{value:v.online,type:"Boolean",required:!0}},fields:["success","message",{assignment:Et}]}}).catch(()=>(y.error("Failed to update assignment"),{data:null})).then(H=>H);E&&(E.success?(y(E.message),n(t.map(H=>H.id===E.assignment.id?E.assignment:H)),_.resetFields(),I(!1)):y.error(E.message))},A=async(v,E="",H=!1)=>{const{data:te}=await Y.custom({url:"",method:"get",meta:{operation:"darasaAssignments",variables:{page:{value:v,type:"Int",required:!0},key:{value:E,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Tr}]}}).catch(()=>(y.error("Failed to fetch assignments"),{data:null})).then(de=>de);te&&(R(te.total),M(te.pages),d(te.page),w(te.hasNext),(E.length>0||E.length===0&&H)&&n(te.results),te.results.length>0&&!H&&n(t.concat(te.results))),l(!1)},C=async v=>{const{data:E}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaAssignment",variables:{id:{value:v,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Failed to delete assignment"),{data:null})).then(H=>H);E&&(E.success?(y.success(E.message),n(t.filter(H=>H.id!==v))):y.error(E.message))},h=v=>{pe.confirm({title:"Deleting Assignment",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>C(v)})};return o.useEffect(()=>{A(p)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:b,onFinish:v=>A(0,v.key,!0),children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Assignments...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(ht,{}),onClick:V,disabled:!r.canManage,size:"large",children:"Add Assignment"})})]}),e.jsx("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:e.jsxs(ce,{spinning:i,children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,renderItem:v=>e.jsx("div",{style:{background:"white",marginBottom:5,paddingLeft:10,paddingTop:10},children:e.jsx(ee.Item,{style:{margin:0,padding:0},actions:[e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Jt,{}),children:e.jsx("a",{target:"_blank",onClick:()=>y("on construction"),children:"View"})}),e.jsx($.Item,{icon:e.jsx(Jt,{}),children:e.jsx("a",{target:"_blank",onClick:()=>O(v),children:"Submissions"})}),e.jsx($.Item,{icon:e.jsx(Jt,{}),children:e.jsx("a",{target:"_blank",onClick:()=>q(v),children:"Attachements"})}),e.jsx($.Item,{icon:e.jsx(Dt,{}),disabled:!v.canDelete,onClick:()=>N(v),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx($.Item,{icon:e.jsx(Be,{}),disabled:!v.canEdit,onClick:()=>h(v.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:E=>E.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(ee.Item.Meta,{style:{borderBottom:"1px solid #e8e8e8",paddingBottom:10},avatar:e.jsx(sn,{}),title:e.jsxs("a",{target:"_blank",rel:"noreferrer",children:[v.title,v.onlineSubmission&&e.jsx("span",{style:{marginLeft:20},children:e.jsx(oe,{color:"red",children:"Online Submission"})})]}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:v.description}}),e.jsxs("p",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:[e.jsxs(oe,{color:"cyan",children:[e.jsx("span",{style:{marginRight:5},children:"Created:"}),e.jsx(wt,{date:new Date(v.created),locale:"en-US"})]}),e.jsxs(oe,{color:"green",children:[e.jsx("span",{style:{marginRight:5},children:"Deadline:"}),e.jsx(wt,{date:new Date(v.deadline),locale:"en-US"})]}),e.jsx(Ke,{title:"Click to View Attachments",children:e.jsx("a",{onClick:()=>q(v),children:e.jsxs(oe,{color:"orange",children:[e.jsx("span",{style:{marginRight:5},children:"Attachments:"}),v.totalAttachments]})})})]}),e.jsxs("span",{children:[v.canSubmit&&!v.canManage&&e.jsx(Ke,{title:v.submitted?"Click to Re-submitt Your Assignment Work":"Click to Submitt Your Assignment Work",color:v.submitted?"green":"red",children:e.jsx("a",{onClick:()=>B(v),children:e.jsx(oe,{color:v.submitted?"green":"red",icon:e.jsx(on,{}),children:e.jsxs("span",{style:{marginRight:5},children:[v.submitted?"Re-submitt":"Submitt"," ","Assignment Work:"]})})})}),v.canManage&&e.jsx(Ke,{title:"Click to View Students Submissions",color:"green",children:e.jsx("a",{onClick:()=>O(v),children:e.jsx(oe,{color:"green",children:e.jsx("span",{style:{marginRight:5},children:"Submissions"})})})})]})]})]})})},"class-assignment-link-"+v.id)},"class-resource-link-item-container-"+v.id)}),x&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{type:"primary",onClick:()=>{A(p+1)},children:"Load More"})})]})}),e.jsx(ae,{title:"Creating Assignment",open:L,onClose:v=>D(v),width:"50vw",children:e.jsx(ss,{form:c,onFinish:j})}),e.jsx(ae,{title:"Edit Assignment",open:U,onClose:v=>I(v),width:"50vw",children:e.jsx(pa,{assignment:a,form:_,onFinish:S})}),e.jsx(ae,{title:"Assignment Attachements",open:W,onClose:v=>z(v),width:"50vw",children:e.jsx(ga,{assignment:a,canManage:r.canManage})}),e.jsx(ae,{title:"Assignment Submissions",open:g,onClose:v=>u(v),width:"50vw",children:e.jsx(ya,{assignment:a,canManage:r.canManage})}),e.jsx(ae,{title:"Assignment Work Submission",open:m,onClose:v=>f(v),width:"50vw",children:e.jsx(xa,{assignment:a,canManage:r.canManage,submitted:a==null?void 0:a.submitted,onFinish:G})})]})},os=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(!0),[M]=T.useForm();be();const k=async(x,w="",L=!1)=>{const{data:D}=await Y.custom({url:"",method:"get",meta:{operation:"darasaDrivesToConnect",variables:{page:{value:x,type:"Int",required:!0},key:{value:w,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:va}]}}).catch(()=>(y.error("Error loading drives"),{data:null})).then(W=>W);D&&(d(D.total),l(D.page),P(D.hasNext),n(D.results)),s(!1)},R=async x=>{const{data:w}=await Y.custom({url:"",method:"post",meta:{operation:"addDarasaDrive",variables:{drive:{value:x,type:"Int",required:!0},darasa:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["success","message",{darasaDrive:ln}]}}).catch(()=>(y.error("Error adding drive"),{data:null})).then(L=>L);w&&(w.success?(y.success(w.message),n(t.filter(L=>parseInt(L.id.toString())!==x)),r.handleAddingDrive(w.darasaDrive)):y.error(w.message))};return o.useEffect(()=>{k(i)},[r.random]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(T,{layout:"vertical",form:M,onFinish:x=>{l(0),k(0,x.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Drive(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsxs("div",{id:"scrollableDrivesToAdd",style:{height:"65vh",overflow:"auto"},children:[e.jsx(ee,{bordered:!0,dataSource:t,renderItem:x=>e.jsxs(ee.Item,{actions:[e.jsx(gt,{title:"Are you sure to Add this Drive -"+x.name+" ?",onConfirm:()=>R(parseInt(x.id.toString())),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(K,{icon:e.jsx(Ht,{}),children:"Add"})})],children:[x.name,e.jsx(Wt,{}),e.jsx(pt.Text,{mark:!0,children:x.code})]})}),b&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{type:"primary",onClick:()=>{k(i+1)},children:"Load More"})})]})]})},ls=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(0),[M,k]=o.useState(!0),[R]=T.useForm(),{push:x}=be(),[w,L]=o.useState(!1),D=()=>{L(!0)},W=async(g,u="",m=!1)=>{const{data:f}=await Y.custom({url:"",method:"get",meta:{operation:"darasaDrives",variables:{page:{value:g,type:"Int",required:!0},key:{value:u,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:ln}]}}).catch(()=>(y.error("Error fetching drives"),{data:null})).then(c=>c);f&&(P(f.total),d(f.pages),l(f.page),k(f.hasNext),n(f.results)),s(!1)},z=async g=>{n([g,...t])},U=async g=>{const{data:u}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaDrive",variables:{id:{value:g,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error removing drive"),{data:null})).then(m=>m);u&&(u.success?(y.success(u.message),n(t.filter(m=>m.id!==g))):y.error(u.message))},I=g=>{pe.confirm({title:"Removing Drive",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Remove",cancelText:"Cancel",onOk:()=>U(g)})};return o.useEffect(()=>{W(i)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:R,onFinish:g=>{l(0),W(0,g.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Drive(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(Yt,{}),onClick:D,disabled:!r.canManage,children:"Add Drive"})})]}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[t.length>0?e.jsx(qe,{container:!0,children:t.map(g=>e.jsx(qe,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(Te,{hoverable:g.drive.isActive,style:{marginRight:10},children:[e.jsx(Ie,{style:{right:0,position:"absolute"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Ye,{}),disabled:!g.drive.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>{g.drive.isActive?x("/odrive/drive/"+g.drive.id+"/"+g.drive.code+"/files"):y("Drive is Blocked")},children:"View"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),e.jsx($.Item,{icon:e.jsx(ft,{}),onClick:()=>I(g.id),disabled:!r.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:u=>u.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx(hr.Ribbon,{text:g.drive.code,placement:"start",color:"orange",children:e.jsx("a",{onClick:()=>{g.drive.isActive?x("/odrive/drive/"+g.drive.id+"/"+g.drive.code+"/files"):y("Drive is Blocked")},children:e.jsxs(Ie,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx(_e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Ye,{}),src:g.drive.icon}),e.jsx(Ke,{title:g.drive.name,children:e.jsx("span",{style:{fontSize:20},children:g.drive.name.length>15?g.drive.name.substring(0,15)+"...":g.drive.name})})]})})})]})},g.id))}):e.jsxs(st,{severity:"info",children:["No drives found. Click on the ",e.jsx("b",{children:"Add Drive"})," button to add a drive"]}),M&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{type:"primary",onClick:()=>{W(i+1)},children:a?e.jsx(ce,{}):e.jsxs("span",{children:["Load More",e.jsxs("span",{style:{marginLeft:8},children:[i,"/",p]})]})})})]}),e.jsx(ae,{title:"Adding Drives",open:w,onClose:g=>L(g),width:"50vw",children:e.jsx(os,{id:r.id,random:Math.random(),handleAddingDrive:z})})]})},cs=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p]=T.useForm(),[d,b]=o.useState(0),[P,M]=o.useState(0),[k,R]=o.useState(!0);be();const[x,w]=o.useState(!1),[L,D]=o.useState(),W=g=>{D(g),w(!0)},z=async(g,u="",m=!1)=>{if(k){const{data:f}=await Y.custom({url:"",method:"get",meta:{operation:"darasaFiles",variables:{page:{value:parseInt(g.toString()),type:"Int",required:!0},key:{value:u,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Sa}]}}).catch(()=>(y.error("Error loading files"),{data:null})).then(c=>c);f&&(M(f.total),b(f.pages),l(f.page),R(f.hasNext),(u.length>0||u.length===0&&m)&&n(f.results),f.results.length>0&&!m&&n(t.concat(f.results))),s(!1)}},U=g=>{const u=t.map(m=>(m.id===g.id&&(m.imageVisible=!1),m));n(u)},I=g=>{const u=t.map(m=>(m.id===g.id&&(m.imageVisible=!0),m));n(u)};return o.useEffect(()=>{z(i)},[]),e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:p,onFinish:g=>z(0,g.key,!0),children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search file(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:e.jsxs(ce,{spinning:a,children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,renderItem:g=>e.jsx(ja,{item:g,min:r.min??!1,handleMakeImageNotVisible:U,handleMakeImageVisible:I,handleShowFileInfoDrawer:W})}),k&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{type:"primary",onClick:()=>z(i+1),disabled:!k,children:"Load More"})})]})}),e.jsx(Ot,{title:"File Informations",anchor:"right",width:"35vw",onClose:g=>w(g),open:x,children:e.jsx(ba,{id:L==null?void 0:L.id})})]})},us=r=>e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:t=>{r.onFinish(t)},requiredMark:!1,children:[e.jsx(T.Item,{name:"link",label:"Link",rules:[{required:!0,type:"url"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Url Address ..."})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})}),ds=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p]=T.useForm(),[d,b]=o.useState(0),[P,M]=o.useState(0),[k,R]=o.useState(!0),[x,w]=o.useState(!1),[L]=T.useForm(),D=()=>{w(!0)},W=async g=>{const{data:u}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaResourceLink",variables:{id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},link:{value:g.link,type:"String",required:!0}},fields:["success","message",{resource:Ir}]}}).catch(()=>(y.error("Error creating resource link"),{data:null})).then(m=>m);u&&(u.success?(y(u.message),n([u.resource,...t]),L.resetFields(),w(!1)):y.error(u.message))},z=async(g,u="",m=!1)=>{const{data:f}=await Y.custom({url:"",method:"get",meta:{operation:"darasaResources",variables:{page:{value:g,type:"Int",required:!0},key:{value:u,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Ir}]}}).catch(()=>(y.error("Error fetching resources links"),{data:null})).then(c=>c);f&&(M(f.total),b(f.pages),l(f.page),R(f.hasNext),(u.length>0||u.length===0&&m)&&n(f.results),f.results.length>0&&!m&&n(t.concat(f.results))),s(!1)},U=async g=>{const{data:u}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaResourceLink",variables:{id:{value:parseInt(g.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting resource link"),{data:null})).then(m=>m);u&&(u.success?(y.success(u.message),n(t.filter(m=>m.id!==g))):y.error(u.message))},I=g=>{pe.confirm({title:"Deleting Resource Link",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>U(g)})};return o.useEffect(()=>{z(i)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:p,onFinish:g=>z(0,g.key,!0),children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Resources Links...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(ht,{}),onClick:D,disabled:!r.canManage,size:"large",children:"Add Resource"})})]}),e.jsx("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:e.jsxs(ce,{spinning:a,children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,renderItem:g=>e.jsx("div",{style:{background:"white",marginBottom:5,paddingLeft:10,paddingTop:10},children:e.jsx(ee.Item,{style:{margin:0,padding:0},actions:[e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(mr,{}),children:e.jsx("a",{target:"_blank",href:g.link,rel:"noopener noreferrer",children:"Open"})}),e.jsx($.Item,{icon:e.jsx(Be,{}),disabled:!g.canDelete,onClick:()=>I(g.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:u=>u.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(ee.Item.Meta,{style:{borderBottom:"1px solid #e8e8e8"},avatar:e.jsx(ht,{}),title:e.jsx("a",{href:g.link,target:"_blank",rel:"noreferrer",children:g.link}),description:e.jsxs(e.Fragment,{children:[e.jsx("p",{}),e.jsx("p",{children:e.jsx(wt,{date:new Date(g.created),locale:"en-US"})})]})})},"class-resource-link-"+g.id)},"class-resource-link-item-container-"+g.id)}),k&&e.jsx("div",{style:{textAlign:"center",marginTop:12},children:e.jsx("button",{onClick:()=>{z(i+1)},children:"Load More"})})]})}),e.jsx(ae,{title:"Adding Resource Link",open:x,onClose:g=>w(g),width:"50vw",children:e.jsx(us,{form:L,onFinish:W})})]})},hs=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(!0),[M]=T.useForm();be();const k=async(x,w="",L=!1)=>{const{data:D}=await Y.custom({url:"",method:"get",meta:{operation:"darasaStudentsToAdd",variables:{page:{value:x,type:"Int",required:!0},key:{value:w,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Ca}]}}).catch(()=>(y.error("Error fetching students"),{data:null})).then(W=>W);D&&(d(D.total),l(D.page),P(D.hasNext),n(D.results)),s(!1)},R=async x=>{const{data:w}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaStudent",variables:{darasa:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},student:{value:parseInt(x===void 0?"0":x.toString()),type:"Int",required:!0}},fields:["success","message",{student:Pt}]}}).catch(()=>(y.error("Error adding student"),{data:null})).then(L=>L);w&&(w.success?(y.success(w.message),n(t.filter(L=>L.id!==x)),r.handleAddingStudent(w.student)):y.error(w.message))};return o.useEffect(()=>{k(i)},[r.random]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(T,{layout:"vertical",form:M,onFinish:x=>{l(0),k(0,x.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search User(s)/Student(s) to Add ...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsxs("div",{id:"scrollableDrivesToAdd",style:{height:"65vh",overflow:"auto"},children:[e.jsx(ee,{dataSource:t,renderItem:x=>e.jsxs(ee.Item,{actions:[e.jsx(gt,{title:"Are you sure to Add  -"+x.fullName+" ?",onConfirm:()=>R(x.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(K,{icon:e.jsx(Ht,{}),children:"Add"})})],children:[e.jsx(_e,{src:x.pic,style:{marginRight:10}}),x.fullName,e.jsx(Wt,{}),e.jsx(pt.Text,{mark:!0,children:x.email})]})}),b&&e.jsx(K,{onClick:()=>{k(i+1)},type:"primary",style:{margin:"auto",display:"block"},children:"Load More"})]})]})},fs=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(!0),[M]=T.useForm();be();const k=async(x,w="",L=!1)=>{const{data:D}=await Y.custom({url:"",method:"get",meta:{operation:"blockedDarasaStudents",variables:{page:{value:x,type:"Int",required:!0},key:{value:w,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Pt}]}}).catch(()=>(y.error("Error fetching students"),{data:null})).then(W=>W);D&&(d(D.total),l(D.page),P(D.hasNext),n(D.results)),s(!1)},R=async(x,w)=>{const{data:L}=await Y.custom({url:"",method:"post",meta:{operation:"blockUnblockDarasaStudent",variables:{id:{value:parseInt(x.toString()),type:"Int",required:!0},blocked:{value:w,type:"Boolean",required:!0}},fields:["success","message",{darasaStudent:Pt}]}}).catch(()=>(y.error("Error Unblocking student"),{data:null})).then(D=>D);L&&(L.success?(y.success(L.message),n(t.filter(D=>D.id!==x)),r.handleUnblockingStudent(L.darasaStudent)):y.error(L.message))};return o.useEffect(()=>{k(i)},[r.random]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(T,{layout:"vertical",form:M,onFinish:x=>{l(0),k(0,x.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Blocked Students ...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsxs("div",{id:"scrollableDrivesToAdd",style:{height:"65vh",overflow:"auto"},children:[e.jsx(ee,{dataSource:t,renderItem:x=>{var w,L,D;return e.jsxs(ee.Item,{actions:[e.jsx(gt,{title:"Are you sure to Unblock  -"+x.user.fullName+" ?",onConfirm:()=>R(x.id,!1),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(K,{icon:e.jsx(cn,{}),children:"Unblock"})})],children:[e.jsx(_e,{src:(w=x==null?void 0:x.user)==null?void 0:w.pic,style:{marginRight:10}}),(L=x==null?void 0:x.user)==null?void 0:L.fullName,e.jsx(Wt,{}),e.jsx(pt.Text,{mark:!0,children:(D=x==null?void 0:x.user)==null?void 0:D.email})]})}}),b&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{onClick:()=>k(i+1),disabled:!b,children:"Load More"})})]})]})},ms=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(0),[M,k]=o.useState(!0),[R]=T.useForm();be();const[x,w]=o.useState(!1),[L,D]=o.useState(!1),W=()=>{w(!0)},z=async(c,_="",B=!1)=>{const{data:G}=await Y.custom({url:"",method:"get",meta:{operation:"darasaStudents",variables:{page:{value:c,type:"Int",required:!0},key:{value:_,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Pt}]}}).catch(()=>(y.error("Error fetching students"),{data:null})).then(O=>O);G&&(P(G.total),d(G.pages),l(G.page),k(G.hasNext),n(G.results)),s(!1)},U=async c=>{n([c,...t])},I=async c=>{const{data:_}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaStudent",variables:{id:{value:parseInt(c.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error removing student"),{data:null})).then(B=>B);_&&(_.success?(y.success(_.message),n(t.filter(B=>B.id!==c))):y.error(_.message))},g=async(c,_)=>{const{data:B}=await Y.custom({url:"",method:"post",meta:{operation:"blockUnblockDarasaStudent",variables:{id:{value:parseInt(c.toString()),type:"Int",required:!0},blocked:{value:_,type:"Boolean",required:!0}},fields:["success","message",{darasaStudent:Pt}]}}).catch(()=>(y.error("Error blocking/unblocking student"),{data:null})).then(G=>G);if(B)if(B.success){y.success(B.message);const G=t.map(O=>O.id===c?B.darasaStudent:O);n(G)}else y.error(B.message)},u=c=>{const _=t.map(B=>B.id===c.id?c:B);n(_)},m=c=>{pe.confirm({title:"Removing Student",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Remove",cancelText:"Cancel",onOk:()=>I(c)})},f=(c,_)=>{pe.confirm({title:_?"Blocking Student":"Unblocking Student",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:_?"Block":"Unblock",cancelText:"Cancel",onOk:()=>g(c,_)})};return o.useEffect(()=>{z(i)},[]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:12,children:e.jsx(T,{layout:"vertical",form:R,onFinish:c=>{l(0),z(0,c.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Student(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsxs(X,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(K,{size:"large",icon:e.jsx(Yt,{}),onClick:W,disabled:!r.canManage,children:"Add Student"}),e.jsx(K,{size:"large",icon:e.jsx(ft,{}),onClick:()=>D(!0),disabled:!r.canManage,children:"Blocked Students"})]})]}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[t.length>0?e.jsx(Z,{align:"top",children:t.map(c=>e.jsx(X,{span:6,children:e.jsxs(Te,{hoverable:c.isActive,style:{marginRight:10,borderColor:c.blocked?"red":"#f0f0f0"},children:[e.jsx(Ie,{style:{right:0,position:"absolute"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Ye,{}),disabled:!c.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"View"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),e.jsx($.Item,{icon:e.jsx(ft,{}),onClick:()=>m(c.id),disabled:!c.canDelete,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})}),c.blocked?e.jsx($.Item,{icon:e.jsx(cn,{}),onClick:()=>f(c.id,!1),disabled:!c.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Unblock"})}):e.jsx($.Item,{icon:e.jsx(wa,{}),onClick:()=>f(c.id,!0),disabled:!c.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Block"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:_=>_.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx("a",{children:e.jsxs(Ie,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx(_e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Ye,{}),src:c.user.pic}),e.jsx("span",{style:{fontSize:20},children:c.user.fullName})]})})]})}))}):e.jsx(st,{severity:"info",children:"No Student found for this class. Please add some students"}),M&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{onClick:()=>{z(i+1)},disabled:!M,children:a?e.jsx(ce,{}):e.jsx(e.Fragment,{children:e.jsx("span",{children:"Load More"})})})})]}),e.jsx(ae,{title:"Adding Students",open:x,onClose:c=>w(c),width:"50vw",children:e.jsx(hs,{id:r.id,random:Math.random(),handleAddingStudent:U})}),e.jsx(ae,{title:"Blocked Students",open:L,onClose:c=>D(c),width:"50vw",children:e.jsx(fs,{id:r.id,random:Math.random(),handleUnblockingStudent:u})})]})},ps=r=>{const[t,n]=o.useState(!1),a=async s=>{var l;n(!0);const{data:i}=await Y.custom({url:"",method:"post",meta:{operation:"createClassYoutubeVideo",variables:{classId:{value:parseInt((l=r.id)==null?void 0:l.toString()),type:"Int",required:!0},url:{value:s.url,type:"String",required:!0}},fields:["success","message",{video:pr}]}}).catch(()=>(y.error("Error Adding a Video"),{data:null})).then(p=>p);i&&(i.success?(y.success(i.message),r.handleAddingDrive(i.video)):y.error(i.message)),n(!1)};return e.jsx(e.Fragment,{children:e.jsx(ce,{spinning:t,children:e.jsxs(T,{layout:"vertical",onFinish:s=>{a(s)},requiredMark:!1,children:[e.jsx(T.Item,{name:"url",label:"Youtube Video URL",rules:[{required:!0,type:"url",message:"Please input Youtube URL ..."}],children:e.jsx(ne,{size:"large",placeholder:"Enter Youtube URL ..."})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",loading:t,children:"Save"})})]})})})},_r=[".mp4"],gs=r=>Array.isArray(r)?r:r==null?void 0:r.fileList,ys=r=>{const[t,n]=o.useState(!1),[a]=T.useForm(),[s,i]=o.useState(""),l=Bt(),p=async d=>{n(!0);const{data:b}=await Y.custom({url:"",method:"post",meta:{operation:"uploadClassVideo",variables:{classId:{value:parseInt(l.id),type:"Int",required:!0},video:{value:d.video,type:"Upload",required:!0},title:{value:d.title,type:"String",required:!0},description:{value:d.description,type:"String",required:!1}},fields:["success","message",{video:pr}]}}).catch(()=>(y.error("Error uploading a Video File"),{data:null})).then(P=>P);b&&(b.success?(i(""),y.success(b.message),r.handleAddingVideo(b.video)):y.error(b.message)),n(!1)};return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",onFinish:d=>{d.description=s,p(d)},requiredMark:!1,form:a,children:[e.jsx(T.Item,{label:"Pick a Video Files ("+_r.join()+")",children:e.jsx(T.Item,{name:"video",valuePropName:"fileList",getValueFromEvent:gs,noStyle:!0,rules:[{required:!0,type:"array",message:"Please upload students excel file"}],children:e.jsxs(gr.Dragger,{name:"file",accept:_r.join(),multiple:!1,beforeUpload:()=>!1,onChange:d=>{a.setFieldsValue({title:d.file.name})},onRemove:d=>{a.setFieldsValue({title:""})},children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(Pa,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload."})]})})}),e.jsx(T.Item,{name:"title",label:"Video Title",rules:[{required:!0,type:"string",message:"Please input title"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Title ..."})}),e.jsx("h3",{children:"Description"}),e.jsx(Ue.CKEditor,{editor:ze,data:s,onReady:d=>{d.editing.view.change(b=>{b.setStyle("min-height","100px",d.editing.view.document.getRoot())})},onChange:(d,b)=>{const P=b.getData();i(P)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})};class xs extends o.Component{constructor(n){super(n);wr(this,"player");this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.load=this.load.bind(this),this.changeCurrentTime=this.changeCurrentTime.bind(this),this.seek=this.seek.bind(this),this.changePlaybackRateRate=this.changePlaybackRateRate.bind(this),this.changeVolume=this.changeVolume.bind(this),this.setMuted=this.setMuted.bind(this)}componentDidMount(){this.player.subscribeToStateChange(this.handleStateChange.bind(this)),this.props.updatePlayer(this.player,this.props.index)}setMuted(n){return()=>{this.player.muted=n}}handleStateChange(n){this.setState({player:n})}play(){y("playing"),this.player.play()}pause(){this.player.pause()}load(){this.player.load()}changeCurrentTime(n){return()=>{const{player:a}=this.player.getState();this.player.seek(a.currentTime+n)}}seek(n){return()=>{this.player.seek(n)}}changePlaybackRateRate(n){return()=>{const{player:a}=this.player.getState();this.player.playbackRate=a.playbackRate+n}}changeVolume(n){return()=>{const{player:a}=this.player.getState();this.player.volume=a.volume+n}}render(){return e.jsx("div",{children:e.jsx(Ta.Player,{ref:n=>{this.player=n},aspectRatio:"1110:680",preload:"auto",autoPlay:!1,children:e.jsx("source",{src:this.props.file})})})}}var Gt={},vs=function(t){return js(t)&&!bs(t)};function js(r){return!!r&&typeof r=="object"}function bs(r){var t=Object.prototype.toString.call(r);return t==="[object RegExp]"||t==="[object Date]"||ws(r)}var Ss=typeof Symbol=="function"&&Symbol.for,Cs=Ss?Symbol.for("react.element"):60103;function ws(r){return r.$$typeof===Cs}function Ps(r){return Array.isArray(r)?[]:{}}function Tt(r,t){return t.clone!==!1&&t.isMergeableObject(r)?mt(Ps(r),r,t):r}function Ts(r,t,n){return r.concat(t).map(function(a){return Tt(a,n)})}function Is(r,t){if(!t.customMerge)return mt;var n=t.customMerge(r);return typeof n=="function"?n:mt}function ks(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(t){return Object.propertyIsEnumerable.call(r,t)}):[]}function Ar(r){return Object.keys(r).concat(ks(r))}function bn(r,t){try{return t in r}catch{return!1}}function Ds(r,t){return bn(r,t)&&!(Object.hasOwnProperty.call(r,t)&&Object.propertyIsEnumerable.call(r,t))}function Os(r,t,n){var a={};return n.isMergeableObject(r)&&Ar(r).forEach(function(s){a[s]=Tt(r[s],n)}),Ar(t).forEach(function(s){Ds(r,s)||(bn(r,s)&&n.isMergeableObject(t[s])?a[s]=Is(s,n)(r[s],t[s],n):a[s]=Tt(t[s],n))}),a}function mt(r,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ts,n.isMergeableObject=n.isMergeableObject||vs,n.cloneUnlessOtherwiseSpecified=Tt;var a=Array.isArray(t),s=Array.isArray(r),i=a===s;return i?a?n.arrayMerge(r,t,n):Os(r,t,n):Tt(t,n)}mt.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,s){return mt(a,s,n)},{})};var Ms=mt,Sn=Ms,Er=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function _s(r,t){return!!(r===t||Er(r)&&Er(t))}function As(r,t){if(r.length!==t.length)return!1;for(var n=0;n<r.length;n++)if(!_s(r[n],t[n]))return!1;return!0}function Es(r,t){t===void 0&&(t=As);var n,a=[],s,i=!1;function l(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];return i&&n===this&&t(p,a)||(s=r.apply(this,p),i=!0,n=this,a=p),s}return l}const Fs=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"})),Rs=Ia(Fs);var Ls=typeof Element<"u",Ns=typeof Map=="function",qs=typeof Set=="function",Vs=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ft(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,a,s;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!Ft(r[a],t[a]))return!1;return!0}var i;if(Ns&&r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(i=r.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;for(i=r.entries();!(a=i.next()).done;)if(!Ft(a.value[1],t.get(a.value[0])))return!1;return!0}if(qs&&r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(i=r.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(Vs&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(r[a]!==t[a])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof t.valueOf=="function")return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof t.toString=="function")return r.toString()===t.toString();if(s=Object.keys(r),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;if(Ls&&r instanceof Element)return!1;for(a=n;a--!==0;)if(!((s[a]==="_owner"||s[a]==="__v"||s[a]==="__o")&&r.$$typeof)&&!Ft(r[s[a]],t[s[a]]))return!1;return!0}return r!==r&&t!==t}var Cn=function(t,n){try{return Ft(t,n)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.defaultProps=nt.propTypes=void 0;var $e=Us(ka);function Us(r){return r&&r.__esModule?r:{default:r}}var Ce=$e.default.string,we=$e.default.bool,lt=$e.default.number,Zt=$e.default.array,xt=$e.default.oneOfType,Ee=$e.default.shape,Pe=$e.default.object,he=$e.default.func,Fr=$e.default.node,zs={url:xt([Ce,Zt,Pe]),playing:we,loop:we,controls:we,volume:lt,muted:we,playbackRate:lt,width:xt([Ce,lt]),height:xt([Ce,lt]),style:Pe,progressInterval:lt,playsinline:we,pip:we,stopOnUnmount:we,light:xt([we,Ce,Pe]),playIcon:Fr,previewTabIndex:lt,fallback:Fr,oEmbedUrl:Ce,wrapper:xt([Ce,he,Ee({render:he.isRequired})]),config:Ee({soundcloud:Ee({options:Pe}),youtube:Ee({playerVars:Pe,embedOptions:Pe,onUnstarted:he}),facebook:Ee({appId:Ce,version:Ce,playerId:Ce,attributes:Pe}),dailymotion:Ee({params:Pe}),vimeo:Ee({playerOptions:Pe,title:Ce}),file:Ee({attributes:Pe,tracks:Zt,forceVideo:we,forceAudio:we,forceHLS:we,forceSafariHLS:we,forceDisableHls:we,forceDASH:we,forceFLV:we,hlsOptions:Pe,hlsVersion:Ce,dashVersion:Ce,flvVersion:Ce}),wistia:Ee({options:Pe,playerId:Ce,customControls:Zt}),mixcloud:Ee({options:Pe}),twitch:Ee({options:Pe,playerId:Ce}),vidyard:Ee({options:Pe})}),onReady:he,onStart:he,onPlay:he,onPause:he,onBuffer:he,onBufferEnd:he,onEnded:he,onError:he,onDuration:he,onSeek:he,onPlaybackRateChange:he,onPlaybackQualityChange:he,onProgress:he,onClickPreview:he,onEnablePIP:he,onDisablePIP:he};nt.propTypes=zs;var ye=function(){},Hs={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:ye},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:ye,onStart:ye,onPlay:ye,onPause:ye,onBuffer:ye,onBufferEnd:ye,onEnded:ye,onError:ye,onDuration:ye,onSeek:ye,onPlaybackRateChange:ye,onPlaybackQualityChange:ye,onProgress:ye,onClickPreview:ye,onEnablePIP:ye,onDisablePIP:ye};nt.defaultProps=Hs;var Se={},Ws=function(t,n,a){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(a=n,n={}),n=n||{},a=a||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=t,n.attrs&&Ys(i,n.attrs),n.text&&(i.text=""+n.text);var l="onload"in i?Rr:Bs;l(i,a),i.onload||Rr(i,a),s.appendChild(i)};function Ys(r,t){for(var n in t)r.setAttribute(n,t[n])}function Rr(r,t){r.onload=function(){this.onerror=this.onload=null,t(null,r)},r.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),r)}}function Bs(r,t){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,r))}}Object.defineProperty(Se,"__esModule",{value:!0});Se.parseStartTime=ai;Se.parseEndTime=si;Se.randomString=ii;Se.queryString=oi;Se.getSDK=li;Se.getConfig=ci;Se.omit=ui;Se.callPlayer=di;Se.isMediaStream=hi;Se.isBlobUrl=fi;Se.supportsWebKitPresentationMode=mi;var $s=wn(Ws),Gs=wn(Sn);function wn(r){return r&&r.__esModule?r:{default:r}}function Ks(r,t){return Zs(r)||Qs(r,t)||Js(r,t)||Xs()}function Xs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Js(r,t){if(r){if(typeof r=="string")return Lr(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lr(r,t)}}function Lr(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function Qs(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,s=!1,i=void 0;try{for(var l=r[Symbol.iterator](),p;!(a=(p=l.next()).done)&&(n.push(p.value),!(t&&n.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function Zs(r){if(Array.isArray(r))return r}var ei=/[?&#](?:start|t)=([0-9hms]+)/,ti=/[?&#]end=([0-9hms]+)/,ir=/(\d+)(h|m|s)/g,ri=/^\d+$/;function Pn(r,t){if(!(r instanceof Array)){var n=r.match(t);if(n){var a=n[1];if(a.match(ir))return ni(a);if(ri.test(a))return parseInt(a)}}}function ni(r){for(var t=0,n=ir.exec(r);n!==null;){var a=n,s=Ks(a,3),i=s[1],l=s[2];l==="h"&&(t+=parseInt(i,10)*60*60),l==="m"&&(t+=parseInt(i,10)*60),l==="s"&&(t+=parseInt(i,10)),n=ir.exec(r)}return t}function ai(r){return Pn(r,ei)}function si(r){return Pn(r,ti)}function ii(){return Math.random().toString(36).substr(2,5)}function oi(r){return Object.keys(r).map(function(t){return"".concat(t,"=").concat(r[t])}).join("&")}function er(r){return window[r]?window[r]:window.exports&&window.exports[r]?window.exports[r]:window.module&&window.module.exports&&window.module.exports[r]?window.module.exports[r]:null}var ct={};function li(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:$s.default,i=er(t);return i&&a(i)?Promise.resolve(i):new Promise(function(l,p){if(ct[r]){ct[r].push({resolve:l,reject:p});return}ct[r]=[{resolve:l,reject:p}];var d=function(M){ct[r].forEach(function(k){return k.resolve(M)})};if(n){var b=window[n];window[n]=function(){b&&b(),d(er(t))}}s(r,function(P){P?(ct[r].forEach(function(M){return M.reject(P)}),ct[r]=null):n||d(er(t))})})}function ci(r,t){return(0,Gs.default)(t.config,r.config)}function ui(r){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];for(var i=(t=[]).concat.apply(t,a),l={},p=Object.keys(r),d=0,b=p;d<b.length;d++){var P=b[d];i.indexOf(P)===-1&&(l[P]=r[P])}return l}function di(r){var t;if(!this.player||!this.player[r]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(r,"%c – ");return this.player?this.player[r]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return(t=this.player)[r].apply(t,s)}function hi(r){return typeof window<"u"&&typeof window.MediaStream<"u"&&r instanceof window.MediaStream}function fi(r){return/^blob:/.test(r)}function mi(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),t=/iPhone|iPod/.test(navigator.userAgent)===!1;return r.webkitSupportsPresentationMode&&typeof r.webkitSetPresentationMode=="function"&&t}var Tn={};(function(r){function t(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(u)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=d(o),a=l(Cn),s=nt,i=Se;function l(u){return u&&u.__esModule?u:{default:u}}function p(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return p=function(){return u},u}function d(u){if(u&&u.__esModule)return u;if(u===null||t(u)!=="object"&&typeof u!="function")return{default:u};var m=p();if(m&&m.has(u))return m.get(u);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)){var B=c?Object.getOwnPropertyDescriptor(u,_):null;B&&(B.get||B.set)?Object.defineProperty(f,_,B):f[_]=u[_]}return f.default=u,m&&m.set(u,f),f}function b(){return b=Object.assign||function(u){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=f[c])}return u},b.apply(this,arguments)}function P(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function M(u,m){for(var f=0;f<m.length;f++){var c=m[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function k(u,m,f){return m&&M(u.prototype,m),f&&M(u,f),u}function R(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),m&&x(u,m)}function x(u,m){return x=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},x(u,m)}function w(u){var m=W();return function(){var c=z(u),_;if(m){var B=z(this).constructor;_=Reflect.construct(c,arguments,B)}else _=c.apply(this,arguments);return L(this,_)}}function L(u,m){return m&&(t(m)==="object"||typeof m=="function")?m:D(u)}function D(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(u){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},z(u)}function U(u,m,f){return m in u?Object.defineProperty(u,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[m]=f,u}var I=5e3,g=function(u){R(f,u);var m=w(f);function f(){var c;P(this,f);for(var _=arguments.length,B=new Array(_),G=0;G<_;G++)B[G]=arguments[G];return c=m.call.apply(m,[this].concat(B)),U(D(c),"mounted",!1),U(D(c),"isReady",!1),U(D(c),"isPlaying",!1),U(D(c),"isLoading",!0),U(D(c),"loadOnReady",null),U(D(c),"startOnPlay",!0),U(D(c),"seekOnPlay",null),U(D(c),"onDurationCalled",!1),U(D(c),"handlePlayerMount",function(O){if(c.player){c.progress();return}c.player=O,c.player.load(c.props.url),c.progress()}),U(D(c),"getInternalPlayer",function(O){return c.player?c.player[O]:null}),U(D(c),"progress",function(){if(c.props.url&&c.player&&c.isReady){var O=c.getCurrentTime()||0,q=c.getSecondsLoaded(),N=c.getDuration();if(N){var V={playedSeconds:O,played:O/N};q!==null&&(V.loadedSeconds=q,V.loaded=q/N),(V.playedSeconds!==c.prevPlayed||V.loadedSeconds!==c.prevLoaded)&&c.props.onProgress(V),c.prevPlayed=V.playedSeconds,c.prevLoaded=V.loadedSeconds}}c.progressTimeout=setTimeout(c.progress,c.props.progressFrequency||c.props.progressInterval)}),U(D(c),"handleReady",function(){if(c.mounted){c.isReady=!0,c.isLoading=!1;var O=c.props,q=O.onReady,N=O.playing,V=O.volume,j=O.muted;q(),!j&&V!==null&&c.player.setVolume(V),c.loadOnReady?(c.player.load(c.loadOnReady,!0),c.loadOnReady=null):N&&c.player.play(),c.handleDurationCheck()}}),U(D(c),"handlePlay",function(){c.isPlaying=!0,c.isLoading=!1;var O=c.props,q=O.onStart,N=O.onPlay,V=O.playbackRate;c.startOnPlay&&(c.player.setPlaybackRate&&V!==1&&c.player.setPlaybackRate(V),q(),c.startOnPlay=!1),N(),c.seekOnPlay&&(c.seekTo(c.seekOnPlay),c.seekOnPlay=null),c.handleDurationCheck()}),U(D(c),"handlePause",function(O){c.isPlaying=!1,c.isLoading||c.props.onPause(O)}),U(D(c),"handleEnded",function(){var O=c.props,q=O.activePlayer,N=O.loop,V=O.onEnded;q.loopOnEnded&&N&&c.seekTo(0),N||(c.isPlaying=!1,V())}),U(D(c),"handleError",function(){var O;c.isLoading=!1,(O=c.props).onError.apply(O,arguments)}),U(D(c),"handleDurationCheck",function(){clearTimeout(c.durationCheckTimeout);var O=c.getDuration();O?c.onDurationCalled||(c.props.onDuration(O),c.onDurationCalled=!0):c.durationCheckTimeout=setTimeout(c.handleDurationCheck,100)}),U(D(c),"handleLoaded",function(){c.isLoading=!1}),c}return k(f,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(_){var B=this;if(this.player){var G=this.props,O=G.url,q=G.playing,N=G.volume,V=G.muted,j=G.playbackRate,S=G.pip,A=G.loop,C=G.activePlayer,h=G.disableDeferredLoading;if(!(0,a.default)(_.url,O)){if(this.isLoading&&!C.forceLoad&&!h&&!(0,i.isMediaStream)(O)){console.warn("ReactPlayer: the attempt to load ".concat(O," is being deferred until the player has loaded")),this.loadOnReady=O;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(O,this.isReady)}!_.playing&&q&&!this.isPlaying&&this.player.play(),_.playing&&!q&&this.isPlaying&&this.player.pause(),!_.pip&&S&&this.player.enablePIP&&this.player.enablePIP(),_.pip&&!S&&this.player.disablePIP&&this.player.disablePIP(),_.volume!==N&&N!==null&&this.player.setVolume(N),_.muted!==V&&(V?this.player.mute():(this.player.unmute(),N!==null&&setTimeout(function(){return B.player.setVolume(N)}))),_.playbackRate!==j&&this.player.setPlaybackRate&&this.player.setPlaybackRate(j),_.loop!==A&&this.player.setLoop&&this.player.setLoop(A)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(_,B,G){var O=this;if(!this.isReady){_!==0&&(this.seekOnPlay=_,setTimeout(function(){O.seekOnPlay=null},I));return}var q=B?B==="fraction":_>0&&_<1;if(q){var N=this.player.getDuration();if(!N){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(N*_,G);return}this.player.seekTo(_,G)}},{key:"render",value:function(){var _=this.props.activePlayer;return _?n.default.createElement(_,b({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),f}(n.Component);r.default=g,U(g,"displayName","Player"),U(g,"propTypes",s.propTypes),U(g,"defaultProps",s.defaultProps)})(Tn);var tr={},Nr;function pi(){return Nr||(Nr=1,function(r){function t(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(u){return typeof u}:t=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(I)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(o);function a(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return a=function(){return I},I}function s(I){if(I&&I.__esModule)return I;if(I===null||t(I)!=="object"&&typeof I!="function")return{default:I};var g=a();if(g&&g.has(I))return g.get(I);var u={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in I)if(Object.prototype.hasOwnProperty.call(I,f)){var c=m?Object.getOwnPropertyDescriptor(I,f):null;c&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=I[f]}return u.default=I,g&&g.set(I,u),u}function i(I,g){var u=Object.keys(I);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(I);g&&(m=m.filter(function(f){return Object.getOwnPropertyDescriptor(I,f).enumerable})),u.push.apply(u,m)}return u}function l(I){for(var g=1;g<arguments.length;g++){var u=arguments[g]!=null?arguments[g]:{};g%2?i(Object(u),!0).forEach(function(m){D(I,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(u)):i(Object(u)).forEach(function(m){Object.defineProperty(I,m,Object.getOwnPropertyDescriptor(u,m))})}return I}function p(I,g){if(!(I instanceof g))throw new TypeError("Cannot call a class as a function")}function d(I,g){for(var u=0;u<g.length;u++){var m=g[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(I,m.key,m)}}function b(I,g,u){return g&&d(I.prototype,g),u&&d(I,u),I}function P(I,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(g&&g.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),g&&M(I,g)}function M(I,g){return M=Object.setPrototypeOf||function(m,f){return m.__proto__=f,m},M(I,g)}function k(I){var g=w();return function(){var m=L(I),f;if(g){var c=L(this).constructor;f=Reflect.construct(m,arguments,c)}else f=m.apply(this,arguments);return R(this,f)}}function R(I,g){return g&&(t(g)==="object"||typeof g=="function")?g:x(I)}function x(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function L(I){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},L(I)}function D(I,g,u){return g in I?Object.defineProperty(I,g,{value:u,enumerable:!0,configurable:!0,writable:!0}):I[g]=u,I}var W="64px",z={},U=function(I){P(u,I);var g=k(u);function u(){var m;p(this,u);for(var f=arguments.length,c=new Array(f),_=0;_<f;_++)c[_]=arguments[_];return m=g.call.apply(g,[this].concat(c)),D(x(m),"mounted",!1),D(x(m),"state",{image:null}),D(x(m),"handleKeyPress",function(B){(B.key==="Enter"||B.key===" ")&&m.props.onClick()}),m}return b(u,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(f){var c=this.props,_=c.url,B=c.light;(f.url!==_||f.light!==B)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(f){var c=this,_=f.url,B=f.light,G=f.oEmbedUrl;if(!n.default.isValidElement(B)){if(typeof B=="string"){this.setState({image:B});return}if(z[_]){this.setState({image:z[_]});return}return this.setState({image:null}),window.fetch(G.replace("{url}",_)).then(function(O){return O.json()}).then(function(O){if(O.thumbnail_url&&c.mounted){var q=O.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");c.setState({image:q}),z[_]=q}})}}},{key:"render",value:function(){var f=this.props,c=f.light,_=f.onClick,B=f.playIcon,G=f.previewTabIndex,O=this.state.image,q=n.default.isValidElement(c),N={display:"flex",alignItems:"center",justifyContent:"center"},V={preview:l({width:"100%",height:"100%",backgroundImage:O&&!q?"url(".concat(O,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},N),shadow:l({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:W,width:W,height:W,position:q?"absolute":void 0},N),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},j=n.default.createElement("div",{style:V.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:V.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:V.preview,className:"react-player__preview",onClick:_,tabIndex:G,onKeyPress:this.handleKeyPress},q?c:null,B||j)}}]),u}(n.Component);r.default=U}(tr)),tr}Object.defineProperty(Gt,"__esModule",{value:!0});Gt.createReactPlayer=void 0;var tt=kn(o),gi=Kt(Sn),rr=Kt(Rs),qr=Kt(Cn),St=nt,yi=Se,xi=Kt(Tn);function Kt(r){return r&&r.__esModule?r:{default:r}}function Ct(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ct=function(n){return typeof n}:Ct=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ct(r)}function Vr(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Ur(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vr(Object(n),!0).forEach(function(a){le(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Lt(){return Lt=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Lt.apply(this,arguments)}function nr(r){return Si(r)||bi(r)||ji(r)||vi()}function vi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ji(r,t){if(r){if(typeof r=="string")return or(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(r,t)}}function bi(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Si(r){if(Array.isArray(r))return or(r)}function or(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function Ci(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function zr(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function wi(r,t,n){return t&&zr(r.prototype,t),n&&zr(r,n),r}function Pi(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&lr(r,t)}function lr(r,t){return lr=Object.setPrototypeOf||function(a,s){return a.__proto__=s,a},lr(r,t)}function Ti(r){var t=ki();return function(){var a=Nt(r),s;if(t){var i=Nt(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Ii(this,s)}}function Ii(r,t){return t&&(Ct(t)==="object"||typeof t=="function")?t:je(r)}function je(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ki(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nt(r){return Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nt(r)}function le(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function In(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return In=function(){return r},r}function kn(r){if(r&&r.__esModule)return r;if(r===null||Ct(r)!=="object"&&typeof r!="function")return{default:r};var t=In();if(t&&t.has(r))return t.get(r);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var i=a?Object.getOwnPropertyDescriptor(r,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=r[s]}return n.default=r,t&&t.set(r,n),n}var Di=(0,tt.lazy)(function(){return Promise.resolve().then(function(){return kn(pi())})}),Oi=typeof window<"u"&&window.document,Mi=typeof Qt<"u"&&Qt.window&&Qt.window.document,_i=Object.keys(St.propTypes),Ai=Oi||Mi?tt.Suspense:function(){return null},vt=[],Ei=function(t,n){var a,s;return s=a=function(i){Pi(p,i);var l=Ti(p);function p(){var d;Ci(this,p);for(var b=arguments.length,P=new Array(b),M=0;M<b;M++)P[M]=arguments[M];return d=l.call.apply(l,[this].concat(P)),le(je(d),"state",{showPreview:!!d.props.light}),le(je(d),"references",{wrapper:function(R){d.wrapper=R},player:function(R){d.player=R}}),le(je(d),"handleClickPreview",function(k){d.setState({showPreview:!1}),d.props.onClickPreview(k)}),le(je(d),"showPreview",function(){d.setState({showPreview:!0})}),le(je(d),"getDuration",function(){return d.player?d.player.getDuration():null}),le(je(d),"getCurrentTime",function(){return d.player?d.player.getCurrentTime():null}),le(je(d),"getSecondsLoaded",function(){return d.player?d.player.getSecondsLoaded():null}),le(je(d),"getInternalPlayer",function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return d.player?d.player.getInternalPlayer(k):null}),le(je(d),"seekTo",function(k,R,x){if(!d.player)return null;d.player.seekTo(k,R,x)}),le(je(d),"handleReady",function(){d.props.onReady(je(d))}),le(je(d),"getActivePlayer",(0,rr.default)(function(k){for(var R=0,x=[].concat(vt,nr(t));R<x.length;R++){var w=x[R];if(w.canPlay(k))return w}return n||null})),le(je(d),"getConfig",(0,rr.default)(function(k,R){var x=d.props.config;return gi.default.all([St.defaultProps.config,St.defaultProps.config[R]||{},x,x[R]||{}])})),le(je(d),"getAttributes",(0,rr.default)(function(k){return(0,yi.omit)(d.props,_i)})),le(je(d),"renderActivePlayer",function(k){if(!k)return null;var R=d.getActivePlayer(k);if(!R)return null;var x=d.getConfig(k,R.key);return tt.default.createElement(xi.default,Lt({},d.props,{key:R.key,ref:d.references.player,config:x,activePlayer:R.lazyPlayer||R,onReady:d.handleReady}))}),d}return wi(p,[{key:"shouldComponentUpdate",value:function(b,P){return!(0,qr.default)(this.props,b)||!(0,qr.default)(this.state,P)}},{key:"componentDidUpdate",value:function(b){var P=this.props.light;!b.light&&P&&this.setState({showPreview:!0}),b.light&&!P&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(b){if(!b)return null;var P=this.props,M=P.light,k=P.playIcon,R=P.previewTabIndex,x=P.oEmbedUrl;return tt.default.createElement(Di,{url:b,light:M,playIcon:k,previewTabIndex:R,oEmbedUrl:x,onClick:this.handleClickPreview})}},{key:"render",value:function(){var b=this.props,P=b.url,M=b.style,k=b.width,R=b.height,x=b.fallback,w=b.wrapper,L=this.state.showPreview,D=this.getAttributes(P),W=typeof w=="string"?this.references.wrapper:void 0;return tt.default.createElement(w,Lt({ref:W,style:Ur(Ur({},M),{},{width:k,height:R})},D),tt.default.createElement(Ai,{fallback:x},L?this.renderPreview(P):this.renderActivePlayer(P)))}}]),p}(tt.Component),le(a,"displayName","ReactPlayer"),le(a,"propTypes",St.propTypes),le(a,"defaultProps",St.defaultProps),le(a,"addCustomPlayer",function(i){vt.push(i)}),le(a,"removeCustomPlayers",function(){vt.length=0}),le(a,"canPlay",function(i){for(var l=0,p=[].concat(vt,nr(t));l<p.length;l++){var d=p[l];if(d.canPlay(i))return!0}return!1}),le(a,"canEnablePIP",function(i){for(var l=0,p=[].concat(vt,nr(t));l<p.length;l++){var d=p[l];if(d.canEnablePIP&&d.canEnablePIP(i))return!0}return!1}),s};Gt.createReactPlayer=Ei;var Dn={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.canPlay=Q.FLV_EXTENSIONS=Q.DASH_EXTENSIONS=Q.HLS_EXTENSIONS=Q.VIDEO_EXTENSIONS=Q.AUDIO_EXTENSIONS=Q.MATCH_URL_KALTURA=Q.MATCH_URL_VIDYARD=Q.MATCH_URL_MIXCLOUD=Q.MATCH_URL_DAILYMOTION=Q.MATCH_URL_TWITCH_CHANNEL=Q.MATCH_URL_TWITCH_VIDEO=Q.MATCH_URL_WISTIA=Q.MATCH_URL_STREAMABLE=Q.MATCH_URL_FACEBOOK_WATCH=Q.MATCH_URL_FACEBOOK=Q.MATCH_URL_VIMEO=Q.MATCH_URL_SOUNDCLOUD=Q.MATCH_URL_YOUTUBE=void 0;var Hr=Se;function Fi(r,t){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=Ri(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var a=0,s=function(){};return{s,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,p;return{s:function(){n=r[Symbol.iterator]()},n:function(){var b=n.next();return i=b.done,b},e:function(b){l=!0,p=b},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(l)throw p}}}}function Ri(r,t){if(r){if(typeof r=="string")return Wr(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(r,t)}}function Wr(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var cr=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;Q.MATCH_URL_YOUTUBE=cr;var On=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;Q.MATCH_URL_SOUNDCLOUD=On;var Mn=/vimeo\.com\/(?!progressive_redirect).+/;Q.MATCH_URL_VIMEO=Mn;var _n=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;Q.MATCH_URL_FACEBOOK=_n;var An=/^https?:\/\/fb\.watch\/.+$/;Q.MATCH_URL_FACEBOOK_WATCH=An;var En=/streamable\.com\/([a-z0-9]+)$/;Q.MATCH_URL_STREAMABLE=En;var Fn=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/;Q.MATCH_URL_WISTIA=Fn;var Rn=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;Q.MATCH_URL_TWITCH_VIDEO=Rn;var Ln=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;Q.MATCH_URL_TWITCH_CHANNEL=Ln;var Nn=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;Q.MATCH_URL_DAILYMOTION=Nn;var qn=/mixcloud\.com\/([^/]+\/[^/]+)/;Q.MATCH_URL_MIXCLOUD=qn;var Vn=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;Q.MATCH_URL_VIDYARD=Vn;var Un=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;Q.MATCH_URL_KALTURA=Un;var br=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;Q.AUDIO_EXTENSIONS=br;var Sr=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;Q.VIDEO_EXTENSIONS=Sr;var Cr=/\.(m3u8)($|\?)/i;Q.HLS_EXTENSIONS=Cr;var zn=/\.(mpd)($|\?)/i;Q.DASH_EXTENSIONS=zn;var Hn=/\.(flv)($|\?)/i;Q.FLV_EXTENSIONS=Hn;var Li=function r(t){if(t instanceof Array){var n=Fi(t),a;try{for(n.s();!(a=n.n()).done;){var s=a.value;if(typeof s=="string"&&r(s)||r(s.src))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}return(0,Hr.isMediaStream)(t)||(0,Hr.isBlobUrl)(t)?!0:br.test(t)||Sr.test(t)||Cr.test(t)||zn.test(t)||Hn.test(t)},Ni={youtube:function(t){return t instanceof Array?t.every(function(n){return cr.test(n)}):cr.test(t)},soundcloud:function(t){return On.test(t)&&!br.test(t)},vimeo:function(t){return Mn.test(t)&&!Sr.test(t)&&!Cr.test(t)},facebook:function(t){return _n.test(t)||An.test(t)},streamable:function(t){return En.test(t)},wistia:function(t){return Fn.test(t)},twitch:function(t){return Rn.test(t)||Ln.test(t)},dailymotion:function(t){return Nn.test(t)},mixcloud:function(t){return qn.test(t)},vidyard:function(t){return Vn.test(t)},kaltura:function(t){return Un.test(t)},file:Li};Q.canPlay=Ni;(function(r){function t(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(A){return typeof A}:t=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(j)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=l(o),a=Se,s=Q;function i(){if(typeof WeakMap!="function")return null;var j=new WeakMap;return i=function(){return j},j}function l(j){if(j&&j.__esModule)return j;if(j===null||t(j)!=="object"&&typeof j!="function")return{default:j};var S=i();if(S&&S.has(j))return S.get(j);var A={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in j)if(Object.prototype.hasOwnProperty.call(j,h)){var v=C?Object.getOwnPropertyDescriptor(j,h):null;v&&(v.get||v.set)?Object.defineProperty(A,h,v):A[h]=j[h]}return A.default=j,S&&S.set(j,A),A}function p(j,S){var A=Object.keys(j);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(j);S&&(C=C.filter(function(h){return Object.getOwnPropertyDescriptor(j,h).enumerable})),A.push.apply(A,C)}return A}function d(j){for(var S=1;S<arguments.length;S++){var A=arguments[S]!=null?arguments[S]:{};S%2?p(Object(A),!0).forEach(function(C){f(j,C,A[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(A)):p(Object(A)).forEach(function(C){Object.defineProperty(j,C,Object.getOwnPropertyDescriptor(A,C))})}return j}function b(j,S){return x(j)||R(j,S)||M(j,S)||P()}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(j,S){if(j){if(typeof j=="string")return k(j,S);var A=Object.prototype.toString.call(j).slice(8,-1);if(A==="Object"&&j.constructor&&(A=j.constructor.name),A==="Map"||A==="Set")return Array.from(j);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return k(j,S)}}function k(j,S){(S==null||S>j.length)&&(S=j.length);for(var A=0,C=new Array(S);A<S;A++)C[A]=j[A];return C}function R(j,S){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(j)))){var A=[],C=!0,h=!1,v=void 0;try{for(var E=j[Symbol.iterator](),H;!(C=(H=E.next()).done)&&(A.push(H.value),!(S&&A.length===S));C=!0);}catch(te){h=!0,v=te}finally{try{!C&&E.return!=null&&E.return()}finally{if(h)throw v}}return A}}function x(j){if(Array.isArray(j))return j}function w(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function L(j,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}function D(j,S,A){return S&&L(j.prototype,S),A&&L(j,A),j}function W(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),S&&z(j,S)}function z(j,S){return z=Object.setPrototypeOf||function(C,h){return C.__proto__=h,C},z(j,S)}function U(j){var S=u();return function(){var C=m(j),h;if(S){var v=m(this).constructor;h=Reflect.construct(C,arguments,v)}else h=C.apply(this,arguments);return I(this,h)}}function I(j,S){return S&&(t(S)==="object"||typeof S=="function")?S:g(j)}function g(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(j){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},m(j)}function f(j,S,A){return S in j?Object.defineProperty(j,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[S]=A,j}var c="https://www.youtube.com/iframe_api",_="YT",B="onYouTubeIframeAPIReady",G=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,O=/user\/([a-zA-Z0-9_-]+)\/?/,q=/youtube-nocookie\.com/,N="https://www.youtube-nocookie.com",V=function(j){W(A,j);var S=U(A);function A(){var C;w(this,A);for(var h=arguments.length,v=new Array(h),E=0;E<h;E++)v[E]=arguments[E];return C=S.call.apply(S,[this].concat(v)),f(g(C),"callPlayer",a.callPlayer),f(g(C),"parsePlaylist",function(H){if(H instanceof Array)return{listType:"playlist",playlist:H.map(C.getID).join(",")};if(G.test(H)){var te=H.match(G),de=b(te,2),He=de[1];return{listType:"playlist",list:He.replace(/^UC/,"UU")}}if(O.test(H)){var Oe=H.match(O),ve=b(Oe,2),F=ve[1];return{listType:"user_uploads",list:F}}return{}}),f(g(C),"onStateChange",function(H){var te=H.data,de=C.props,He=de.onPlay,Oe=de.onPause,ve=de.onBuffer,F=de.onBufferEnd,J=de.onEnded,se=de.onReady,Ne=de.loop,Qe=de.config,ot=Qe.playerVars,yt=Qe.onUnstarted,Ae=window[_].PlayerState,Xn=Ae.UNSTARTED,Jn=Ae.PLAYING,Qn=Ae.PAUSED,Zn=Ae.BUFFERING,ea=Ae.ENDED,ta=Ae.CUED;if(te===Xn&&yt(),te===Jn&&(He(),F()),te===Qn&&Oe(),te===Zn&&ve(),te===ea){var ra=!!C.callPlayer("getPlaylist");Ne&&!ra&&(ot.start?C.seekTo(ot.start):C.play()),J()}te===ta&&se()}),f(g(C),"mute",function(){C.callPlayer("mute")}),f(g(C),"unmute",function(){C.callPlayer("unMute")}),f(g(C),"ref",function(H){C.container=H}),C}return D(A,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(h){return!h||h instanceof Array||G.test(h)?null:h.match(s.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(h,v){var E=this,H=this.props,te=H.playing,de=H.muted,He=H.playsinline,Oe=H.controls,ve=H.loop,F=H.config,J=H.onError,se=F.playerVars,Ne=F.embedOptions,Qe=this.getID(h);if(v){if(G.test(h)||O.test(h)||h instanceof Array){this.player.loadPlaylist(this.parsePlaylist(h));return}this.player.cueVideoById({videoId:Qe,startSeconds:(0,a.parseStartTime)(h)||se.start,endSeconds:(0,a.parseEndTime)(h)||se.end});return}(0,a.getSDK)(c,_,B,function(ot){return ot.loaded}).then(function(ot){E.container&&(E.player=new ot.Player(E.container,d({width:"100%",height:"100%",videoId:Qe,playerVars:d(d({autoplay:te?1:0,mute:de?1:0,controls:Oe?1:0,start:(0,a.parseStartTime)(h),end:(0,a.parseEndTime)(h),origin:window.location.origin,playsinline:He?1:0},E.parsePlaylist(h)),se),events:{onReady:function(){ve&&E.player.setLoop(!0),E.props.onReady()},onPlaybackRateChange:function(Ae){return E.props.onPlaybackRateChange(Ae.data)},onPlaybackQualityChange:function(Ae){return E.props.onPlaybackQualityChange(Ae)},onStateChange:E.onStateChange,onError:function(Ae){return J(Ae.data)}},host:q.test(h)?N:void 0},Ne)))},J),Ne.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.callPlayer("seekTo",h),!v&&!this.props.playing&&this.pause()}},{key:"setVolume",value:function(h){this.callPlayer("setVolume",h*100)}},{key:"setPlaybackRate",value:function(h){this.callPlayer("setPlaybackRate",h)}},{key:"setLoop",value:function(h){this.callPlayer("setLoop",h)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var h=this.props.display,v={width:"100%",height:"100%",display:h};return n.default.createElement("div",{style:v},n.default.createElement("div",{ref:this.ref}))}}]),A}(n.Component);r.default=V,f(V,"displayName","YouTube"),f(V,"canPlay",s.canPlay.youtube)})(Dn);var qi=Gt.createReactPlayer,Yr=Dn.default,Vi=qi([{key:"youtube",canPlay:Yr.canPlay,lazyPlayer:Yr}]);const Ui=Da(Vi),Br=[],zi=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(),[i,l]=o.useState(!0),[p,d]=o.useState(1),[b,P]=o.useState(0),[M,k]=o.useState(0),[R,x]=o.useState(!0),[w]=T.useForm();be();const[L,D]=o.useState(!1),[W,z]=o.useState(!1),[U,I]=o.useState(0),[g,u]=o.useState(!1),m=o.useRef([]),f=async j=>{s(j),u(!0)},c=()=>{z(!0)},_=()=>{D(!0)},B=async(j,S="",A=!1)=>{const{data:C}=await Y.custom({url:"",method:"get",meta:{operation:"darasaVideos",variables:{page:{value:j,type:"Int",required:!0},key:{value:S,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:pr}]}}).catch(()=>(y.error("Error loading videos"),{data:null})).then(h=>h);C&&(k(C.total),P(C.pages),d(C.page),x(C.hasNext),n(C.results.map(h=>({...h,isPlaying:!1})))),l(!1)},G=async j=>{n([j,...t]),z(!1)},O=(j,S)=>{Br[S]=j},q=(j,S)=>{U.toString()!==j.toString()&&I(j),n(t.map((A,C)=>A.id.toString()===j.toString()?{...A,isPlaying:S}:{...A,isPlaying:!1}))},N=async j=>{const{data:S}=await Y.custom({url:"",method:"post",meta:{operation:"deleteClassVideo",variables:{id:{value:j,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting video"),{data:null})).then(A=>A);S&&(S.success?(y.success(S.message),n(t.filter(A=>A.id!==j))):y.error(S.message))},V=j=>{pe.confirm({title:"Removing Video",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Remove",cancelText:"Cancel",onOk:()=>N(j)})};return o.useEffect(()=>{B(p)},[]),i?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:i,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:w,onFinish:j=>{d(0),B(0,j.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Video(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{disabled:!r.canManage,children:e.jsxs("a",{target:"_blank",rel:"noopener noreferrer",onClick:_,children:[e.jsx(on,{}),e.jsx("span",{style:{marginLeft:10},children:"Upload Video"})]})}),e.jsx($.Item,{children:e.jsxs("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>c(),children:[e.jsx(ht,{}),e.jsx("span",{style:{marginLeft:10},children:"Youtube-Video"})]})})]}),placement:"bottomRight",overlayStyle:{zIndex:9999},children:e.jsx(K,{size:"large",icon:e.jsx(Yt,{}),children:"Add Video"})})})]}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[t.length>0?e.jsx(Z,{align:"top",children:t.map((j,S)=>e.jsx(X,{span:12,children:e.jsxs(Te,{hoverable:j.isActive,style:{marginRight:10},title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:j.title}),e.jsx(Oa,{title:ue(j.created).format("LLLL"),placement:"top",children:e.jsxs(an.Tag,{color:"red",style:{float:"right"},children:["Published: ",ue(j.created).fromNow()]})}),e.jsx(Ie,{style:{right:0,position:"absolute",zIndex:"inherit"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Ye,{}),disabled:!j.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>f(j),children:"View Info's"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),e.jsx($.Item,{icon:e.jsx(ft,{}),onClick:()=>V(j.id),disabled:!r.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:A=>A.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})]}),children:[j.isYoutube&&e.jsx(Ui,{url:j.url,width:"100%"}),!j.isYoutube&&e.jsx("span",{onClick:()=>{q(j.id,!0),Br[S].pause()},children:e.jsx(xs,{ref:m.current[S],index:S,file:j.video,videoId:j.id,updatePlaying:q,isPlaying:U.toString()===j.id.toString(),updatePlayer:O})})]})}))}):e.jsx(st,{severity:"info",children:"No Video found for this class, please add one"}),R&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{type:"primary",onClick:()=>{B(p+1)},children:"Load More"})})]}),e.jsx(ae,{title:"Uploading Video",open:L,onClose:j=>D(j),width:"50vw",children:e.jsx(ys,{id:r.id,random:Math.random(),handleAddingVideo:G})}),e.jsx(ae,{title:"Adding Youtube Video",open:W,onClose:j=>z(j),width:"50vw",children:e.jsx(ps,{id:r.id,random:Math.random(),handleAddingDrive:G})}),e.jsx(Ot,{title:"Video Info's",width:"40vw",anchor:"right",onClose:j=>u(j),open:g,children:e.jsx(e.Fragment,{children:a&&e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{dangerouslySetInnerHTML:{__html:a.description}})]})})})]})};function at(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function De(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function We(r){De(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||un(r)==="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hi(r,t){De(2,arguments);var n=We(r).getTime(),a=at(t);return new Date(n+a)}var Wi={};function Xt(){return Wi}function Yi(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function Bi(r){return De(1,arguments),r instanceof Date||un(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function $i(r){if(De(1,arguments),!Bi(r)&&typeof r!="number")return!1;var t=We(r);return!isNaN(Number(t))}function Gi(r,t){De(2,arguments);var n=at(t);return Hi(r,-n)}var Ki=864e5;function Xi(r){De(1,arguments);var t=We(r),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),s=n-a;return Math.floor(s/Ki)+1}function qt(r){De(1,arguments);var t=1,n=We(r),a=n.getUTCDay(),s=(a<t?7:0)+a-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Wn(r){De(1,arguments);var t=We(r),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=qt(a),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var l=qt(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Ji(r){De(1,arguments);var t=Wn(r),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var a=qt(n);return a}var Qi=6048e5;function Zi(r){De(1,arguments);var t=We(r),n=qt(t).getTime()-Ji(t).getTime();return Math.round(n/Qi)+1}function Vt(r,t){var n,a,s,i,l,p,d,b;De(1,arguments);var P=Xt(),M=at((n=(a=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(p=l.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&s!==void 0?s:P.weekStartsOn)!==null&&a!==void 0?a:(d=P.locale)===null||d===void 0||(b=d.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&n!==void 0?n:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var k=We(r),R=k.getUTCDay(),x=(R<M?7:0)+R-M;return k.setUTCDate(k.getUTCDate()-x),k.setUTCHours(0,0,0,0),k}function Yn(r,t){var n,a,s,i,l,p,d,b;De(1,arguments);var P=We(r),M=P.getUTCFullYear(),k=Xt(),R=at((n=(a=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(p=l.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:k.firstWeekContainsDate)!==null&&a!==void 0?a:(d=k.locale)===null||d===void 0||(b=d.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(M+1,0,R),x.setUTCHours(0,0,0,0);var w=Vt(x,t),L=new Date(0);L.setUTCFullYear(M,0,R),L.setUTCHours(0,0,0,0);var D=Vt(L,t);return P.getTime()>=w.getTime()?M+1:P.getTime()>=D.getTime()?M:M-1}function eo(r,t){var n,a,s,i,l,p,d,b;De(1,arguments);var P=Xt(),M=at((n=(a=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(p=l.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:P.firstWeekContainsDate)!==null&&a!==void 0?a:(d=P.locale)===null||d===void 0||(b=d.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&n!==void 0?n:1),k=Yn(r,t),R=new Date(0);R.setUTCFullYear(k,0,M),R.setUTCHours(0,0,0,0);var x=Vt(R,t);return x}var to=6048e5;function ro(r,t){De(1,arguments);var n=We(r),a=Vt(n,t).getTime()-eo(n,t).getTime();return Math.round(a/to)+1}function ie(r,t){for(var n=r<0?"-":"",a=Math.abs(r).toString();a.length<t;)a="0"+a;return n+a}var no={y:function(t,n){var a=t.getUTCFullYear(),s=a>0?a:1-a;return ie(n==="yy"?s%100:s,n.length)},M:function(t,n){var a=t.getUTCMonth();return n==="M"?String(a+1):ie(a+1,2)},d:function(t,n){return ie(t.getUTCDate(),n.length)},a:function(t,n){var a=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,n){return ie(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ie(t.getUTCHours(),n.length)},m:function(t,n){return ie(t.getUTCMinutes(),n.length)},s:function(t,n){return ie(t.getUTCSeconds(),n.length)},S:function(t,n){var a=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,a-3));return ie(i,n.length)}};const Ge=no;var ut={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ao={G:function(t,n,a){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})}},y:function(t,n,a){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return a.ordinalNumber(i,{unit:"year"})}return Ge.y(t,n)},Y:function(t,n,a,s){var i=Yn(t,s),l=i>0?i:1-i;if(n==="YY"){var p=l%100;return ie(p,2)}return n==="Yo"?a.ordinalNumber(l,{unit:"year"}):ie(l,n.length)},R:function(t,n){var a=Wn(t);return ie(a,n.length)},u:function(t,n){var a=t.getUTCFullYear();return ie(a,n.length)},Q:function(t,n,a){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ie(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,a){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ie(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,a){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ge.M(t,n);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,a){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ie(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,a,s){var i=ro(t,s);return n==="wo"?a.ordinalNumber(i,{unit:"week"}):ie(i,n.length)},I:function(t,n,a){var s=Zi(t);return n==="Io"?a.ordinalNumber(s,{unit:"week"}):ie(s,n.length)},d:function(t,n,a){return n==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ge.d(t,n)},D:function(t,n,a){var s=Xi(t);return n==="Do"?a.ordinalNumber(s,{unit:"dayOfYear"}):ie(s,n.length)},E:function(t,n,a){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,a,s){var i=t.getUTCDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return ie(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,a,s){var i=t.getUTCDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return ie(l,n.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,a){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ie(i,n.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});case"iiii":default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,a){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,a){var s=t.getUTCHours(),i;switch(s===12?i=ut.noon:s===0?i=ut.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,a){var s=t.getUTCHours(),i;switch(s>=17?i=ut.evening:s>=12?i=ut.afternoon:s>=4?i=ut.morning:i=ut.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,a){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return Ge.h(t,n)},H:function(t,n,a){return n==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ge.H(t,n)},K:function(t,n,a){var s=t.getUTCHours()%12;return n==="Ko"?a.ordinalNumber(s,{unit:"hour"}):ie(s,n.length)},k:function(t,n,a){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?a.ordinalNumber(s,{unit:"hour"}):ie(s,n.length)},m:function(t,n,a){return n==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ge.m(t,n)},s:function(t,n,a){return n==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ge.s(t,n)},S:function(t,n){return Ge.S(t,n)},X:function(t,n,a,s){var i=s._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Gr(l);case"XXXX":case"XX":return Ze(l);case"XXXXX":case"XXX":default:return Ze(l,":")}},x:function(t,n,a,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"x":return Gr(l);case"xxxx":case"xx":return Ze(l);case"xxxxx":case"xxx":default:return Ze(l,":")}},O:function(t,n,a,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+$r(l,":");case"OOOO":default:return"GMT"+Ze(l,":")}},z:function(t,n,a,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+$r(l,":");case"zzzz":default:return"GMT"+Ze(l,":")}},t:function(t,n,a,s){var i=s._originalDate||t,l=Math.floor(i.getTime()/1e3);return ie(l,n.length)},T:function(t,n,a,s){var i=s._originalDate||t,l=i.getTime();return ie(l,n.length)}};function $r(r,t){var n=r>0?"-":"+",a=Math.abs(r),s=Math.floor(a/60),i=a%60;if(i===0)return n+String(s);var l=t||"";return n+String(s)+l+ie(i,2)}function Gr(r,t){if(r%60===0){var n=r>0?"-":"+";return n+ie(Math.abs(r)/60,2)}return Ze(r,t)}function Ze(r,t){var n=t||"",a=r>0?"-":"+",s=Math.abs(r),i=ie(Math.floor(s/60),2),l=ie(s%60,2);return a+i+n+l}const so=ao;var Kr=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Bn=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},io=function(t,n){var a=t.match(/(P+)(p+)?/)||[],s=a[1],i=a[2];if(!i)return Kr(t,n);var l;switch(s){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",Kr(s,n)).replace("{{time}}",Bn(i,n))},oo={p:Bn,P:io};const lo=oo;var co=["D","DD"],uo=["YY","YYYY"];function ho(r){return co.indexOf(r)!==-1}function fo(r){return uo.indexOf(r)!==-1}function Xr(r,t,n){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var mo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},po=function(t,n,a){var s,i=mo[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};const go=po;function ar(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):r.defaultWidth,a=r.formats[n]||r.formats[r.defaultWidth];return a}}var yo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jo={date:ar({formats:yo,defaultWidth:"full"}),time:ar({formats:xo,defaultWidth:"full"}),dateTime:ar({formats:vo,defaultWidth:"full"})};const bo=jo;var So={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Co=function(t,n,a,s){return So[t]};const wo=Co;function jt(r){return function(t,n){var a=n!=null&&n.context?String(n.context):"standalone",s;if(a==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=r.formattingValues[l]||r.formattingValues[i]}else{var p=r.defaultWidth,d=n!=null&&n.width?String(n.width):r.defaultWidth;s=r.values[d]||r.values[p]}var b=r.argumentCallback?r.argumentCallback(t):t;return s[b]}}var Po={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},To={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Io={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ko={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Do={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Oo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mo=function(t,n){var a=Number(t),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},_o={ordinalNumber:Mo,era:jt({values:Po,defaultWidth:"wide"}),quarter:jt({values:To,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:jt({values:Io,defaultWidth:"wide"}),day:jt({values:ko,defaultWidth:"wide"}),dayPeriod:jt({values:Do,defaultWidth:"wide",formattingValues:Oo,defaultFormattingWidth:"wide"})};const Ao=_o;function bt(r){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,s=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],i=t.match(s);if(!i)return null;var l=i[0],p=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(p)?Fo(p,function(M){return M.test(l)}):Eo(p,function(M){return M.test(l)}),b;b=r.valueCallback?r.valueCallback(d):d,b=n.valueCallback?n.valueCallback(b):b;var P=t.slice(l.length);return{value:b,rest:P}}}function Eo(r,t){for(var n in r)if(r.hasOwnProperty(n)&&t(r[n]))return n}function Fo(r,t){for(var n=0;n<r.length;n++)if(t(r[n]))return n}function Ro(r){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(r.matchPattern);if(!a)return null;var s=a[0],i=t.match(r.parsePattern);if(!i)return null;var l=r.valueCallback?r.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;var p=t.slice(s.length);return{value:l,rest:p}}}var Lo=/^(\d+)(th|st|nd|rd)?/i,No=/\d+/i,qo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vo={any:[/^b/i,/^(a|c)/i]},Uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zo={any:[/1/i,/2/i,/3/i,/4/i]},Ho={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$o={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Go={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ko={ordinalNumber:Ro({matchPattern:Lo,parsePattern:No,valueCallback:function(t){return parseInt(t,10)}}),era:bt({matchPatterns:qo,defaultMatchWidth:"wide",parsePatterns:Vo,defaultParseWidth:"any"}),quarter:bt({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:zo,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:bt({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Wo,defaultParseWidth:"any"}),day:bt({matchPatterns:Yo,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any"}),dayPeriod:bt({matchPatterns:$o,defaultMatchWidth:"any",parsePatterns:Go,defaultParseWidth:"any"})};const Xo=Ko;var Jo={code:"en-US",formatDistance:go,formatLong:bo,formatRelative:wo,localize:Ao,match:Xo,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Qo=Jo;var Zo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,el=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tl=/^'([^]*?)'?$/,rl=/''/g,nl=/[a-zA-Z]/;function Ut(r,t,n){var a,s,i,l,p,d,b,P,M,k,R,x,w,L,D,W,z,U;De(2,arguments);var I=String(t),g=Xt(),u=(a=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:g.locale)!==null&&a!==void 0?a:Qo,m=at((i=(l=(p=(d=n==null?void 0:n.firstWeekContainsDate)!==null&&d!==void 0?d:n==null||(b=n.locale)===null||b===void 0||(P=b.options)===null||P===void 0?void 0:P.firstWeekContainsDate)!==null&&p!==void 0?p:g.firstWeekContainsDate)!==null&&l!==void 0?l:(M=g.locale)===null||M===void 0||(k=M.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=at((R=(x=(w=(L=n==null?void 0:n.weekStartsOn)!==null&&L!==void 0?L:n==null||(D=n.locale)===null||D===void 0||(W=D.options)===null||W===void 0?void 0:W.weekStartsOn)!==null&&w!==void 0?w:g.weekStartsOn)!==null&&x!==void 0?x:(z=g.locale)===null||z===void 0||(U=z.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&R!==void 0?R:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var c=We(r);if(!$i(c))throw new RangeError("Invalid time value");var _=Yi(c),B=Gi(c,_),G={firstWeekContainsDate:m,weekStartsOn:f,locale:u,_originalDate:c},O=I.match(el).map(function(q){var N=q[0];if(N==="p"||N==="P"){var V=lo[N];return V(q,u.formatLong)}return q}).join("").match(Zo).map(function(q){if(q==="''")return"'";var N=q[0];if(N==="'")return al(q);var V=so[N];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&fo(q)&&Xr(q,t,String(r)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ho(q)&&Xr(q,t,String(r)),V(B,q,u.localize,G);if(N.match(nl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return q}).join("");return O}function al(r){var t=r.match(tl);return t?t[1].replace(rl,"'"):r}const{Option:sl}=Re,Jr=[{value:"",label:"Select Duration Type"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"}],il=r=>{const[t,n]=o.useState("");return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:a=>{a.description=t,r.onFinish(a),n("")},requiredMark:!1,children:[e.jsx(T.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input name"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Name ..."})}),e.jsx(T.Item,{name:"startDate",label:"start Date",rules:[{required:!0,type:"date",message:"Please select date"}],children:e.jsx(it,{showTime:{format:"HH:mm"},disabledDate:a=>{const s=ue().format("YYYY-MM-DD");return a&&a<ue(s,"YYYY-MM-DD")},style:{width:"100%"},popupStyle:{zIndex:9999}})}),e.jsxs(Z,{children:[e.jsx(X,{span:12,children:e.jsx(T.Item,{name:"duration",label:"Duration",style:{width:"100%"},rules:[{required:!0,type:"integer",message:"Enter Duration"}],children:e.jsx(Xe,{min:1,defaultValue:1,style:{width:"100%"},size:"large"})})}),e.jsx(X,{span:12,children:e.jsx(T.Item,{name:"durationType",label:"Duration Type",style:{width:"100%"},rules:[{required:!0,type:"string",message:"Please select duration type"}],children:e.jsx(Re,{defaultValue:Jr[0].value,size:"large",style:{width:"100%"},dropdownStyle:{zIndex:9999},children:Jr.map(a=>e.jsx(sl,{children:a.label},a.value))})})})]}),e.jsx("h3",{children:"Description"}),e.jsx(Ue.CKEditor,{editor:ze,data:t,onReady:a=>{a.editing.view.change(s=>{s.setStyle("min-height","100px",a.editing.view.document.getRoot())})},onChange:(a,s)=>{const i=s.getData();n(i)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},ol=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(),[i,l]=o.useState(!0),[p,d]=o.useState(1),[b]=T.useForm(),[P,M]=o.useState(0),[k,R]=o.useState(0),[x,w]=o.useState(!0),{push:L}=be(),[D,W]=o.useState(!1),[z]=T.useForm(),[U,I]=o.useState(!1),[g]=T.useForm(),u=O=>{s(O),I(!0)},m=()=>{W(!0)},f=async O=>{const{data:q}=await Y.custom({url:"",method:"post",meta:{operation:"editVirtualClass",variables:{id:{value:O.id,type:"Int",required:!0},name:{value:O.name,type:"String",required:!0},description:{value:O.description,type:"String",required:!0},duration:{value:O.duration,type:"Int",required:!0},durationType:{value:O.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:O.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:dt}]}}).catch(()=>(y.error("Error editing class"),{data:null})).then(N=>N);q&&(q.success?(y.success(q.message),n(t.map(N=>N.id===q.virtual.id?q.virtual:N)),I(!1)):y.error(q.message))},c=async O=>{const{data:q}=await Y.custom({url:"",method:"post",meta:{operation:"createVirtualClass",variables:{darasaId:{value:parseInt(r.id?r.id.toString():"0"),type:"Int",required:!1},name:{value:O.name,type:"String",required:!0},description:{value:O.description,type:"String",required:!0},duration:{value:O.duration,type:"Int",required:!0},durationType:{value:O.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:O.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:dt}]}}).catch(()=>(y.error("Error creating virtual class"),{data:null})).then(N=>N);q&&(q.success?(y.success(q.message),W(!1),n([q.virtual,...t])):y.error(q.message))},_=async(O,q="",N=!1)=>{const{data:V}=await Y.custom({url:"",method:"get",meta:{operation:"darasaVirtuals",variables:{page:{value:O,type:"Int",required:!0},key:{value:q,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:dt}]}}).catch(()=>(y.error("Error fetching virtual classes"),{data:null})).then(j=>j);V&&(R(V.total),M(V.pages),d(V.page),w(V.hasNext),n(N?V.results:[...t,...V.results])),l(!1)},B=async O=>{const{data:q}=await Y.custom({url:"",method:"post",meta:{operation:"deleteVirtualClass",variables:{id:{value:O,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting virtual class"),{data:null})).then(N=>N);q&&(q.success?(y.success(q.message),n(t.filter(N=>N.id!==O))):y.error(q.message))},G=O=>{pe.confirm({title:"Deleting Virtual Class Session",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>B(O)})};return o.useEffect(()=>{_(p)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:b,onFinish:O=>_(0,O.key,!0),children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Virtual Sessions...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(ht,{}),onClick:m,disabled:!r.canManage,size:"large",children:"Create Virtual Session"})})]}),e.jsx("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:e.jsxs(ce,{spinning:i,children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,renderItem:O=>e.jsx("div",{style:{background:"white",marginBottom:5,paddingLeft:10,paddingTop:10},children:e.jsx(Te,{children:e.jsx(ee.Item,{actions:[e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(mr,{}),disabled:!O.canJoin,onClick:()=>L("/oclass/virtual/class/session/"+O.id+"/"+O.token),children:e.jsx("a",{children:"Join"})}),O.canDelete?e.jsx($.Item,{disabled:!O.canDelete,icon:e.jsx(Be,{}),onClick:()=>G(O.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}):e.jsx(e.Fragment,{}),O.canEdit&&e.jsx($.Item,{icon:e.jsx(Dt,{}),disabled:!O.canEdit,onClick:()=>u(O),children:e.jsx("a",{children:"Edit"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:q=>q.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(Ve,{avatar:!0,title:!1,loading:!1,active:!0,children:e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{}),title:e.jsx("a",{onClick:()=>O.canJoin?L("/oclass/virtual/class/session/"+O.id+"/"+O.token):y("You can't join this session"),children:O.name}),description:e.jsxs(e.Fragment,{children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:O.description}}),e.jsxs("p",{children:[e.jsxs(oe,{color:"green",children:["Start At:"," ",Ut(new Date(O.startDate),"MMMM do, yyyy H:mma")]}),e.jsxs(oe,{color:"green",children:["End In:"," ",Ut(new Date(O.endDate),"MMMM do, yyyy H:mma")]}),O.canJoin?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx(oe,{color:"red",children:"Not Joinable"})})]})]})})})})})},"class-virtual-session-item-container-"+O.id)}),x&&e.jsx("div",{style:{textAlign:"center",marginTop:12},children:e.jsx("button",{onClick:()=>{_(p+1)},children:"Load More"})})]})}),e.jsx(ae,{title:"Creating Class Virtual Session",open:D,onClose:O=>W(O),width:"50vw",children:e.jsx(il,{form:z,onFinish:c})}),e.jsx(ae,{title:"Editting "+(a==null?void 0:a.name),width:"40vw",open:U,onClose:O=>I(O),children:e.jsx(dn,{form:g,darasa:a,onFinish:f})})]})};function It(r){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(r)}function Qr(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function ur(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qr(Object(n),!0).forEach(function(a){et(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function et(r,t,n){return t=ll(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function ll(r){var t=cl(r,"string");return It(t)==="symbol"?t:String(t)}function cl(r,t){if(It(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t||"default");if(It(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var ul=function(t){var n,a=t.componentCls,s=t.colorBgContainer,i=t.fontSize,l=t.fontSizeSM,p=t.padding,d=t.paddingXS,b=t.marginSM,P=t.marginXXS,M=t.controlHeight,k=t.lineHeightSM,R=t.colorText,x=t.colorTextSecondary,w=t.colorTextTertiary,L=t.motionDurationSlow;return et({},a,ur(ur({},Aa(t)),{},(n={position:"relative",backgroundColor:s},et(n,"".concat(a,"-inner"),{display:"flex",paddingBlock:p}),et(n,"".concat(a,"-avatar"),{position:"relative",flexShrink:0,marginInlineEnd:b,cursor:"pointer",img:{width:M,height:M,borderRadius:"50%"}}),et(n,"".concat(a,"-content"),{position:"relative",flex:"auto",minWidth:0,wordWrap:"break-word","&-author":{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",marginBottom:P,"& > a, & > span":{paddingInlineEnd:d,fontSize:l,lineHeight:k},"&-name":{color:x,fontSize:i,transition:"color ".concat(L),"> *":{color:x,"&:hover":{color:x}}},"&-time":{color:w,whiteSpace:"nowrap",cursor:"auto"}},"&-detail p":{whiteSpace:"pre-wrap",marginBlock:0}}),et(n,"".concat(a,"-actions"),{marginTop:b,marginBottom:0,paddingInlineStart:0,"> li":{display:"inline-block",color:x,"> span":{marginInlineEnd:b,color:x,fontSize:l,cursor:"pointer",transition:"color ".concat(L),userSelect:"none","&:hover":{color:R}}}}),et(n,"".concat(a,"-nested"),{marginInlineStart:44}),n)))};function dl(r){var t=Ma.useToken(),n=t.theme,a=t.token,s=t.hashId,i=o.useContext(hn.ConfigContext),l=i.iconPrefixCls;return[_a({theme:n,token:a,hashId:s,path:["compatible","Comment",r,l]},function(){var p=ur({componentCls:".".concat(r)},a);return[ul(p)]}),s]}function kt(r){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(r)}var hl=["actions","author","avatar","children","className","content","prefixCls","datetime"];function dr(){return dr=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},dr.apply(this,arguments)}function fl(r,t,n){return t=ml(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function ml(r){var t=pl(r,"string");return kt(t)==="symbol"?t:String(t)}function pl(r,t){if(kt(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t||"default");if(kt(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function gl(r,t){return jl(r)||vl(r,t)||xl(r,t)||yl()}function yl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xl(r,t){if(r){if(typeof r=="string")return Zr(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(r,t)}}function Zr(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function vl(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,l,p=[],d=!0,b=!1;try{if(i=(n=n.call(r)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(p.push(a.value),p.length!==t);d=!0);}catch(P){b=!0,s=P}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(b)throw s}}return p}}function jl(r){if(Array.isArray(r))return r}function bl(r,t){if(r==null)return{};var n=Sl(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Sl(r,t){if(r==null)return{};var n={},a=Object.keys(r),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=r[s]);return n}var Cl=hn.ConfigContext,wl=function(t){var n=t.actions,a=t.author,s=t.avatar,i=t.children,l=t.className,p=t.content,d=t.prefixCls,b=t.datetime,P=bl(t,hl),M=o.useContext(Cl),k=M.getPrefixCls,R=M.direction,x=function(c,_){return o.createElement("div",{className:kr("".concat(c,"-nested"))},_)},w=k("comment",d),L=dl(w),D=gl(L,2),W=D[0],z=D[1],U=s?o.createElement("div",{className:"".concat(w,"-avatar")},typeof s=="string"?o.createElement("img",{src:s,alt:"comment-avatar"}):s):null,I=n&&n.length?o.createElement("ul",{className:"".concat(w,"-actions")},n.map(function(f,c){return o.createElement("li",{key:"action-".concat(c)},f)})):null,g=(a||b)&&o.createElement("div",{className:"".concat(w,"-content-author")},a&&o.createElement("span",{className:"".concat(w,"-content-author-name")},a),b&&o.createElement("span",{className:"".concat(w,"-content-author-time")},b)),u=o.createElement("div",{className:"".concat(w,"-content")},g,o.createElement("div",{className:"".concat(w,"-content-detail")},p),I),m=kr(w,fl({},"".concat(w,"-rtl"),R==="rtl"),l,z);return W(o.createElement("div",dr({},P,{className:m}),o.createElement("div",{className:"".concat(w,"-inner")},U,u),i?x(w,i):null))};const $n=wl,Pl=r=>new Promise((t,n)=>{const a=new FileReader;a.readAsDataURL(r),a.onload=()=>t(a.result),a.onerror=s=>n(s)}),Tl=r=>{const{data:t}=yr(),[n,a]=o.useState(!1),[s,i]=o.useState(""),[l,p]=o.useState(""),[d,b]=o.useState([]),[P,M]=o.useState(!0),[k,R]=o.useState(1);o.useState(25);const[x]=T.useForm(),[w,L]=o.useState(0),[D,W]=o.useState(0),[z,U]=o.useState(!0);fn();const[I,g]=o.useState(!1),[u,m]=o.useState(""),f=o.useRef(null),c=o.useRef([]),[_,B]=o.useState([]),G=C=>{c.current[C-1].scrollIntoView({behavior:"smooth"})},O=()=>{f.current.scrollIntoView({behavior:"smooth"})},q=async(C,h="",v=25)=>{C===1&&(d.length=0,b([]));const{data:E}=await Y.custom({url:"",method:"get",meta:{operation:"darasaPostComments",variables:{page:{value:parseInt(C.toString()),type:"Int",required:!0},key:{value:h,type:"String",required:!1},postId:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},pageSize:{value:parseInt(v.toString()),type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:Dr}]}}).catch(()=>(y.error("Error loading comments"),{data:null})).then(H=>H);E&&(W(E.total),L(E.pages),R(E.page+1),U(E.hasNext),b([...d,...E.results])),M(!1)},N=async C=>{g(!0);const{data:h}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaPostComment",variables:{postId:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},content:{value:C.content,type:"String",required:!0},photos:{value:_,type:"[Upload]",required:!1}},fields:["success","message",{comment:Dr}]}}).catch(()=>(y.error("Error submitting comment"),{data:null})).then(v=>v);g(!1),m(""),h&&(h.success?(B([]),b([...d,h.comment]),O(),r.updateTotalComment(r==null?void 0:r.id,1)):y.error(h.message))},V=async(C,h)=>{const{data:v}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaPostComment",variables:{id:{value:C,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting comment"),{data:null})).then(E=>E);v&&(v.success?(y.success(v.message),b(d.filter(E=>E.id!==C)),r.updateTotalComment(r==null?void 0:r.id,-1),G(h)):y.error(v.message))},j=e.jsxs("div",{children:[e.jsx(mn,{}),e.jsx("div",{style:{marginTop:8},children:"Photo"})]}),S=async C=>{!C.url&&!C.preview&&(C.preview=await Pl(C.originFileObj)),i(C.url||C.preview),a(!0),p(C.name||C.url.substring(C.url.lastIndexOf("/")+1))},A=({fileList:C})=>{B(C)};return o.useEffect(()=>{q(1),O()},[r.id,r.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{id:"scrollableDiv",style:{height:"58vh",overflow:"auto"},children:e.jsxs(ce,{spinning:P,children:[e.jsx("div",{ref:f}),e.jsx(ee,{className:"comment-list",header:`${d.length} replies`,itemLayout:"horizontal",dataSource:d,renderItem:(C,h)=>e.jsx(ee.Item,{ref:v=>{c.current[h]=v},extra:[e.jsx(ke,{overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Be,{}),disabled:!C.canDelete,children:e.jsx(gt,{placement:"topLeft",title:"Are you sure to delete this comment?",onConfirm:()=>V(C.id,h),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:"Delete"})})},"delete-post-comment"+C.id),C.canManage?e.jsx(e.Fragment,{}):e.jsx($.Item,{icon:e.jsx(Le,{}),children:e.jsx("a",{onClick:()=>y("Under construction"),children:"Report"})},"report-post-comment"+C.id)]}),trigger:["click"],placement:"bottomRight",arrow:!0,overlayStyle:{zIndex:9999},children:e.jsx(K,{children:e.jsx(Me,{})})})],actions:[],children:e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{src:C.user.pic}),title:e.jsx("a",{children:C.user.fullName}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:C.user.bio}),e.jsx("span",{dangerouslySetInnerHTML:{__html:C.content}}),e.jsx("div",{children:C.medias.length>0&&e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(Rt.PreviewGroup,{children:C.medias.map(v=>e.jsx(Rt,{preview:{visible:!0,zIndex:99999,bodyStyle:{zIndex:99999,zIndexPopup:99999}},style:{padding:10,display:"inline"},width:100,src:v.media}))})})})}),e.jsxs("span",{style:{color:"orange",display:"block"},children:[": Posted ",ue(C.created).fromNow()]})]})})},"post-comment-"+C.id)}),z&&e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(K,{onClick:()=>q(k,"",25),children:"Load More"})})]})}),e.jsx($n,{avatar:e.jsx(_e,{src:t.pic,alt:"Han Solo"}),content:e.jsxs(T,{form:x,onFinish:C=>{C.content=u,N(C),x.resetFields()},children:[e.jsx("div",{children:e.jsx(Ue.CKEditor,{disabled:I,editor:ze,data:u,onReady:C=>{C.editing.view.change(h=>{h.setStyle("min-height","75px",C.editing.view.document.getRoot())})},onChange:(C,h)=>{const v=h.getData();m(v)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})}),e.jsx("div",{style:{marginTop:10},children:e.jsx(gr,{multiple:!0,name:"photos",accept:fr.supported_image_extensions.join(),beforeUpload:()=>!1,listType:"picture-card",fileList:_,maxCount:3,onPreview:C=>{S(C)},onChange:A,children:_.length>=3?null:j})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{size:"large",loading:I,onClick:()=>x.submit(),type:"primary",disabled:u.length===0,children:"Publish Comment"})})]})}),e.jsx(ae,{open:n,title:l,onClose:C=>a(C),children:e.jsx("img",{alt:"example",style:{width:"100%"},src:s})})]})},{Text:en}=pt,Il=r=>new Promise((t,n)=>{const a=new FileReader;a.readAsDataURL(r),a.onload=()=>t(a.result),a.onerror=s=>n(s)}),kl=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState(""),[i,l]=o.useState(""),[p,d]=o.useState([]),[b,P]=o.useState(),[M,k]=o.useState(!0),[R,x]=o.useState(!1),[w,L]=o.useState(1),[D,W]=o.useState(0),[z,U]=o.useState(!0),{data:I}=yr(),[g,u]=o.useState(""),[m,f]=o.useState(!1),[c,_]=o.useState([]),B=h=>{P(h),f(!0)},G=async(h,v="")=>{const{data:E}=await Y.custom({url:"",method:"get",meta:{operation:"darasaPosts",variables:{id:{value:parseInt(r.id.toString()),type:"Int",required:!0},page:{value:h,type:"Int",required:!0},key:{value:v,type:"String",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:Or}]}}).catch(H=>(console.log(H),y.error("Error loading posts"),{data:null})).then(H=>H);E&&(W(E.total),L(E.page+1),U(E.hasNext),d(E.results)),k(!1)};o.useEffect(()=>{G(w)},[]);const O=async()=>{x(!0);const{data:h}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaPost",variables:{id:{value:parseInt(r.id.toString()),type:"Int",required:!0},content:{value:g,type:"String",required:!0},photos:{value:c,type:"[Upload]",required:!0}},fields:["success","message",{post:Or}]}}).catch(()=>(y.error("Error creating post"),{data:null})).then(v=>v);x(!1),h&&h.success&&(u(""),d([h.post,...p]),_([]),y.success(h.message))},q=async h=>{const{data:v}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaPost",variables:{id:{value:parseInt(h.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting post"),{data:null})).then(E=>E);v&&(v.success?(y.success(v.message),d(p.filter(E=>E.id!==h))):y.error(v.message))},N=h=>{pe.confirm({title:"Deleting Post",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>q(h)})},V=async h=>{const{data:v}=await Y.custom({url:"",method:"post",meta:{operation:"addDarasaPostLike",variables:{id:{value:parseInt(h.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error liking post"),{data:null})).then(E=>E);if(v)if(v.success){const E=p.map(H=>H.id===h?{...H,isLiked:!0,totalLikes:H.totalLikes+1}:H);d(E)}else y.error(v.message)},j=async(h,v)=>{const E=p.map(H=>H.id===h?{...H,totalComments:H.totalComments+v}:H);d(E)},S=e.jsxs("div",{children:[e.jsx(mn,{}),e.jsx("div",{style:{marginTop:8},children:"Photo"})]}),A=async h=>{!h.url&&!h.preview&&(h.preview=await Il(h.originFileObj)),s(h.url||h.preview),n(!0),l(h.name||h.url.substring(h.url.lastIndexOf("/")+1))},C=({fileList:h})=>{_(h)};return e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:24,children:e.jsx("div",{id:"scrollableDiv",style:{height:"80vh",overflow:"auto"},children:e.jsxs(jr,{dataLength:D,next:()=>G(w),hasMore:z,scrollableTarget:"scrollableDiv",loader:e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ce,{})})}),endMessage:e.jsx("p",{style:{textAlign:"center",display:p.length>0?"block":"none"},children:e.jsx("b",{children:"Yay! You have seen it all"})}),children:[e.jsx("div",{style:{marginLeft:20,marginRight:20},children:e.jsx($n,{avatar:e.jsx(_e,{src:I==null?void 0:I.pic,alt:I==null?void 0:I.fullName}),style:{padding:0,border:"1",borderColor:"silver"},content:e.jsxs("div",{children:[e.jsx(Ue.CKEditor,{disabled:R,editor:ze,data:g,onReady:h=>{h.editing.view.change(v=>{v.setStyle("min-height","100px",h.editing.view.document.getRoot())})},onChange:(h,v)=>{const E=v.getData();u(E)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{children:e.jsx(gr,{multiple:!0,name:"photos",accept:fr.supported_image_extensions.join(),beforeUpload:()=>!1,listType:"picture-card",fileList:c,maxCount:7,onPreview:h=>{A(h)},onChange:C,children:c.length>=7?null:S})}),e.jsx("span",{style:{display:"flex",justifyContent:"flex-end",padding:0},children:e.jsx(K,{size:"large",htmlType:"submit",loading:R,type:"primary",disabled:!g,style:{marginTop:10},onClick:()=>O(),children:"Post"})})]})},"comment-header-")}),e.jsx(ee,{itemLayout:"vertical",size:"large",dataSource:p,loading:M,renderItem:h=>e.jsxs(ee.Item,{extra:[e.jsx(ke,{overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Be,{}),disabled:!h.canDelete,children:e.jsx("a",{onClick:()=>N(h.id),children:"Delete"})},"delete-post-"+h.id),h.canManage?e.jsx(e.Fragment,{}):e.jsx($.Item,{icon:e.jsx(Le,{}),children:e.jsx("a",{onClick:()=>y("Under construction"),children:"Report"})},"report-post"+h.id)]}),trigger:["click"],placement:"bottomRight",arrow:!0,overlayStyle:{zIndex:9999},children:e.jsx(K,{children:e.jsx(Me,{})})})],actions:[e.jsx("a",{onClick:()=>V(h.id),children:e.jsxs(Ie,{children:[h.isLiked?e.jsx(Ea,{style:{color:"red"}}):e.jsx(Fa,{style:{color:"red"}}),e.jsx(en,{children:h.totalLikes})]})}),e.jsx("a",{onClick:()=>B(h),children:e.jsxs(Ie,{children:[e.jsx(Ra,{}),e.jsx(en,{children:h.totalComments})]})})],children:[e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{src:h.user.pic}),title:e.jsx("a",{children:h.user.fullName}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:h.user.bio}),e.jsxs("span",{style:{color:"orange"},children:[": Posted ",ue(h.created).fromNow()]})]})}),e.jsx("span",{dangerouslySetInnerHTML:{__html:h.content}}),e.jsx("div",{children:e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(Rt.PreviewGroup,{children:h.medias.map(v=>e.jsx(Rt,{style:{padding:10,display:"inline"},width:300,src:v.media}))})})})})]},h.slug+h.id)})]})})}),e.jsx(X,{span:6})]}),e.jsx(Ot,{title:"Comments",anchor:"right",width:"40vw",open:m,onClose:h=>f(h),children:e.jsx(Tl,{id:b==null?void 0:b.id,randKey:Math.random(),updateTotalComment:j})}),e.jsx(ae,{visible:t,title:i,footer:null,onCancel:()=>n(!1),destroyOnClose:!0,children:e.jsx("img",{alt:"example",style:{width:"100%"},src:a})})]})},Dl=r=>{const[t,n]=o.useState(""),[a]=T.useForm(),s=async i=>{const{data:l}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaTopic",variables:{darasaId:{value:parseInt(r.darasa),type:"Int",required:!0},title:{value:i.title,type:"String",required:!0},description:{value:i.description,type:"String",required:!0},startDate:{value:ue(i.start_date).format("YYYY-MM-DD"),type:"String",required:!1},minutes:{value:i.minutes,type:"Int",required:!1}},fields:["success","message",{topic:xr}]}}).catch(()=>(y.error("Error creating topic"),{data:null})).then(p=>p);l&&(l.success?(y.success(l.message),r.onFinish(l.topic),a.resetFields()):y.error(l.message))};return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:a,onFinish:i=>{i.description=t,s(i)},onReset:()=>{n("")},requiredMark:!1,children:[e.jsx(T.Item,{name:"title",label:"Topic Title",rules:[{required:!0,type:"string",message:"Enter Topic Title ..."}],children:e.jsx(ne,{size:"large",placeholder:"Enter Topic Title ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ue.CKEditor,{editor:ze,data:t,onReady:i=>{i.editing.view.change(l=>{l.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,l)=>{const p=l.getData();n(p)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(T.Item,{label:"Start Date",name:"start_date",rules:[{required:!!a.getFieldValue("minutes"),type:"object",message:"Please select Start Date"}],children:e.jsx(it,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<ue().endOf("day"),popupStyle:{zIndex:9999}})}),e.jsx(T.Item,{label:"Total Duration (Minutes)",name:"minutes",rules:[{required:!1,type:"number",message:"Please enter total duration in minutes"}],children:e.jsx(Xe,{style:{width:"35%"},size:"large"})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Ol=r=>{const[t,n]=o.useState(""),[a]=T.useForm(),s=async i=>{const{data:l}=await Y.custom({url:"",method:"post",meta:{operation:"createDarasaSubtopic",variables:{topicId:{value:parseInt(r.topic.id),type:"Int",required:!0},title:{value:i.title,type:"String",required:!0},description:{value:i.description,type:"String",required:!0},startDate:{value:ue(i.start_date).format("YYYY-MM-DD"),type:"String",required:!1},minutes:{value:i.minutes,type:"Int",required:!1}},fields:["success","message",{topic:xr}]}}).catch(()=>(y.error("Error creating topic"),{data:null})).then(p=>p);l&&(l.success?(y.success(l.message),r.onFinish(l.topic),a.resetFields()):y.error(l.message))};return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:a,onFinish:i=>{i.description=t,s(i)},requiredMark:!1,children:[e.jsx(T.Item,{name:"title",label:"Topic Title",rules:[{required:!0,type:"string"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Topic Title ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ue.CKEditor,{editor:ze,data:t,onReady:i=>{i.editing.view.change(l=>{l.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,l)=>{const p=l.getData();n(p)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(T.Item,{label:"Start Date",name:"start_date",rules:[{required:!1,type:"object",message:"Please select Start Date"}],children:e.jsx(it,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<ue().endOf("day"),popupStyle:{zIndex:9999}})}),e.jsx(T.Item,{label:"Total Duration (Minutes)",name:"minutes",rules:[{required:!1,type:"number",message:"Enter Total Duration (Minutes)"}],children:e.jsx(Xe,{style:{width:"50%"},size:"large"})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})};function Ml(r){return La({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"}},{tag:"path",attr:{d:"M8 4.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zM8 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 3a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"}}]})(r)}const{TreeNode:tn,DirectoryTree:_l}=$a,{Panel:Al}=xn,El=r=>{const[t,n]=o.useState([]),[a,s]=o.useState([]),[i,l]=o.useState(),[p,d]=o.useState(!0),[b,P]=o.useState(1),[M,k]=o.useState(0),[R,x]=o.useState(0),[w,L]=o.useState(!0),[D]=T.useForm(),[W,z]=o.useState(void 0);be();const I=!pn.useBreakpoint().lg,[g,u]=o.useState(!1),[m,f]=o.useState(!1),c=()=>{u(!0)},_=async(h,v="",E=!1)=>{const{data:H}=await Y.custom({url:"",method:"get",meta:{operation:"darasaTopics",variables:{page:{value:h,type:"Int",required:!0},key:{value:v,type:"String",required:!1},id:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:xr}]}}).catch(te=>(console.log(te),y.error("Error fetching Topics"),{data:null})).then(te=>te);H&&(x(H.total),k(H.pages),P(H.page),L(H.hasNext),n(H.results),s(H.results)),d(!1)},B=async h=>{const{data:v}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaTopic",variables:{id:{value:h,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error removing class Topic"),{data:null})).then(E=>E);v&&(v.success?(y.success(v.message),n(t.filter(E=>E.id!==h)),s(a.filter(E=>E.id!==h))):y.error(v.message))},G=async(h,v)=>{const{data:E}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaTopic",variables:{id:{value:h,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error removing class Topic"),{data:null})).then(H=>H);if(E)if(E.success){y.success(E.message);const H=[...t],te=H.findIndex(ve=>ve.id===v),de=H[te].subtopics.findIndex(ve=>ve.id===h);de!==-1&&H[te].subtopics.splice(de,1),n(H);const He=[...a],Oe=H.findIndex(ve=>ve.id===v);if(Oe!==-1){const ve=H[Oe].subtopics.findIndex(F=>F.id===h);ve!==-1&&He[Oe].subtopics.splice(ve,1),s(He)}}else y.error(E.message)},O=h=>{pe.confirm({title:"Deleting Topic",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>B(h)})},q=(h,v)=>{pe.confirm({title:"Deleting Subtopic",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>G(h,v)})},N=h=>{l(h),f(!0)},V=async h=>{n([h,...t]),a.length===t.length&&s([h,...a])},j=async h=>{n(t.map(v=>v.id===h.id?h:v)),s(a.map(v=>v.id===h.id?h:v))},S=h=>{const v=t.filter(E=>E.id===parseInt(h));s(v)},A=()=>e.jsx(Va,{description:"No topic Registered ..."}),C=h=>h.subtopics.map(v=>e.jsx(Al,{extra:[e.jsx("div",{style:{right:0,zIndex:99999},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),e.jsx($.Item,{icon:e.jsx(ft,{}),onClick:()=>q(v.id,h.id),disabled:!r.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:E=>E.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})],header:e.jsx("div",{children:e.jsxs("span",{children:[v.title,v.minutes>0&&e.jsxs(oe,{color:"green",children:[v.minutes," ",v.minutes>1?"Mins":"Min"]})]})}),children:e.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})},v.id));return o.useEffect(()=>{_(b)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:6,children:e.jsxs(Te,{style:{marginRight:5},children:[t.length===0&&e.jsx(e.Fragment,{children:A()}),e.jsx(_l,{multiple:!0,defaultExpandedKeys:[],onExpand:(h,v)=>{const E=v.node.key;if(E&&E.toString().includes("topic")){z(E);const H=E.toString().split("-")[1];S(H)}else if(!(E&&E.toString().includes("sub")))s(t);else{const H=E.toString().split(":")[0];z(H);const te=H.toString().split("-")[1];S(te)}},children:t.map((h,v)=>e.jsx(tn,{icon:e.jsx(Mr,{}),title:h.title,children:h.subtopics.map(E=>e.jsx(tn,{icon:e.jsx(Mr,{}),title:E.title},"topic-"+h.id+":sub-"+E.id))},"topic-"+h.id))})]})}),e.jsxs(X,{span:18,children:[e.jsxs(Z,{children:[e.jsx(X,{span:12,children:e.jsx(T,{layout:"vertical",form:D,onFinish:h=>{P(0),_(0,h.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Topics(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(Yt,{}),size:"large",onClick:c,disabled:!r.canManage,children:"Add Topic"})})]}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[a.length>0?e.jsx(Z,{align:"top",children:a.map((h,v)=>e.jsx(X,{span:24,style:{marginTop:v===0?0:10},children:e.jsxs(Te,{hoverable:h.isActive,style:{marginRight:10},title:e.jsxs("div",{children:[e.jsxs("span",{children:[e.jsx("span",{style:{fontSize:22},children:h.title}),h.minutes>0&&e.jsx("span",{style:{marginLeft:10},children:e.jsx(Ke,{color:"green",title:e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:["Starts:"," ",ue(h.startDate).format("DD/MM/YYYY hh:mm a")]}),e.jsxs(oe,{children:["Ends:"," ",ue(h.endDate).format("DD/MM/YYYY hh:mm a")]})]}),children:e.jsxs(oe,{color:"green",children:[h.minutes," ",h.minutes>1?"Mins":"Min"]})})})]}),e.jsx(Ie,{style:{right:0,position:"absolute"},children:e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(gn,{}),disabled:!h.canManage,children:e.jsx("a",{onClick:()=>N(h),children:"Add Subtopics"})}),e.jsx($.Item,{icon:e.jsx(sn,{}),disabled:!0,children:e.jsx("a",{onClick:()=>N(h),children:"Add Documents"})}),e.jsx($.Item,{icon:e.jsx(Na,{}),disabled:!0,children:e.jsx("a",{onClick:()=>N(h),children:"Add Videos"})}),e.jsx($.Item,{icon:e.jsx(Ml,{}),disabled:!0,children:e.jsx("a",{onClick:()=>N(h),children:"Add Audios"})}),e.jsx($.Item,{icon:e.jsx(Le,{}),onClick:()=>y("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),e.jsx($.Item,{icon:e.jsx(ft,{}),onClick:()=>O(h.id),disabled:!r.canManage,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Remove"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:E=>E.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})})]}),children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:h.description}}),h.subtopics.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsxs(X,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:20,fontWeight:"bolder"},children:"Subtopics"}),h.canManage&&e.jsx(K,{disabled:!h.canManage,icon:e.jsx(qa,{}),onClick:()=>N(h),children:"Add Subtopic"})]})}),e.jsx(xn,{defaultActiveKey:["1"],accordion:!0,children:C(h)})]})]})}))}):e.jsx(Te,{children:e.jsx(Z,{justify:"center",children:e.jsx(X,{children:A()})})}),w&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{onClick:()=>_(b+1),disabled:!w,children:"Load More"})})]})]})]}),e.jsx(ae,{title:"Adding Topics",open:g,onClose:h=>u(h),width:I?"100vw":"50vw",children:e.jsx(Dl,{darasa:r.id,onFinish:V})}),e.jsx(ae,{title:"Add Subtopics to "+(i==null?void 0:i.title),open:m,onClose:h=>f(h),width:I?"100vw":"50vw",children:e.jsx(Ol,{topic:i,onFinish:j})})]})},Fl=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(0),[M,k]=o.useState(!0),[R]=T.useForm(),x=async(w,L="",D=!1)=>{const{data:W}=await Y.custom({url:"",method:"get",meta:{operation:"darasaOrders",variables:{page:{value:w,type:"Int",required:!0},key:{value:L,type:"String",required:!1},darasaId:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},paid:{value:!0,type:"Boolean",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:vr}]}}).catch(()=>(y.error("Error fetching Class Payments"),{data:null})).then(z=>z);W&&(P(W.total),d(W.pages),l(W.page),k(W.hasNext),n(W.results)),s(!1)};return o.useEffect(()=>{x(i)},[]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(X,{span:12,children:e.jsx(T,{layout:"vertical",form:R,onFinish:w=>{l(0),x(0,w.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Payment(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,locale:{emptyText:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ge,{style:{fontSize:20}})}),e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx("p",{children:"No Payments found"})})]})},renderItem:w=>e.jsx(ee.Item,{children:e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{src:w.user.pic}),title:e.jsxs("a",{children:[w.user.fullName,e.jsxs(oe,{color:"green",style:{marginLeft:10},children:[w.amount," TSH"]})]}),description:w.user.email})},w.id)}),M&&e.jsx("div",{style:{textAlign:"center",marginTop:12},children:e.jsx("button",{onClick:()=>{x(i+1)},children:"Load More"})})]})]})},Rl=r=>{const[t,n]=o.useState(!0),[a,s]=o.useState([]);T.useForm();const i=async(p,d="",b=!1)=>{n(!0);const{data:P}=await Y.custom({url:"",method:"get",meta:{operation:"darasaOrders",variables:{page:{value:p,type:"Int",required:!0},key:{value:d,type:"String",required:!1},darasaId:{value:parseInt(r.darasa===void 0?"0":r.darasa.toString()),type:"Int",required:!0},paid:{value:!0,type:"Boolean",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:vr}]}}).catch(()=>(y.error("Error getting Orders"),{data:null})).then(M=>M);n(!1),P&&s(P.results)},l=[{title:"Student Name",dataIndex:"studentName",key:"studentName",rebnder:(p,d)=>e.jsx(e.Fragment,{children:d.darasa.user.fullName})},{title:"Receipt Number",dataIndex:"receiptNumber",key:"receiptNumber",render:(p,d)=>e.jsx(e.Fragment,{children:d.receiptNumber})},{title:"Amount",dataIndex:"amount",key:"amount",render:(p,d)=>e.jsx(e.Fragment,{children:d.amount})}];return o.useEffect(()=>{i(1)},[r.randKey]),e.jsx(e.Fragment,{children:e.jsx(vn,{loading:t,dataSource:a,columns:l,locale:{emptyText:"No Payments yet"}})})},Ll=r=>{const[t,n]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(Z,{children:e.jsxs(X,{span:24,children:[e.jsx(Ua,{title:"Total Amount to be Disbursed (Approximate)",value:112893,precision:2}),e.jsx(K,{style:{marginTop:16},type:"primary",onClick:()=>n(!0),children:"View Details"})]})})}),e.jsx(Ot,{title:"Disbursement Details",anchor:"right",width:"40vw",onClose:a=>n(a),open:t,children:e.jsx(Rl,{darasa:r.darasa,randKey:Math.random()})})]})},Nl=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(!0),[i,l]=o.useState(1),[p,d]=o.useState(0),[b,P]=o.useState(0),[M,k]=o.useState(!0),[R]=T.useForm();be();const[x,w]=o.useState(!1),L=async(D,W="",z=!1)=>{const{data:U}=await Y.custom({url:"",method:"get",meta:{operation:"darasaOrderDisbursements",variables:{page:{value:D,type:"Int",required:!0},key:{value:W,type:"String",required:!1},darasaId:{value:parseInt(r.id===void 0?"0":r.id.toString()),type:"Int",required:!0},paid:{value:!0,type:"Boolean",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:Ha}]}}).catch(()=>(y.error("Error fetching Class Disbursements"),{data:null})).then(I=>I);U&&(P(U.total),d(U.pages),l(U.page),k(U.hasNext),n(U.results)),s(!1)};return o.useEffect(()=>{L(i)},[]),a?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:a,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:12,children:e.jsx(T,{layout:"vertical",form:R,onFinish:D=>{l(0),L(0,D.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Payment(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:12,style:{textAlign:"right"},children:e.jsx(K,{size:"large",disabled:!r.canManage,icon:e.jsx(za,{}),onClick:()=>w(!0),children:"Create Disbursement"})})]}),e.jsxs("div",{id:"scrollableDiv",style:{height:"74vh",overflow:"auto"},children:[e.jsx(ee,{itemLayout:"horizontal",dataSource:t,locale:{emptyText:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ge,{style:{fontSize:20}})}),e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx("p",{children:"No Disbursement found"})})]})},renderItem:D=>e.jsxs(ee.Item,{children:[e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{src:D.user.pic}),title:e.jsxs("a",{children:[D.user.fullName,e.jsxs(oe,{color:"green",style:{marginLeft:10},children:[D.amount," TSH"]})]}),description:D.user.email}),"first"]},D.id)}),M&&e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(K,{onClick:()=>L(i+1),disabled:!M,children:"Load More"})})]}),e.jsx(ae,{title:"Create Disbursement",open:x,width:"50vw",onClose:D=>w(D),children:e.jsx(Ll,{darasa:r.id,randKey:Math.random()})})]})},{TabPane:Fe}=yn,ql=r=>{const[t,n]=o.useState(),[a,s]=o.useState(!0),[i,l]=o.useState("1"),{push:p}=be(),d=Bt(),b=async P=>{const{data:M}=await Y.custom({url:"",method:"get",meta:{operation:"darasa",variables:{id:{value:parseInt(P.toString()),type:"Int",required:!0}},fields:rt}}).catch(()=>(y.error("Error fetching darasa"),{data:null})).then(k=>k);M&&(n(M),s(!1))};return o.useEffect(()=>{b(d.id),localStorage.getItem("currentClass")===d.id.toString()?l(localStorage.getItem("classCurrentTabIndex")??"1"):(localStorage.setItem("currentClass",d.id.toString()),l("1"))},[d.id]),e.jsx(e.Fragment,{children:e.jsxs(ce,{spinning:a,children:[e.jsx("div",{style:{marginTop:5,marginBottom:5},children:e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx("a",{onClick:()=>p("/oclass"),children:"Home"})}),e.jsx(re.Item,{children:e.jsx("a",{onClick:()=>p("/oclass"),children:"Classes"})}),e.jsxs(re.Item,{children:["Class Session",e.jsx(Wt,{}),t!=null&&t.name?e.jsxs("span",{style:{color:"orange"},children:[t==null?void 0:t.name," - ","{"+(t==null?void 0:t.code)+"}"]}):e.jsx(e.Fragment,{})]})]})}),(t==null?void 0:t.isBlocked)&&e.jsx(st,{severity:"warning",sx:{fontSize:18},children:"You have been blocked from this class, please contact the class owner for more information."}),!(t!=null&&t.isBlocked)&&e.jsx("div",{style:{marginTop:10,background:"white",padding:10},children:e.jsxs(yn,{type:"card",tabBarExtraContent:e.jsx(K,{icon:e.jsx(Wa,{}),disabled:!(t!=null&&t.canManage),children:"Configs"}),activeKey:i,onTabClick:P=>{l(P.toString()),localStorage.setItem("classCurrentTabIndex",P)},children:[e.jsx(Fe,{tab:"Class Feeds",children:e.jsx(kl,{id:d.id,canManage:t==null?void 0:t.canManage})},"1"),e.jsx(Fe,{tab:"Files",children:e.jsx(cs,{id:d.id,canManage:t==null?void 0:t.canManage})},"2"),e.jsx(Fe,{tab:"Connected Drives",children:e.jsx(ls,{id:d.id,canManage:t==null?void 0:t.canManage})},"3"),e.jsx(Fe,{tab:"Topics",children:e.jsx(El,{id:d.id,canManage:t==null?void 0:t.canManage})},"12"),e.jsx(Fe,{tab:"Resources Links",children:e.jsx(ds,{id:d.id,canManage:t==null?void 0:t.canManage})},"4"),e.jsx(Fe,{tab:"Videos",children:e.jsx(zi,{id:d.id,canManage:t==null?void 0:t.canManage})},"5"),e.jsx(Fe,{tab:"Virtual Sessions",disabled:!1,children:e.jsx(ol,{id:d.id,canManage:t==null?void 0:t.canManage})},"6"),e.jsx(Fe,{tab:"Assignments",disabled:!1,children:e.jsx(is,{id:d.id,canManage:t==null?void 0:t.canManage})},"7"),e.jsx(Fe,{tab:"Announcements",children:e.jsx(as,{id:d.id,canManage:t==null?void 0:t.canManage})},"8"),e.jsx(Fe,{tab:"Students",children:e.jsx(ms,{id:d.id,canManage:t==null?void 0:t.canManage})},"9"),(t==null?void 0:t.payable)&&(t==null?void 0:t.canManage)&&e.jsxs(e.Fragment,{children:[e.jsx(Fe,{tab:"Payments",children:e.jsx(Fl,{id:d.id,canManage:t==null?void 0:t.canManage})},"10"),e.jsx(Fe,{tab:"Disbursements",children:e.jsx(Nl,{id:d.id,canManage:t==null?void 0:t.canManage})},"11")]})]})})]})})},Gn=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState(!1),[i,l]=o.useState(""),[p,d]=o.useState([]),[b,P]=o.useState(""),[M]=T.useForm(),k=async()=>{const{data:x}=await Y.custom({url:"",method:"get",meta:{operation:"paymentSupportedTelecomCarriers",variables:{},fields:[{results:["id","name"]}]}}).catch(()=>(y.error("Error getting supported carriers"),{data:null})).then(w=>w);if(x){const w=x.results,L=[];w.forEach(D=>{L.push(D.name)}),d(L)}},R=async x=>{n(!0);const{data:w}=await Y.custom({url:"",method:"post",meta:{operation:"validateMobilePhoneNumber",variables:{phone:{value:x,type:"String",required:!0}},fields:["success","message","carrier","formattedPhone"]}}).catch(()=>(y.error("Error Validating Mobile Phone Number"),{data:null})).then(L=>L);return w&&(s(w.success),w.success||(l(w.message),P(w.carrier))),n(!1),w};return o.useEffect(()=>{k()},[r.randKey]),e.jsxs("div",{children:[e.jsxs(me,{title:"",column:1,children:[e.jsx(me.Item,{label:"Class Name",children:r.darasa.name}),e.jsx(me.Item,{label:"Class Code",children:r.darasa.code}),e.jsx(me.Item,{label:"Cost",children:e.jsxs("span",{style:{fontSize:22},children:[r.darasa.price.toLocaleString(),"/= Tsh"]})}),e.jsx(me.Item,{label:"Description",children:r.darasa.description})]}),e.jsxs(T,{layout:"vertical",form:M,requiredMark:!0,autoComplete:"off",children:[e.jsx(T.Item,{name:"phone",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Mobile Phone Number"}),b.length>0&&e.jsx(oe,{color:"green",style:{marginLeft:10},children:b}),t&&e.jsx(ce,{spinning:t})]}),rules:[{required:!0,type:"string",message:"Required"},{validator:async(x,w)=>{if(w.length>=10){if(!t){const L=await R(w).then(D=>D);if(L!=null&&L.success)P(L.carrier),s(!0);else return P(""),Promise.reject(L==null?void 0:L.message)}}else s(!1)}}],children:e.jsx(ne,{size:"large",placeholder:"Mobile Phone Number ..."})}),p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:"Supported Payment Merchants"}),e.jsx("span",{children:p.map(x=>e.jsx(oe,{color:"red",children:x}))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",disabled:!a,children:"Pay"})})]})]})},Vl=()=>{const[r,t]=o.useState(!0),[n,a]=o.useState(!1),[s,i]=o.useState(),[l,p]=o.useState(!1),d=Bt(),b=async M=>{t(!0);const{data:k}=await Y.custom({url:"",method:"post",meta:{operation:"checkDarasaConnected",variables:{id:{value:parseInt(M.toString()),type:"Int",required:!0}},fields:["success","message",{darasa:rt}]}}).catch(()=>({data:null})).then(R=>R);t(!1),k&&(a(k.success),i(k.darasa))},P=async M=>{const{data:k}=await Y.custom({url:"",method:"post",meta:{operation:"connectDarasa",variables:{id:{value:parseInt(M.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>({data:null})).then(R=>R);k?(a(k.success),i(k.darasa),y.success(k.message),k.success&&b(d.id)):y.error(k.message)};return o.useEffect(()=>{b(d.id)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:0},children:[r&&e.jsx(e.Fragment,{children:e.jsx(Z,{children:e.jsx(X,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(ce,{tip:"Checking Connection",size:"large",style:{color:"red"},children:e.jsx("div",{className:"content",style:{height:"50vh",width:"100vh"}})})})})}),n&&e.jsx(ql,{}),!n&&!r&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsxs(me,{title:"Class Info's",children:[e.jsx(me.Item,{label:"Class Name/Title",children:s==null?void 0:s.name}),e.jsx(me.Item,{label:"Class Code",children:s==null?void 0:s.code}),e.jsx(me.Item,{label:"Created By",children:e.jsx("a",{children:s==null?void 0:s.user.fullName})}),(s==null?void 0:s.startDate)&&e.jsx(me.Item,{label:"Start Date",children:ue(s==null?void 0:s.startDate).format("YYYY-MM-DD")}),(s==null?void 0:s.endDate)&&e.jsx(me.Item,{label:"End Date",children:ue(s==null?void 0:s.endDate).format("YYYY-MM-DD")}),(s==null?void 0:s.payable)&&e.jsxs(me.Item,{label:"Price",children:[s==null?void 0:s.price.toLocaleString(),"/= Tsh"]})]})}),e.jsx(Z,{children:e.jsxs(X,{span:24,style:{display:"flex",justifyContent:"center"},children:[(s==null?void 0:s.payable)&&e.jsx(K,{size:"large",onClick:()=>p(!0),children:"Pay for This Class"}),!(s!=null&&s.payable)&&e.jsx(gt,{title:"Are you sure to Connect/Join to this Class",onConfirm:()=>P(d.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(K,{size:"large",children:"Connect/Join"})})]})})]})]}),e.jsx(ae,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Purchasing"}),e.jsx("span",{style:{marginLeft:10,fontWeight:"bolder"},children:s==null?void 0:s.name})]}),width:"35vw",open:l,onClose:M=>p(M),children:e.jsx(Gn,{darasa:s,randKey:Math.random()})})]})},Ul=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Connected Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx($t,{mode:"connected"})})]}),{Meta:zl}=Te,Hl=r=>{const[t,n]=o.useState([]),[a,s]=o.useState(),[i,l]=o.useState(!1),[p,d]=o.useState(!1),[b,P]=o.useState(!0),[M,k]=o.useState(1),[R,x]=o.useState(0),[w,L]=o.useState(!0),[D]=T.useForm(),z=!pn.useBreakpoint().lg,U=u=>{s(u),d(!0)},I=u=>{s(u),l(!0)},g=async(u,m="",f=!1)=>{const{data:c}=await Y.custom({url:"",method:"get",meta:{operation:"madarasaToBuy",variables:{page:{value:u,type:"Int",required:!0},key:{value:m,type:"String",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:rt}]}}).catch(()=>(y.error("Error getting darasas"),{data:null})).then(_=>_);c&&(x(c.total),k(c.page),L(c.hasNext),n(c.results)),P(!1)};return o.useEffect(()=>{g(M)},[]),b?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:b,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{style:{display:"flex",justifyContent:"center"},children:e.jsx(X,{span:z?24:10,children:e.jsx(T,{layout:"vertical",form:D,onFinish:u=>{k(0),g(0,u.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Classes...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(jr,{dataLength:R,next:()=>g(M),hasMore:w,loader:e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ce,{})})}),endMessage:e.jsx("p",{style:{textAlign:"center",display:t.length>0?"block":"none"},children:e.jsx("b",{children:"Yay! You have seen it all"})}),children:t.length>0?e.jsx(Z,{align:"top",children:t.map(u=>e.jsx(X,{span:z?24:8,children:e.jsxs(Te,{hoverable:u.isActive,style:{marginRight:10,marginBottom:10},actions:[e.jsx(K,{size:"large",onClick:()=>I(u),children:"Read More"}),e.jsx(K,{size:"large",onClick:()=>U(u),children:"Buy Now"})],children:[e.jsx("div",{style:{height:window.innerHeight/3,background:"url("+u.cover+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",marginBottom:10,borderRadius:5}}),e.jsx(zl,{title:e.jsx(e.Fragment,{children:e.jsxs(Ie,{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{children:[e.jsx(Ke,{title:u.name,children:sr(u.name,20)}),e.jsx(oe,{color:"red",style:{marginLeft:10},children:u.code})]}),e.jsxs("span",{style:{fontSize:24},children:[u.price,"/="]})]})}),description:e.jsx(e.Fragment,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:sr(u.description,100)}})})})]})}))}):e.jsx(st,{severity:"info",sx:{fontSize:18},children:"No Classes Found"})}),e.jsx(Ot,{title:a==null?void 0:a.name,width:"50vw",anchor:"right",onClose:u=>l(u),open:i,children:e.jsxs(me,{title:"",column:1,children:[e.jsx(me.Item,{label:"Class Name",children:a==null?void 0:a.name}),e.jsx(me.Item,{label:"Class Code#",children:a==null?void 0:a.code}),e.jsxs(me.Item,{label:"Cost",children:[a==null?void 0:a.price," Tsh"]}),e.jsx(me.Item,{label:"Description",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})}),e.jsx(me.Item,{label:"",children:e.jsx(K,{size:"large",onClick:()=>U(a),children:"Buy Now"})})]})}),e.jsx(ae,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Purchasing"}),e.jsx("span",{style:{marginLeft:10,fontWeight:"bolder"},children:a==null?void 0:a.name})]}),width:"35vw",open:p,onClose:u=>d(u),children:e.jsx(Gn,{darasa:a,randKey:Math.random()})})]})},Wl=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Classes Marketplace"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx(Hl,{randKey:Math.random()})})]}),Yl=()=>e.jsxs("div",{style:{marginTop:10},children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"My Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx($t,{mode:"my"})})]}),Bl=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState(0),[i,l]=o.useState(0),[p,d]=o.useState(1),[b,P]=o.useState(25),[M,k]=o.useState(""),[R,x]=o.useState([]),[w,L]=o.useState(),[D]=T.useForm(),[W,z]=o.useState(!1);be();const U=async m=>{L(m),z(!0)},I=async(m,f="",c=25)=>{n(!0);const{data:_}=await Y.custom({url:"",method:"get",meta:{operation:"darasaOrders",variables:{page:{value:m,type:"Int",required:!0},key:{value:f,type:"String",required:!1},pageSize:{value:c,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:vr}]}}).catch(B=>(console.log(B),y.error("Error getting Bills"),{data:null})).then(B=>B);_&&(s(_.total),l(_.pages),d(_.page),x(_.results)),n(!1)},g=async m=>{const{data:f}=await Y.custom({url:"",method:"post",meta:{operation:"deleteDarasaOrder",variables:{id:{value:m,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting Order"),{data:null})).then(c=>c);f&&x(R.filter(c=>c.id!==m))},u=[{title:"Bill#",dataIndex:"billNumber",fixed:!0,render:(m,f,c)=>{var _;return e.jsx("span",{children:e.jsx("a",{children:(_=f==null?void 0:f.bill)==null?void 0:_.billNumber})})}},{title:"Class Name",dataIndex:"bookTitle",fixed:!0,render:(m,f,c)=>{var _;return e.jsx("span",{children:e.jsx("a",{children:(_=f==null?void 0:f.darasa)==null?void 0:_.name})})}},{title:"Bill Amount",dataIndex:"billAmount",fixed:!0,render:(m,f,c)=>e.jsxs("span",{children:[f.price," Tsh"]})},{title:"Paid",dataIndex:"isPaid",fixed:!0,render:(m,f,c)=>e.jsx("span",{children:f.isPaid?e.jsx(oe,{color:"green",children:"Yes"}):e.jsx(oe,{color:"red",children:"No"})})},{title:"Created",dataIndex:"created",render:(m,f,c)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(wt,{date:new Date(f.created)})})})},{title:"Status",dataIndex:"isActive",render:(m,f,c)=>e.jsx("a",{children:f!=null&&f.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(m,f,c)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[!f.isPaid&&e.jsx(gt,{title:"Are you sure to delete this Order?",onConfirm:()=>g(f.id),okText:"Yes",cancelText:"No",disabled:!(f!=null&&f.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(K,{icon:e.jsx(Be,{}),disabled:!(f!=null&&f.canDelete),size:"large"})}),f.isPaid&&e.jsx(Ke,{title:"Print Receipt",children:e.jsx(K,{icon:e.jsx(Ba,{}),size:"large"})}),!f.isPaid&&e.jsx(Ke,{title:"View Order Details",children:e.jsx(K,{icon:e.jsx(gn,{}),size:"large",onClick:()=>U(f)})})]})}];return o.useEffect(()=>{I(p,"",25)},[r.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(Ya,{offsetTop:75,children:e.jsx(Z,{style:{display:"flex",justifyContent:"center",marginTop:20},children:e.jsx(X,{span:10,children:e.jsx(T,{layout:"vertical",form:D,onFinish:m=>{I(1,m.key,25)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Bill(s)...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx(Z,{children:e.jsx(X,{span:24,children:e.jsx(vn,{loading:t,columns:u,dataSource:R,pagination:{onChange:(m,f)=>{P(f),I(m,M,f)},total:a,pageSize:b,position:["bottomCenter"],showQuickJumper:!1},scroll:{x:!0}})})}),e.jsx(ae,{title:"Order Details & Payment",open:W,width:"50vw",onClose:m=>z(m),children:e.jsx(Ga,{book:w==null?void 0:w.darasa})})]})},$l=()=>e.jsx("div",{style:{marginTop:10},children:e.jsx(Bl,{randKey:Math.random()})}),{Option:Gl}=Re,rn=[{value:"",label:"Select Duration Type"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"}],Kl=r=>{const[t,n]=o.useState("");return e.jsx(e.Fragment,{children:e.jsxs(T,{layout:"vertical",form:r.form,onFinish:a=>{a.description=t,r.onFinish(a),n("")},requiredMark:!1,children:[e.jsx(T.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input name"}],children:e.jsx(ne,{size:"large",placeholder:"Enter Name ..."})}),e.jsx(T.Item,{name:"startDate",label:"start Date",rules:[{required:!0,type:"date",message:"Please select date"}],children:e.jsx(it,{showTime:{format:"HH:mm"},disabledDate:a=>{const s=ue().format("YYYY-MM-DD");return a&&a<ue(s,"YYYY-MM-DD")},style:{width:"100%"},popupStyle:{zIndex:9999}})}),e.jsxs(Z,{children:[e.jsx(X,{span:12,children:e.jsx(T.Item,{name:"duration",label:"Duration",style:{width:"100%"},rules:[{required:!0,type:"integer",message:"Enter Duration"}],children:e.jsx(Xe,{min:1,defaultValue:1,style:{width:"100%"},size:"large"})})}),e.jsx(X,{span:12,children:e.jsx(T.Item,{name:"durationType",label:"Duration Type",style:{width:"100%"},rules:[{required:!0,type:"string",message:"Please select duration type"}],children:e.jsx(Re,{defaultValue:rn[0].value,size:"large",style:{width:"100%"},dropdownStyle:{zIndex:9999},children:rn.map(a=>e.jsx(Gl,{children:a.label},a.value))})})})]}),e.jsx(T.Item,{name:"isPublic",label:"Availability",rules:[{required:!1,type:"boolean"}],children:e.jsx(zt,{defaultChecked:!0,disabled:!0,checked:!0,value:!0,children:"Public Available"})}),e.jsx("h3",{children:"Description"}),e.jsx(Ue.CKEditor,{editor:ze,data:t,onReady:a=>{a.editing.view.change(s=>{s.setStyle("min-height","100px",a.editing.view.document.getRoot())})},onChange:(a,s)=>{const i=s.getData();n(i)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:e.jsx(K,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Xl=r=>{const[t,n]=o.useState(!1),[a,s]=o.useState([]),[i,l]=o.useState(),[p,d]=o.useState(),[b,P]=o.useState(!0),[M,k]=o.useState(1),[R,x]=o.useState(0),[w,L]=o.useState(!0),[D]=T.useForm(),[W,z]=o.useState(!1),{push:U}=be(),[I]=T.useForm(),[g,u]=o.useState(!1),[m,f]=o.useState(!1),c=S=>{l(S),f(!0)},_=async S=>{const{data:A}=await Y.custom({url:"",method:"post",meta:{operation:"connectClass",variables:{id:{value:S,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error connecting to class"),{data:null})).then(C=>C);A&&(A.success?(u(!1),d(null),y(A.message),s(a.filter(C=>C.id!==S))):y.error(A.message))},B=async S=>{const{data:A}=await Y.custom({url:"",method:"post",meta:{operation:"createVirtualClass",variables:{name:{value:S.name,type:"String",required:!0},description:{value:S.description,type:"String",required:!0},duration:{value:S.duration,type:"Int",required:!0},durationType:{value:S.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:S.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:dt}]}}).catch(()=>(y.error("Error creating class"),{data:null})).then(C=>C);A&&(A.success?(y.success(A.message),z(!1),s([A.virtual,...a])):y.error(A.message))},G=async S=>{const{data:A}=await Y.custom({url:"",method:"post",meta:{operation:"editVirtualClass",variables:{id:{value:S.id,type:"Int",required:!0},name:{value:S.name,type:"String",required:!0},description:{value:S.description,type:"String",required:!0},duration:{value:S.duration,type:"Int",required:!0},durationType:{value:S.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:S.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:dt}]}}).catch(()=>(y.error("Error editing class"),{data:null})).then(C=>C);A&&(A.success?(y.success(A.message),s(a.map(C=>C.id===A.virtual.id?A.virtual:C)),f(!1)):y.error(A.message))},O=()=>{I.resetFields(),z(!0)},q=async S=>{const{data:A}=await Y.custom({url:"",method:"post",meta:{operation:"deleteVirtualClass",variables:{id:{value:S,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(y.error("Error deleting class"),{data:null})).then(C=>C);A&&(A.success?(y.success(A.message),s(a.filter(C=>C.id!==S))):y.error(A.message))},N=S=>{pe.confirm({title:"Deleting Virtual Class",icon:e.jsx(ge,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>q(S)})},V=async(S,A="",C=!1)=>{const{data:h}=await Y.custom({url:"",method:"get",meta:{operation:"publicVirtualClasses",variables:{page:{value:S,type:"Int",required:!0},key:{value:A,type:"String",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:dt}]}}).catch(()=>(y.error("Error fetching classes"),{data:null})).then(v=>v);h&&(x(h.total),k(h.page),L(h.hasNext),s(h.results)),P(!1)},j=async()=>{const{data:S}=await Y.custom({url:"",method:"get",meta:{operation:"darasaAuth",variables:{},fields:["auth"]}}).catch(()=>(y.error("Error getting darasa auth"),{data:null})).then(A=>A);S&&n(S.auth.create_virtual_classes)};return o.useEffect(()=>{j(),V(M)},[]),b?e.jsx(e.Fragment,{children:e.jsx(Ve,{loading:b,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(X,{span:20,children:e.jsx(T,{layout:"vertical",form:D,onFinish:S=>{k(0),V(0,S.key,!0)},children:e.jsx(T.Item,{name:"key",children:e.jsx(ne,{size:"large",placeholder:"Search Public Virtual Classes...",prefix:e.jsx(fe,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(X,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{icon:e.jsx(Ht,{}),size:"large",onClick:()=>O(),disabled:!t,children:"Create Virtual Class"})})]}),e.jsx(jr,{dataLength:R,next:()=>V(M),hasMore:w,loader:e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ce,{})})}),endMessage:e.jsx("p",{style:{textAlign:"center",display:a.length>0?"block":"none"},children:e.jsx("b",{children:"Yay! You have seen it all"})}),children:e.jsx(ee,{loading:!1,itemLayout:"horizontal",loadMore:!1,dataSource:a,renderItem:S=>e.jsx(Te,{children:e.jsx(ee.Item,{actions:[e.jsx(ke,{trigger:["click"],overlay:e.jsxs($,{children:[e.jsx($.Item,{icon:e.jsx(mr,{}),disabled:!S.canJoin,onClick:()=>U("/oclass/virtual/class/session/"+S.id+"/"+S.token),children:e.jsx("a",{children:"Join"})}),S.canDelete?e.jsx($.Item,{disabled:!S.canDelete,icon:e.jsx(Be,{}),onClick:()=>N(S.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}):e.jsx(e.Fragment,{}),e.jsx($.Item,{icon:e.jsx(Dt,{}),disabled:!S.canEdit,onClick:()=>c(S),children:e.jsx("a",{children:"Edit"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:A=>A.preventDefault(),children:e.jsx(Me,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(Ve,{avatar:!0,title:!1,loading:!1,active:!0,children:e.jsx(ee.Item.Meta,{avatar:e.jsx(_e,{}),title:e.jsx("a",{onClick:()=>S.canJoin?U("/oclass/virtual/class/session/"+S.id+"/"+S.token):y("You can't join this class"),children:S.name}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:S.description}),e.jsxs("p",{children:[e.jsxs(oe,{color:"green",children:["Start At:"," ",e.jsx("span",{style:{marginLeft:10},children:Ut(new Date(S.startDate),"MMMM do, yyyy H:mma")})]}),e.jsxs(oe,{color:"green",children:["End In:",e.jsx("span",{style:{marginLeft:10},children:Ut(new Date(S.endDate),"MMMM do, yyyy H:mma")})]}),S.canJoin?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx(oe,{color:"red",children:"Not Joinable"})})]})]})})})})})})}),e.jsx(ae,{title:"Creating Public Virtual Class",width:"40vw",open:W,onClose:S=>z(S),children:e.jsx(Kl,{form:I,onFinish:B})}),e.jsx(ae,{title:"Connecting "+(p==null?void 0:p.name),open:g,width:"40vw",onClose:S=>u(S),children:e.jsxs(e.Fragment,{children:[e.jsx(jn,{id:p==null?void 0:p.id}),e.jsx(K,{onClick:()=>_(p==null?void 0:p.id),style:{position:"absolute",bottom:0,right:0,marginBottom:10},children:"Connect"})]})}),e.jsx(ae,{title:"Editting "+(i==null?void 0:i.name),width:"40vw",open:m,onClose:S=>f(S),children:e.jsx(dn,{form:I,darasa:i,onFinish:G})})]})},Jl=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Online Public Virtual Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx(Xl,{mode:"connected"})})]}),Kn="meet.jit.si";var Ql=globalThis&&globalThis.__awaiter||function(r,t,n,a){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function p(P){try{b(a.next(P))}catch(M){l(M)}}function d(P){try{b(a.throw(P))}catch(M){l(M)}}function b(P){P.done?i(P.value):s(P.value).then(p,d)}b((a=a.apply(r,t||[])).next())})};const Zl=(r,t,n)=>Ql(void 0,void 0,void 0,function*(){return new Promise((a,s)=>{if(window.JitsiMeetExternalAPI)return a(window.JitsiMeetExternalAPI);const i=document.createElement("script"),l=t?`?release=${t}`:"",p=n?`${n}/`:"";i.async=!0,i.src=`https://${r}/${p}external_api.js${l}`,i.onload=()=>a(window.JitsiMeetExternalAPI),i.onerror=()=>s(new Error(`Script load error: ${i.src}`)),document.head.appendChild(i)})});let At;const ec=(r=Kn,t,n)=>At||(At=Zl(r,t,n),At),tc=r=>{const t=r.split("/");if(!(t.length<=1))return t[0]};let rc=0;const nn=r=>`${r}-${rc++}`,nc=({domain:r=Kn,roomName:t,configOverwrite:n,interfaceConfigOverwrite:a,jwt:s,invitees:i,devices:l,userInfo:p,release:d,spinner:b,onApiReady:P,onReadyToClose:M,getIFrameRef:k})=>{const[R,x]=o.useState(!0),[w,L]=o.useState(!1),D=o.useRef(),W=o.useRef(),z=o.useRef(null),U=o.useMemo(()=>nn("jitsiMeeting"),[nn]);o.useEffect(()=>{ec(r,d,tc(t)).then(u=>{D.current=u,L(!0)}).catch(u=>console.error(u.message))},[]);const I=o.useCallback(u=>{W.current=new u(r,{roomName:t,configOverwrite:n,interfaceConfigOverwrite:a,jwt:s,invitees:i,devices:l,userInfo:p,release:d,parentNode:z.current}),x(!1),W.current&&(typeof P=="function"&&P(W.current),W.current.on("readyToClose",()=>{typeof M=="function"&&M()}),z.current&&typeof k=="function"&&k(z.current))},[W,z,P,M,k,r,t,n,a,s,i,l,p]);o.useEffect(()=>{w&&!W.current&&D.current&&I(D.current)},[w,I]);const g=o.useCallback(()=>!b||!R||W.current?null:e.jsx(b,{},void 0),[b,W.current]);return e.jsxs(e.Fragment,{children:[g(),e.jsx("div",{id:U,ref:z},U)]},void 0)};globalThis&&globalThis.__rest;const ac={app_name:"Oclass",api_url:"https://olbongo.co.tz",conference_url:"video.olbongo.co.tz"},sc=r=>{const[t,n]=o.useState(),[a,s]=o.useState(!1),[i,l]=o.useState(!0),[p,d]=o.useState(!0),{push:b}=fn(),{data:P}=yr(),M=Bt(),k=async()=>{const{data:x}=await Y.custom({url:"",method:"get",meta:{operation:"virtual",variables:{id:{value:parseInt(M.id),type:"Int",required:!0}},fields:["id","name","description","startDate","duration","durationType","token",{darasa:["id","name","code","description"]},{author:["id","firstName","middleName","lastName","fullName","pic","email"]},"created","canEdit","canDelete","canManage","updated","isActive"]}}).catch(w=>(y.error("Error fetching virtual class"),{data:null})).then(w=>w);x&&n(x),l(!1)},R=e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx("a",{onClick:()=>b("/oclass"),children:"Home"})}),e.jsx(re.Item,{children:e.jsx("a",{onClick:()=>b("/oclass/public/virtual/classes"),children:"Virtual Sessions/Classes"})}),e.jsx(re.Item,{children:t==null?void 0:t.name})]});return o.useEffect(()=>{k()},[]),i?e.jsxs(e.Fragment,{children:[R,e.jsx(Z,{align:"middle",children:e.jsx(X,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(ce,{size:"large"})})})]}):a?e.jsxs(e.Fragment,{children:[R,e.jsx("div",{children:e.jsxs(Z,{align:"middle",children:[e.jsx(X,{span:8}),e.jsx(X,{span:8,children:e.jsx(Te,{title:t==null?void 0:t.name,bordered:!1,actions:[e.jsx(K,{onClick:()=>window.location.reload(),children:"Re-join"})],children:e.jsx("div",{dangerouslySetInnerHTML:{__html:(t==null?void 0:t.description)??""}})})})]})})]}):e.jsxs(e.Fragment,{children:[R,p&&e.jsxs(Z,{align:"middle",children:[e.jsx(X,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(Ie,{direction:"vertical",children:e.jsx(ce,{size:"large"})})}),e.jsx(X,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(Ie,{direction:"vertical",children:"Preparing Virtual Conference Connection"})})]}),t&&e.jsx(nc,{domain:ac.conference_url,roomName:t.id.toString()+t.token,configOverwrite:{speakerStats:{disabled:!0,disableSearch:!1,order:["role","name","hasLeft"]},breakoutRooms:{hideAddRoomButton:!0,hideAutoAssignButton:!0,hideJoinRoomButton:!0},disableInviteFunctions:!0,hideConferenceSubject:!0,disablePolls:!0,autoKnockLobby:!0,enableLobbyChat:!0,disableModeratorIndicator:!1,disableReactionsModeration:!1,openSharedDocumentOnJoin:!1,startWithAudioMuted:!0,startScreenSharing:!1,enableEmailInStats:!1,enableWelcomePage:!1,readOnlyName:!0,notifications:[],screenshotCapture:{enabled:!0,mode:"recording"},prejoinConfig:{enabled:!0,hideDisplayName:!0,hideExtraJoinButtons:["no-audio","by-phone"]},p2p:{enabled:!0},e2ee:{labels:{labelTooltip:"Tooltip",description:"Description",label:"E2EE",warning:"Warning"},externallyManagedKey:!1}},interfaceConfigOverwrite:{DISABLE_JOIN_LEAVE_NOTIFICATIONS:!1},userInfo:{displayName:P==null?void 0:P.fullName,email:P==null?void 0:P.email},onApiReady:x=>{d(!1),x.addListener("videoConferenceJoined",()=>{}),x.addListener("videoConferenceLeft",()=>{}),x.addListener("participantJoined",w=>{}),x.addListener("participantLeft",w=>{}),x.addListener("onMessageReceived",w=>{}),x.addListener("onMessageSent",w=>{}),x.addListener("onChatMessage",w=>{}),x.addListener("onChatMessageReceived",w=>{}),x.addListener("onChatMessageSent",w=>{})},onReadyToClose:()=>{s(!0)},getIFrameRef:x=>{x.style.height="88vh"}})]})},ic=()=>e.jsxs(xe,{children:[e.jsxs(re,{children:[e.jsx(re.Item,{children:e.jsx(Je,{to:"/oclass",children:"Home"})}),e.jsx(re.Item,{children:"Online Virtual Classes"})]}),e.jsx(xe,{sx:{mt:2},children:e.jsx(sc,{mode:"connected"})})]}),gc=r=>{const{page:t}=r;return t==="VirtualClassSessionPage"?e.jsx(ic,{}):t==="PublicVirtualClassesPage"?e.jsx(Jl,{}):t==="OclassOrdersPage"?e.jsx($l,{}):t==="MyClassesPage"?e.jsx(Yl,{}):t==="OclassMarketplacePage"?e.jsx(Wl,{}):t==="ConnectedClassesPage"?e.jsx(Ul,{}):t==="ClassSessionPage"?e.jsx(Vl,{}):t==="ClassesPage"?e.jsx(ts,{}):t==="ClassesConnectPage"?e.jsx(es,{}):t==="DarasaArchivesPage"?e.jsx(Xa,{}):e.jsx("div",{children:"Page not found ..."})};export{gc as DarasaPages};
