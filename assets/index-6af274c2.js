import{r as i,A as f,h as v,fN as B,fO as Z,fP as k,fQ as G,fR as Y,g as H,al as d,m as h,fS as X,t as W,a0 as Q,L as U,G as J,C as j,c as O,E as b,ap as x,fT as V}from"./index-2fc17c3b.js";import{I as N}from"./Image-e05734f9.js";import{g as F}from"./index-93153875.js";import{i as q}from"./fade-7be4fa1b.js";var K=function(o,t){return i.createElement(f,v({},o,{ref:t,icon:B}))};const ee=i.forwardRef(K);var te=function(o,t){return i.createElement(f,v({},o,{ref:t,icon:Z}))};const oe=i.forwardRef(te);var ne=function(o,t){return i.createElement(f,v({},o,{ref:t,icon:k}))};const y=i.forwardRef(ne);var re=function(o,t){return i.createElement(f,v({},o,{ref:t,icon:G}))};const ie=i.forwardRef(re);var ae=function(o,t){return i.createElement(f,v({},o,{ref:t,icon:Y}))};const se=i.forwardRef(ae),C=e=>({position:e||"absolute",inset:0}),le=e=>{const{iconCls:o,motionDurationSlow:t,paddingXXS:n,marginXXS:r,prefixCls:l,colorTextLightSolid:g}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:g,background:new d("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${l}-mask-info`]:Object.assign(Object.assign({},W),{padding:`0 ${n}px`,[o]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},ce=e=>{const{previewCls:o,modalMaskBg:t,paddingSM:n,marginXL:r,margin:l,paddingLG:g,previewOperationColorDisabled:c,previewOperationHoverColor:m,motionDurationSlow:w,iconCls:a,colorTextLightSolid:p}=e,s=new d(t).setAlpha(.1),u=s.clone().setAlpha(.2);return{[`${o}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${o}-progress`]:{marginBottom:l},[`${o}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:p,backgroundColor:s.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${w}`,"&:hover":{backgroundColor:u.toRgbString()},[`& > ${a}`]:{fontSize:e.previewOperationSize}},[`${o}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${g}px`,backgroundColor:s.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${w}`,userSelect:"none",[`&:not(${o}-operations-operation-disabled):hover > ${a}`]:{color:m},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${a}`]:{fontSize:e.previewOperationSize}}}}},ge=e=>{const{modalMaskBg:o,iconCls:t,previewOperationColorDisabled:n,previewCls:r,zIndexPopup:l,motionDurationSlow:g}=e,c=new d(o).setAlpha(.1),m=c.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:l+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${g}`,userSelect:"none","&:hover":{background:m.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:e.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:e.marginSM},[`${r}-switch-right`]:{insetInlineEnd:e.marginSM}}},pe=e=>{const{motionEaseOut:o,previewCls:t,motionDurationSlow:n,componentCls:r}=e;return[{[`${r}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},C()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${o} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},C()),{transition:`transform ${n} ${o} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${t}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.zIndexPopup+1},"&":[ce(e),ge(e)]}]},ue=e=>{const{componentCls:o}=e;return{[o]:{position:"relative",display:"inline-block",[`${o}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${o}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${o}-mask`]:Object.assign({},le(e)),[`${o}-mask:hover`]:{opacity:1},[`${o}-placeholder`]:Object.assign({},C())}}},me=e=>{const{previewCls:o}=e;return{[`${o}-root`]:X(e,"zoom"),"&":q(e,!0)}},E=H("Image",e=>{const o=`${e.componentCls}-preview`,t=h(e,{previewCls:o,modalMaskBg:new d("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[ue(t),pe(t),F(h(t,{componentCls:o})),me(t)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new d(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new d(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new d(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}));var de=globalThis&&globalThis.__rest||function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const $={rotateLeft:i.createElement(ee,null),rotateRight:i.createElement(oe,null),zoomIn:i.createElement(ie,null),zoomOut:i.createElement(se,null),close:i.createElement(Q,null),left:i.createElement(U,null),right:i.createElement(J,null),flipX:i.createElement(y,null),flipY:i.createElement(y,{rotate:90})},we=e=>{var{previewPrefixCls:o,preview:t}=e,n=de(e,["previewPrefixCls","preview"]);const{getPrefixCls:r}=i.useContext(j),l=r("image",o),g=`${l}-preview`,c=r(),[m,w]=E(l),a=i.useMemo(()=>{var p;if(t===!1)return t;const s=typeof t=="object"?t:{},u=O(w,(p=s.rootClassName)!==null&&p!==void 0?p:"");return Object.assign(Object.assign({},s),{transitionName:b(c,"zoom",s.transitionName),maskTransitionName:b(c,"fade",s.maskTransitionName),rootClassName:u})},[t]);return m(i.createElement(N.PreviewGroup,Object.assign({preview:a,previewPrefixCls:g,icons:$},n)))},fe=we;var M=globalThis&&globalThis.__rest||function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const A=e=>{const{prefixCls:o,preview:t,className:n,rootClassName:r,style:l}=e,g=M(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:m=x,getPopupContainer:w,image:a}=i.useContext(j),p=c("image",o),s=c(),u=m.Image||x.Image,[L,I]=E(p),P=O(r,I),z=O(n,I,a==null?void 0:a.className),R=i.useMemo(()=>{if(t===!1)return t;const S=typeof t=="object"?t:{},{getContainer:D}=S,_=M(S,["getContainer"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${p}-mask-info`},i.createElement(V,null),u==null?void 0:u.preview),icons:$},_),{getContainer:D||w,transitionName:b(s,"zoom",S.transitionName),maskTransitionName:b(s,"fade",S.maskTransitionName)})},[t,u]),T=Object.assign(Object.assign({},a==null?void 0:a.style),l);return L(i.createElement(N,Object.assign({prefixCls:p,preview:R,rootClassName:P,className:z,style:T},g)))};A.PreviewGroup=fe;const Ce=A;export{Ce as I};
