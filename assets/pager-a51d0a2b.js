import{r as n,bk as je,b6 as ne,bl as qe,bm as Ee,bn as Ne,bo as Le,bp as we,b5 as ze,q as X,F as o,bd as D,j as e,t as ke,u as U,Z as $e,G as b,T as O,a0 as ie,s as A,C as I,as as Y,B as T,H as j,b8 as Pe,I as N,D as W,S as Q,ao as be,y as V,ak as Oe,ad as Se,aE as De,v as _,bj as le,a3 as te,ay as re,a4 as K,bq as oe,a7 as se,O as fe,bh as ve,a9 as Ie,br as Be,aT as He}from"./index-70789454.js";import{B as J}from"./Breadcrumb-58b3bb92.js";import{t as ye}from"./text_truncate-315d9efa.js";import{C as ae}from"./Collapse-bf4ee438.js";import{T as ue}from"./Table-b2b477db.js";import"./index-f1c09e90.js";import"./index-a8735f59.js";var Ke=globalThis&&globalThis.__rest||function(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r};const Ye=t=>{var{prefixCls:s,className:r,color:a="blue",dot:i,pending:h=!1,position:l,label:u,children:S}=t,m=Ke(t,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:d}=n.useContext(je),c=d("timeline",s),C=ne(`${c}-item`,{[`${c}-item-pending`]:h},r),p=/blue|red|green|gray/.test(a||"")?void 0:a,v=ne(`${c}-item-head`,{[`${c}-item-head-custom`]:!!i,[`${c}-item-head-${a}`]:!p});return n.createElement("li",Object.assign({},m,{className:C}),u&&n.createElement("div",{className:`${c}-item-label`},u),n.createElement("div",{className:`${c}-item-tail`}),n.createElement("div",{className:v,style:{borderColor:p,color:p}},i),n.createElement("div",{className:`${c}-item-content`},S))},Ce=Ye;var ge=globalThis&&globalThis.__rest||function(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r};const _e=t=>{var{prefixCls:s,className:r,pending:a=!1,children:i,items:h,rootClassName:l,reverse:u=!1,direction:S,hashId:m,pendingDot:d,mode:c=""}=t,C=ge(t,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const p=(y,f)=>c==="alternate"?y==="right"?`${s}-item-right`:y==="left"?`${s}-item-left`:f%2===0?`${s}-item-left`:`${s}-item-right`:c==="left"?`${s}-item-left`:c==="right"?`${s}-item-right`:y==="right"?`${s}-item-right`:"",v=qe(h||[]),z=typeof a=="boolean"?null:a;a&&v.push({pending:!!a,dot:d||n.createElement(Ee,null),children:z}),u&&v.reverse();const L=v.length,F=`${s}-item-last`,$=v.filter(y=>!!y).map((y,f)=>{var w;const B=f===L-2?F:"",Z=f===L-1?F:"",{className:ee}=y,E=ge(y,["className"]);return n.createElement(Ce,Object.assign({},E,{className:ne([ee,!u&&a?B:Z,p((w=y==null?void 0:y.position)!==null&&w!==void 0?w:"",f)]),key:(y==null?void 0:y.key)||f}))}),q=v.some(y=>!!(y!=null&&y.label)),H=ne(s,{[`${s}-pending`]:!!a,[`${s}-reverse`]:!!u,[`${s}-${c}`]:!!c&&!q,[`${s}-label`]:q,[`${s}-rtl`]:S==="rtl"},r,l,m);return n.createElement("ul",Object.assign({},C,{className:H}),$)},We=_e;function Ve(t,s){return t&&Array.isArray(t)?t:Ne(s).map(r=>{var a,i;return Object.assign({children:(i=(a=r==null?void 0:r.props)===null||a===void 0?void 0:a.children)!==null&&i!==void 0?i:""},r.props)})}const Re=t=>{const{componentCls:s}=t;return{[s]:Object.assign(Object.assign({},ze(t)),{margin:0,padding:0,listStyle:"none",[`${s}-item`]:{position:"relative",margin:0,paddingBottom:t.itemPaddingBottom,fontSize:t.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:t.itemHeadSize,insetInlineStart:(t.itemHeadSize-t.tailWidth)/2,height:`calc(100% - ${t.itemHeadSize}px)`,borderInlineStart:`${t.tailWidth}px ${t.lineType} ${t.tailColor}`},"&-pending":{[`${s}-item-head`]:{fontSize:t.fontSizeSM,backgroundColor:"transparent"},[`${s}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:t.itemHeadSize,height:t.itemHeadSize,backgroundColor:t.dotBg,border:`${t.dotBorderWidth}px ${t.lineType} transparent`,borderRadius:"50%","&-blue":{color:t.colorPrimary,borderColor:t.colorPrimary},"&-red":{color:t.colorError,borderColor:t.colorError},"&-green":{color:t.colorSuccess,borderColor:t.colorSuccess},"&-gray":{color:t.colorTextDisabled,borderColor:t.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:t.itemHeadSize/2,insetInlineStart:t.itemHeadSize/2,width:"auto",height:"auto",marginBlockStart:0,paddingBlock:t.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:-(t.fontSize*t.lineHeight-t.fontSize)+t.lineWidth,marginInlineStart:t.margin+t.itemHeadSize,marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${s}-item-tail`]:{display:"none"},[`> ${s}-item-content`]:{minHeight:t.controlHeightLG*1.2}}},[`&${s}-alternate,
        &${s}-right,
        &${s}-label`]:{[`${s}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:`-${t.marginXXS}px`,"&-custom":{marginInlineStart:t.tailWidth/2}},"&-left":{[`${s}-item-content`]:{insetInlineStart:`calc(50% - ${t.marginXXS}px)`,width:`calc(50% - ${t.marginSM}px)`,textAlign:"start"}},"&-right":{[`${s}-item-content`]:{width:`calc(50% - ${t.marginSM}px)`,margin:0,textAlign:"end"}}}},[`&${s}-right`]:{[`${s}-item-right`]:{[`${s}-item-tail,
            ${s}-item-head,
            ${s}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(t.itemHeadSize+t.tailWidth)/2}px)`},[`${s}-item-content`]:{width:`calc(100% - ${t.itemHeadSize+t.marginXS}px)`}}},[`&${s}-pending
        ${s}-item-last
        ${s}-item-tail`]:{display:"block",height:`calc(100% - ${t.margin}px)`,borderInlineStart:`${t.tailWidth}px dotted ${t.tailColor}`},[`&${s}-reverse
        ${s}-item-last
        ${s}-item-tail`]:{display:"none"},[`&${s}-reverse ${s}-item-pending`]:{[`${s}-item-tail`]:{insetBlockStart:t.margin,display:"block",height:`calc(100% - ${t.margin}px)`,borderInlineStart:`${t.tailWidth}px dotted ${t.tailColor}`},[`${s}-item-content`]:{minHeight:t.controlHeightLG*1.2}},[`&${s}-label`]:{[`${s}-item-label`]:{position:"absolute",insetBlockStart:-(t.fontSize*t.lineHeight-t.fontSize)+t.tailWidth,width:`calc(50% - ${t.marginSM}px)`,textAlign:"end"},[`${s}-item-right`]:{[`${s}-item-label`]:{insetInlineStart:`calc(50% + ${t.marginSM}px)`,width:`calc(50% - ${t.marginSM}px)`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${s}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},Ue=Le("Timeline",t=>{const s=we(t,{itemHeadSize:10,customHeadPaddingVertical:t.paddingXXS,paddingInlineEnd:2});return[Re(s)]},t=>({tailColor:t.colorSplit,tailWidth:t.lineWidthBold,dotBorderWidth:t.wireframe?t.lineWidthBold:t.lineWidth*3,dotBg:t.colorBgContainer,itemPaddingBottom:t.padding*1.25}));var Xe=globalThis&&globalThis.__rest||function(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r};const Te=t=>{const{getPrefixCls:s,direction:r,timeline:a}=n.useContext(je),{prefixCls:i,children:h,items:l,className:u,style:S}=t,m=Xe(t,["prefixCls","children","items","className","style"]),d=s("timeline",i),[c,C]=Ue(d),p=Ve(l,h);return c(n.createElement(We,Object.assign({},m,{className:ne(a==null?void 0:a.className,u),style:Object.assign(Object.assign({},a==null?void 0:a.style),S),prefixCls:d,direction:r,items:p,hashId:C})))};Te.Item=Ce;const de=Te,Ge=t=>{n.useState();const[s,r]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0);n.useState(20),n.useState("");const[u,S]=n.useState(!1),[m,d]=n.useState(!0);X(),o.useForm(),n.useState(!1);const C=!D.useBreakpoint().lg,p=async(v,z="",L=20)=>{d(!0);const{data:F}=await b.custom({url:"",method:"get",meta:{operation:"syllabusSubjectTopics",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0},page:{value:v,type:"Int",required:!0},key:{value:z,type:"String",required:!1},pageSize:{value:L,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content",{subTopics:["id","content",{objectives:["id","content"]}]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(F.page),l(F.total),S(F.hasNext),r(F.results),d(!1)};return n.useEffect(()=>{p(1,"",20)},[t.syllabus,t.educationLevel,t.subject]),e.jsx(e.Fragment,{children:e.jsxs(ke,{spinning:m,children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsx("h3",{children:"No Topics Found"})}),s.length>0&&e.jsx(U,{style:{padding:0},children:e.jsx("ol",{children:s.map((v,z)=>e.jsxs("li",{children:[e.jsxs("span",{style:{fontWeight:"bolder",fontSize:18},children:[v.content,e.jsx("span",{style:{marginLeft:C?0:5},children:e.jsx("a",{children:e.jsx($e,{style:{color:"red"}})})})]}),e.jsx("ol",{children:v.subTopics.map(L=>e.jsxs("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:L.content}),e.jsx("ul",{children:L.objectives.map(F=>e.jsx("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:F.content}))})]}))})]}))})})]})})},he=["red","green","blue","yellow","orange"],Je=t=>{const[s,r]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[u,S]=n.useState(0);n.useState(20),n.useState("");const[m,d]=n.useState(!1),[c,C]=n.useState(!0);X(),o.useForm();const[p,v]=n.useState(!1),L=!D.useBreakpoint().lg,F=q=>{r(q),v(!0)},$=async(q,H="",y=100)=>{const{data:f}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},page:{value:q,type:"Int",required:!0},key:{value:H,type:"String",required:!1},pageSize:{value:y,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});l(f.page),S(f.total),d(f.hasNext),i(f.results),C(!1)};return n.useEffect(()=>{$(1,"",100)},[t.syllabus,t.educationLevel]),e.jsxs(e.Fragment,{children:[a.map(q=>e.jsx(e.Fragment,{children:e.jsx("a",{onClick:()=>F(q),children:e.jsx(O,{color:he[Math.floor(Math.random()*he.length)],style:{fontSize:16,padding:5,marginTop:10},children:q.name})})})),e.jsx(ie,{title:(s==null?void 0:s.name)+" Syllabus",anchor:"right",width:L?"100vw":"70vw",onClose:q=>v(q),open:p,children:e.jsx(Ge,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:s})})]})},Fe=t=>{n.useState();const[s,r]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0);n.useState(20),n.useState("");const[u,S]=n.useState(!1),[m,d]=n.useState(!0);X(),o.useForm(),n.useState(!1),D.useBreakpoint().lg;const C=async(p,v="",z=100)=>{const{data:L}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},page:{value:p,type:"Int",required:!0},key:{value:v,type:"String",required:!1},pageSize:{value:z,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(L.page),l(L.total),S(L.hasNext),r(L.results),d(!1)};return n.useEffect(()=>{C(1,"",20)},[t.syllabus]),e.jsx(e.Fragment,{children:e.jsx(A,{style:{marginTop:10},children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("p",{style:{fontSize:20,marginTop:10},children:"No Data Found"})}),s.length>0&&e.jsx(de,{mode:"left",children:s.map((p,v)=>e.jsxs(e.Fragment,{children:[e.jsx(de.Item,{color:"red",children:e.jsx("span",{style:{fontSize:20},children:p.name})}),e.jsx(de.Item,{color:"green",dot:!0,children:e.jsx(Je,{syllabus:t.syllabus,educationLevel:p})})]}))})]})})})},{Option:Qe}=Y,Ze=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),i=async()=>{const{data:l}=await b.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});r(l.results)},h=async l=>{const{data:u}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:l.title,type:"String",required:!0},description:{value:l.description,type:"String",required:!1},year:{value:parseInt(l.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(l.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(j.success(u.message),t.onFinish(u.syllabus)):j.error(u.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:a,onFinish:l=>{h(l)},requiredMark:!0,children:[e.jsx(o.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(Y,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(Qe,{value:l.id,children:l.name},l.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},et=()=>{const[t,s]=n.useState([]),[r,a]=n.useState(!0),[i,h]=n.useState(!1);Pe();const u=!D.useBreakpoint().lg,S=async(d,c="",C=20)=>{const{data:p}=await b.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:d,type:"Int",required:!0},key:{value:c,type:"String",required:!1},pageSize:{value:C,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});s(p.results),a(!1)},m=async()=>{j.success("Syllabus subscription successful"),h(!1)};return n.useEffect(()=>{S(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:3},children:[e.jsx(A,{style:{display:"flex",justifyContent:"center"},children:e.jsx(I,{span:u?24:8,children:e.jsx(N,{size:"large",onChange:d=>{j(d.target.value)},placeholder:"Search syllabus ..."})})}),t.map(d=>e.jsxs(A,{children:[e.jsx(I,{span:24,children:e.jsx(U,{children:e.jsxs("h1",{children:[d.title," ",e.jsx(O,{color:"red",style:{marginLeft:10},children:d.year})]})})}),e.jsx(I,{span:24,children:e.jsx(U,{children:e.jsx(Fe,{syllabus:d})})})]}))]}),e.jsx(W,{title:"Syllabus Subscription",width:u?"100vw":"40vw",open:i,onClose:d=>h(d),children:e.jsx(Ze,{onFinish:m})})]})},tt=()=>{const{push:t}=X();return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Syllabuses"})]})}),e.jsx(et,{})]})},st=()=>e.jsx(tt,{}),at=t=>{var H;const[s,r]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[u,S]=n.useState(0);n.useState(20),n.useState("");const[m,d]=n.useState(!1),[c,C]=n.useState(!0);X();const[p]=o.useForm(),[v,z]=n.useState(!1),F=!D.useBreakpoint().lg,$=y=>{r(y),z(!0)},q=async(y,f="",w=20)=>{const{data:B}=await b.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:y,type:"Int",required:!0},key:{value:f,type:"String",required:!1},pageSize:{value:w,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});l(B.page),S(B.total),d(B.hasNext),i(B.results),C(!1)};return n.useEffect(()=>{q(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:F?24:8,children:e.jsx(o,{layout:"vertical",form:p,onFinish:y=>{},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsxs(A,{children:[a.length===0&&e.jsx(e.Fragment,{children:e.jsx(be,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},severity:"warning",children:"No syllabuses found"})}),a.map(y=>e.jsx(I,{span:6,children:e.jsxs(U,{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(V,{title:y.title,color:"green",placement:"right",children:e.jsxs("span",{style:{fontSize:26,display:"block",marginBottom:10},children:[ye(y.title,30),e.jsx(O,{color:"red",children:y.year})]})}),y.syllabusType&&e.jsx(O,{color:"green",style:{fontSize:18,padding:10},children:e.jsx(V,{title:e.jsx(e.Fragment,{children:y.syllabusType.name}),color:"green",placement:"top",children:ye(y.syllabusType.name,30)})}),e.jsx(V,{title:"Click to View Syllabus",color:"green",placement:"top",children:e.jsx(T,{size:"large",style:{display:"block",marginTop:10},icon:e.jsx(Oe,{}),onClick:()=>$(y),children:"Open/View"})})]})}))]}),e.jsx(W,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s==null?void 0:s.title}),e.jsx(O,{color:"green",style:{marginLeft:5},children:(H=s==null?void 0:s.syllabusType)==null?void 0:H.name}),e.jsx(O,{color:"red",style:{marginLeft:5},children:s==null?void 0:s.year})]}),width:F?"100vw":"75vw",open:v,onClose:y=>z(y),children:e.jsx("div",{style:{maxHeight:"85vh",overflowY:"auto"},children:e.jsx(Fe,{syllabus:s})})})]})},nt=()=>{const{push:t}=X();return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Syllabuses"})]})}),e.jsx(at,{})]})},it=()=>e.jsx(nt,{}),{Option:lt}=Y,rt=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),i=async()=>{const{data:l}=await b.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});r(l.results)},h=async l=>{const{data:u}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:l.title,type:"String",required:!0},description:{value:l.description,type:"String",required:!1},year:{value:parseInt(l.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(l.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(j.success(u.message),t.onFinish(u.syllabus)):j.error(u.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:a,onFinish:l=>{h(l)},requiredMark:!0,children:[e.jsx(o.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(N,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(o.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(Se,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(o.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(Y,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(lt,{value:l.id,children:l.name},l.id))})}),e.jsx(o.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(De,{onChange:l=>{a.setFieldsValue({description:l})}})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:ct}=Y,{TextArea:dt}=N,ot=t=>{var l,u,S,m,d;const[s,r]=n.useState([]),[a]=o.useForm(),i=async()=>{const{data:c}=await b.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});r(c.results)},h=async c=>{var p;const{data:C}=await b.custom({url:"",method:"post",meta:{operation:"updateSyllabus",variables:{id:{value:(p=t.syllabus)==null?void 0:p.id,type:"Int",required:!0},title:{value:c.title,type:"String",required:!0},description:{value:c.description,type:"String",required:!1},year:{value:parseInt(c.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(c.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year",{syllabusType:["id","name"]},"isActive","created","updated","canDelete","canEdit","canManage"]}]}});C.success?(j.success(C.message),t.onFinish(C.syllabus)):j.error(C.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:a,onFinish:c=>{h(c)},requiredMark:!0,initialValues:{title:(l=t.syllabus)==null?void 0:l.title,description:(u=t.syllabus)==null?void 0:u.description,year:(S=t.syllabus)==null?void 0:S.year,syllabusTypeId:(d=(m=t.syllabus)==null?void 0:m.syllabusType)==null?void 0:d.id},children:[e.jsx(o.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(N,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(o.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(Se,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(o.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(Y,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(c=>e.jsx(ct,{value:c.id,children:c.name},c.id))})}),e.jsx(o.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(dt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:xe}=Y,ut=t=>{const[s,r]=n.useState([]),[a,i]=n.useState([]),[h]=o.useForm(),l=async m=>{const{data:d}=await b.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m.educationLevelId,type:"Int",required:!0},subjectIds:{value:m.subjectIds,type:"[Int]",required:!0}},fields:["success","message"]}});d.success?(j.success(d.message),h.resetFields(),t.onFinish()):j.error(d.message)},u=async()=>{const{data:m}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(m.results)},S=async m=>{const{data:d}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(d.results)};return n.useEffect(()=>{u()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:h,onFinish:m=>{m.syllabusId=parseInt(t.syllabus.id.toString()),l(m)},requiredMark:!0,children:[e.jsx(o.Item,{name:"educationLevelId",label:"Education Level",rules:[{required:!0,type:"integer"}],children:e.jsx(Y,{size:"large",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:m=>{a.length=0,i([]),h.resetFields(["subject"]),S(parseInt(m.toString()))},dropdownStyle:{zIndex:9999},children:s.map(m=>e.jsx(xe,{value:parseInt(m.id.toString()),children:m.name},"educationLevel"+m.id))})}),e.jsx(o.Item,{name:"subjectIds",label:"Applicable Subject(s)",rules:[{required:!0,type:"array"}],children:e.jsx(Y,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(m=>e.jsx(xe,{value:parseInt(m.id.toString()),children:m.name},"subject"+m.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{style:{color:"red"},size:"large",htmlType:"submit",icon:e.jsx(_,{}),children:"Add"})})]})})},mt=t=>{const[s,r]=n.useState([]);o.useForm();const[a]=o.useForm(),i=async l=>{const{data:u}=await b.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectIds:{value:l,type:"[Int]",required:!0}},fields:["success","message"]}});u.success?(j.success(u.message),r(s.filter(S=>!l.includes(parseInt(S.id.toString())))),t.onFinish()):j.error(u.message)},h=async(l="")=>{const{data:u}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{key:{value:l,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(u.results)};return n.useEffect(()=>{h()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(o,{layout:"vertical",form:a,onFinish:l=>{h(l.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(le,{description:"No Subject Found ...",style:{width:"100%"}}),s.map(l=>e.jsx(U,{children:e.jsx(A,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:l.name}),e.jsx("span",{children:e.jsx(T,{icon:e.jsx(_,{}),onClick:()=>i([parseInt(l.id.toString())])})})]})})}))]})})})]})},{TextArea:pt}=N,yt=t=>{const[s]=o.useForm(),r=async a=>{const{data:i}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusTopic",variables:{syllabusId:{value:parseInt(a.syllabusId.toString()),type:"Int",required:!0},subjectId:{value:parseInt(a.subjectId.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(a.educationLevelId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{topic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(j.success(i.message),t.onFinish(i.topic),s.resetFields()):j.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),r(a)},requiredMark:!0,children:[e.jsx(o.Item,{name:"index",label:"Topic Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Topic Index"}],children:e.jsx(N,{size:"large",placeholder:"Topic Index",autoComplete:"off",allowClear:!0})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(pt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:gt}=N,ht=t=>{const[s]=o.useForm(),r=async a=>{const{data:i}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusSubtopic",variables:{topicId:{value:parseInt(a.topicId.toString()),type:"Int",required:!0},content:{value:a.content.trim(),type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{subTopic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(j.success(i.message),t.onFinish(i.subTopic),s.resetFields()):j.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),a.topicId=parseInt(t.topic.id.toString()),r(a)},requiredMark:!0,children:[e.jsx(o.Item,{name:"index",label:"Subtopic Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Subtopic Index"}],children:e.jsx(N,{size:"large",placeholder:"Subtopic Index"})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(gt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:xt}=N,jt=t=>{const[s]=o.useForm(),r=async a=>{const{data:i}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusObjective",variables:{subTopicId:{value:parseInt(a.subtopicId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{objective:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(j.success(i.message),t.onFinish(i.objective),s.resetFields()):j.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),a.topicId=parseInt(t.topic.id.toString()),a.subtopicId=parseInt(t.subtopic.id.toString()),r(a)},requiredMark:!0,children:[e.jsx(o.Item,{name:"index",label:"Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Index"}],children:e.jsx(N,{size:"large",placeholder:"Enter Index"})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(xt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:bt}=N,St=t=>{const[s]=o.useForm(),r=async a=>{const{data:i}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusStrategy",variables:{objectiveId:{value:parseInt(a.objectiveId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{strategy:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(j.success(i.message),t.onFinish(i.strategy),s.resetFields()):j.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:s,onFinish:a=>{a.objectiveId=parseInt(t.objective.id.toString()),r(a)},requiredMark:!0,children:[e.jsx(o.Item,{name:"index",label:"Strategy Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Index"}],children:e.jsx(N,{size:"large",placeholder:"Strategy Index"})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Content"}],children:e.jsx(bt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},ft=t=>{const[s,r]=n.useState([]),[a,i]=n.useState(!1),l=!D.useBreakpoint().lg,u=async d=>{const{data:c}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusStrategy",variables:{id:{value:d,type:"Int",required:!1}},fields:["success","message"]}});c.success?(j.success(c.message),S()):j.error(c.message)},S=async(d="")=>{const{data:c}=await b.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{key:{value:d,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(c.results)},m=async d=>{r([d,...s])};return n.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Strategies",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add New Strategy",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(_,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("p",{style:{textAlign:"center",color:"gray"},children:"No Strategies Found"}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsx(te.Item,{actions:[e.jsx(T,{icon:e.jsx(re,{})}),e.jsx(K,{title:"Delete the strategy?",placement:"left",onConfirm:()=>u(d.id),okText:"Yes",cancelText:"No",disabled:!d.canDelete,overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(oe,{}),disabled:!d.canDelete,danger:!0})})],children:d.content})})]}),e.jsx(W,{title:"Create Strategy",width:l?"100vw":"30vw",open:a,onClose:d=>i(d),children:e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{fontSize:18},children:[e.jsx("span",{style:{fontWeight:"bolder"},children:"For Objective:"})," ",t.objective.content]}),e.jsx(St,{objective:t.objective,onFinish:m})]})})]})},{TextArea:vt}=N,{Option:It}=Y,Ct=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),i=async()=>{const{data:l}=await b.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(l.results)},h=async l=>{const{data:u}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusAssessment",variables:{objectiveId:{value:parseInt(l.objectiveId.toString()),type:"Int",required:!0},materialId:{value:l.materialId,type:"Int",required:!1},content:{value:l.content,type:"String",required:!0}},fields:["success","message",{assessment:["id","content",{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(j.success(u.message),t.onFinish(u.assessment),a.resetFields()):j.error(u.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:a,onFinish:l=>{l.objectiveId=parseInt(t.objective.id.toString()),h(l)},requiredMark:!0,children:[e.jsx(o.Item,{name:"materialId",label:"Material",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Material ..."}],children:e.jsx(Y,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(It,{value:parseInt(l.id.toString()),children:l.content},"material"+l.id))})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Assessment Content"}],children:e.jsx(vt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Tt=t=>{const[s,r]=n.useState([]),[a,i]=n.useState(!1),l=!D.useBreakpoint().lg,u=async d=>{r([d,...s])},S=async()=>{const{data:d}=await b.custom({url:"",method:"get",meta:{operation:"objectiveAssessments",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content",{objective:["id","content"]},{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(d.results)},m=async d=>{const{data:c}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusAssessment",variables:{id:{value:parseInt(d.toString()),type:"Int",required:!0}},fields:["success","message"]}});c.success?(j.success(c.message),S()):j.error(c.message)};return n.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Assessment",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add new Assessment",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(_,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Assessment"})}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsxs(te.Item,{actions:[e.jsx(T,{icon:e.jsx(re,{})}),e.jsx(K,{title:"Are you sure delete this Assessment?",placement:"top",onConfirm:()=>m(d.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(oe,{}),danger:!0})})],children:[d.content,d.material&&e.jsx(V,{title:"Material Content Related",color:"green",placement:"top",children:e.jsx(O,{color:"green",style:{marginLeft:10},children:d.material.content})})]})})]}),e.jsx(W,{title:"Create Assessment",width:l?"100vw":"40vw",open:a,onClose:d=>i(d),children:e.jsx(Ct,{objective:t.objective,onFinish:u})})]})},{TextArea:Ft}=N,{Option:Mt}=Y,At=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),i=async()=>{const{data:l}=await b.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(l.results)},h=async l=>{const{data:u}=await b.custom({url:"",method:"post",meta:{operation:"createSyllabusMaterial",variables:{objectiveId:{value:parseInt(l.objectiveId.toString()),type:"Int",required:!0},strategyId:{value:l.strategyId,type:"Int",required:!1},content:{value:l.content,type:"String",required:!0},index:{value:l.index,type:"String",required:!0}},fields:["success","message",{material:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(j.success(u.message),t.onFinish(u.material),a.resetFields()):j.error(u.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(o,{layout:"vertical",form:a,onFinish:l=>{l.objectiveId=parseInt(t.objective.id.toString()),h(l)},requiredMark:!0,children:[e.jsx(o.Item,{name:"index",label:"Material Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please Enter Material Index"}],children:e.jsx(N,{size:"large",placeholder:"Enter Matrial Index"})}),e.jsx(o.Item,{name:"strategyId",label:"Strategy",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Stragegy"}],help:"If you want to add a strategy to this material, please choose one. Leave it blank if you don't want to add a strategy",children:e.jsx(Y,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},allowClear:!0,children:s.map(l=>e.jsx(Mt,{value:parseInt(l.id.toString()),children:l.content},"strategory"+l.id))})}),e.jsx(o.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Material Content"}],children:e.jsx(Ft,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},qt=t=>{const[s,r]=n.useState([]),[a,i]=n.useState(!1),l=!D.useBreakpoint().lg,u=async(d="")=>{const{data:c}=await b.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{key:{value:d,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["page","total","hasNext","hasPrev",{results:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(c.results)},S=async d=>{const{data:c}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusMaterial",variables:{id:{value:parseInt(d.toString()),type:"Int",required:!0}},fields:["success","message"]}});c.success?(j.success(c.message),u()):j.error(c.message)},m=async d=>{r([d,...s])};return n.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Materials",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add new Material",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(_,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Materials"})}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsxs(te.Item,{actions:[e.jsx(T,{icon:e.jsx(re,{})}),e.jsx(K,{title:"Are you sure delete this Material?",onConfirm:()=>S(d.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(oe,{}),danger:!0})})],children:[d.content,d.strategy&&e.jsx(V,{title:"Related Strategy",color:"green",placement:"top",children:e.jsx(O,{color:"green",style:{marginLeft:10},children:d.strategy.content})})]})})]}),e.jsx(W,{title:"Creating Material",width:l?"100vw":"40vw",open:a,onClose:d=>i(d),children:e.jsxs(e.Fragment,{children:[e.jsxs(be,{severity:"info",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Tip:"})," Material will be used in the Objective below"]}),e.jsxs("p",{children:[e.jsx("b",{children:e.jsx("i",{children:t.objective.content})}),"."]})]}),e.jsx(At,{objective:t.objective,onFinish:m})]})})]})},{Panel:Et}=ae,Nt=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),[i,h]=n.useState(!1),u=!D.useBreakpoint().lg,S=async p=>{r([...s,p])},m=async(p="")=>{const{data:v}=await b.custom({url:"",method:"get",meta:{operation:"syllabusSubtopicObjectives",variables:{key:{value:p,type:"String",required:!1},subtopicId:{value:parseInt(t.subtopic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(v.results)},d=async p=>{const{data:v}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusObjective",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}});v.success?(j.success(v.message),m()):j.error(v.message)},c=()=>e.jsx(o,{layout:"vertical",form:a,onFinish:p=>{m(p.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})}),C=()=>e.jsx(T,{icon:e.jsx(_,{}),size:"large",onClick:()=>h(!0),children:"Add New Objective"});return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Objectives"}),e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:C()}),e.jsx(I,{span:24,children:c()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:16,children:c()}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:C()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(le,{description:"No Subtopic Objective Found ...",style:{width:"100%"}}),e.jsx(ae,{children:s.map(p=>e.jsxs(Et,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsx("span",{children:p.content})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(K,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>d(p.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{danger:!0,icon:e.jsx(se,{})})})})}),children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(ft,{objective:p})})}),e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(qt,{objective:p})})}),e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(Tt,{objective:p})})})]},"objective-"+p.id))})]})})}),e.jsx(W,{title:"Adding Subtopic Objective",width:u?"100vw":"40vw",open:i,onClose:p=>h(p),children:e.jsx(jt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:t.subtopic,onFinish:S})})]})},{Panel:Lt}=ae,wt=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),[i,h]=n.useState(!1),u=!D.useBreakpoint().lg,S=async p=>{r([...s,p])},m=async(p="")=>{const{data:v}=await b.custom({url:"",method:"get",meta:{operation:"syllabusSubtopics",variables:{key:{value:p,type:"String",required:!1},topicId:{value:parseInt(t.topic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(v.results)},d=async p=>{const{data:v}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusSubtopic",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}});v.success?(j.success(v.message),m()):j.error(v.message)},c=()=>e.jsx(o,{layout:"vertical",form:a,onFinish:p=>{m(p.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})}),C=()=>e.jsx(T,{icon:e.jsx(_,{}),size:"large",onClick:()=>h(!0),children:"Add New Sub-Topic"});return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Subtopics"}),e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:C()}),e.jsx(I,{span:24,children:c()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:16,children:c()}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:C()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(le,{description:"No  Subtopic Found ...",style:{width:"100%"}}),e.jsx(ae,{onChange:()=>{},children:s.map(p=>e.jsx(Lt,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(O,{children:p.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:p.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(K,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>d(p.id),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{danger:!0,icon:e.jsx(se,{})})})})}),children:e.jsx(Nt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:p})},"subtopic-"+p.id))})]})})}),e.jsx(W,{title:"Adding Sub Topics",width:u?"100vw":"40vw",open:i,onClose:p=>h(p),children:e.jsx(ht,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,onFinish:S})})]})},{Panel:zt}=ae,kt=t=>{const[s,r]=n.useState([]),[a]=o.useForm(),[i,h]=n.useState(!1),u=!D.useBreakpoint().lg,S=async c=>{r([...s,c])},m=async(c="")=>{const{data:C}=await b.custom({url:"",method:"get",meta:{operation:"syllabusTopicsNarrow",variables:{key:{value:c,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(C.results)},d=async c=>{const{data:C}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusTopic",variables:{id:{value:c,type:"Int",required:!0}},fields:["success","message"]}});C.success?(j.success(C.message),r(s.filter(p=>p.id!==c))):j.error(C.message)};return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[e.jsx(I,{span:16,children:e.jsx(o,{layout:"vertical",form:a,onFinish:c=>{m(c.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{icon:e.jsx(_,{}),size:"large",onClick:()=>h(!0),children:"Add New Topic"})})]})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(le,{description:"No Subject Topics Found ...",style:{width:"100%"}}),e.jsx(ae,{children:s.map(c=>e.jsx(zt,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(O,{children:c.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:c.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(K,{title:"Delete the Topic",placement:"left",okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},disabled:!c.canDelete,onConfirm:()=>d(c.id),children:e.jsx(T,{danger:!0,icon:e.jsx(se,{}),disabled:!c.canDelete})})})}),children:e.jsx(wt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:c})},c.id))})]})})}),e.jsx(W,{title:"Adding Topics",width:u?"100vw":"40vw",open:i,onClose:c=>h(c),children:e.jsx(yt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,onFinish:S})})]})},$t=t=>{const[s,r]=n.useState([]),[a,i]=n.useState();o.useForm();const[h]=o.useForm(),[l,u]=n.useState(!1),[S,m]=n.useState(!1),c=!D.useBreakpoint().lg,C=async F=>{i(F),m(!0)},p=async F=>{const{data:$}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabusEducationLevelSubject",variables:{subjectId:{value:parseInt(F.toString()),type:"Int",required:!0},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["success","message"]}});$.success?(j.success($.message),v()):j.error($.message)},v=async(F="")=>{const{data:$}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{key:{value:F,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r($.results)},z=()=>e.jsx(V,{title:"Add Subjects to "+t.educationLevel.name,placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(_,{}),size:"small",onClick:()=>u(!0),children:"Subject(s)"})}),L=()=>e.jsxs("h3",{children:[t.educationLevel.name," Subjects"]});return n.useEffect(()=>{v()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(A,{children:[c&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"end"},children:z()}),e.jsx(I,{span:24,children:L()})]}),!c&&e.jsx(e.Fragment,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[L(),z()]})})]})}),e.jsx("div",{children:e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:c?24:12,children:e.jsx(o,{layout:"vertical",form:h,onFinish:F=>{v(F.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsxs("div",{style:{maxHeight:"55vh",minHeight:"55vh",overflowY:"auto"},children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("h3",{children:"No Subjects Found"})}),s.map(F=>e.jsx(U,{children:e.jsx(A,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx("a",{onClick:()=>C(F),children:F.name})}),e.jsxs("span",{children:[e.jsx(V,{title:"Manage Subject Syllabus",placement:"top",color:"green",children:e.jsx(T,{style:{margin:3},icon:e.jsx(fe,{}),size:"small",type:"primary",onClick:()=>C(F)})}),e.jsx(K,{title:"Are you sure delete/remove this Subject?",onConfirm:()=>p(F.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(se,{}),size:"small",type:"primary",danger:!0})})]})]})})}))]}),e.jsx(ie,{title:"Adding Subjects",width:c?"100vw":"30vw",anchor:"right",onClose:F=>u(F),open:l,children:e.jsx(mt,{educationLevel:t.educationLevel,syllabus:t.syllabus,onFinish:v})}),e.jsx(ie,{title:(a==null?void 0:a.name)+" Topics ",width:c?"100vw":"70vw",anchor:"right",onClose:F=>m(F),open:S,children:e.jsx(kt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:a})})]})},{TabPane:Pt}=ve,Ot=t=>{const[s,r]=n.useState([]),[a,i]=n.useState(!1),l=!D.useBreakpoint().lg,u=async()=>{const{data:m}=await b.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(m.results)},S=async()=>{u()};return n.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(V,{title:"Add New Education Level",placement:"top",color:"green",children:e.jsx(T,{size:"large",icon:e.jsx(_,{}),onClick:()=>i(!0),children:"Add Education Level"})}),e.jsxs(U,{style:{marginTop:3},children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Education Levels Added"})}),s.length>0&&e.jsx(ve,{defaultActiveKey:"1",tabPosition:"left",children:s.map(m=>e.jsx(Pt,{tab:m.name,children:e.jsx($t,{educationLevel:m,syllabus:t.syllabus,randKey:Math.random()})},m.id))})]}),e.jsx(W,{title:"Adding Education Levels",open:a,width:l?"100vw":"40vw",onClose:m=>i(m),children:e.jsx(ut,{randKey:Math.random(),syllabus:t.syllabus,onFinish:S})})]})},Dt=t=>{const[s,r]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[u,S]=n.useState(0),[m,d]=n.useState(20),[c,C]=n.useState(""),[p,v]=n.useState(!1),[z,L]=n.useState(!0);X();const[F]=o.useForm();o.useForm();const q=!D.useBreakpoint().lg,[H,y]=n.useState(!1),[f,w]=n.useState(!1),[B,Z]=n.useState(!1),ee=M=>{r(M),Z(!0)},E=M=>{r(M),y(!0)},x=async M=>{const{data:g}=await b.custom({url:"",method:"post",meta:{operation:"deleteSyllabus",variables:{id:{value:M,type:"Int",required:!0}},fields:["success","message"]}});g.success?(j.success(g.message),i(a.filter(k=>k.id!==M))):j.error(g.message)},P=async(M,g)=>{const{data:k}=await b.custom({url:"",method:"post",meta:{operation:"publishUnpublishSyllabus",variables:{syllabusId:{value:M,type:"Int",required:!0},publish:{value:g,type:"Boolean",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","created","updated","isActive","isPublished","canDelete","canEdit","canManage"]}]}});k.success?(j.success(k.message),i(a.map(R=>R.id===k.syllabus.id?k.syllabus:R))):j.error(k.message)},G=[{title:"Title",dataIndex:"title",fixed:!0,render:(M,g,k)=>e.jsx("span",{children:e.jsx("a",{children:g.title})})},{title:"Syllabus Type",dataIndex:"syllabusType",render:(M,g,k)=>{var R;return e.jsx("span",{children:e.jsx("a",{children:(R=g==null?void 0:g.syllabusType)==null?void 0:R.name})})}},{title:"Year",dataIndex:"year",render:(M,g,k)=>e.jsx("span",{children:g.year})},{title:"Published",dataIndex:"isPublished",render:(M,g,k)=>e.jsx(e.Fragment,{children:g!=null&&g.isPublished?e.jsx(e.Fragment,{children:e.jsx(K,{title:"Unpublish this syllabus?",onConfirm:()=>P(g.id,!1),okText:"Unpublish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(O,{color:"green",children:"Published"})})})}):e.jsx(K,{title:"Publish this syllabus?",onConfirm:()=>P(g.id,!0),okText:"Publish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(O,{color:"red",children:"Not Published"})})})})},{title:"Description",dataIndex:"description",render:(M,g,k)=>e.jsx("span",{children:g.description})},{title:"Created",dataIndex:"created",render:(M,g,k)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Ie,{date:new Date(g.created)})})})},{title:"Status",dataIndex:"isActive",render:(M,g,k)=>e.jsx("a",{children:g!=null&&g.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(M,g,k)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(V,{title:"Manage Syllabus Education Levels Subjects",placement:"top",color:"green",children:e.jsx(T,{disabled:!(g!=null&&g.canManage),onClick:()=>ee(g),icon:e.jsx(fe,{})})}),e.jsx(K,{title:"Are you sure to delete this Syllabus?",onConfirm:()=>x(g==null?void 0:g.id),okText:"Yes",cancelText:"No",disabled:!(g!=null&&g.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(se,{}),disabled:!(g!=null&&g.canDelete)})}),e.jsx(T,{disabled:!(g!=null&&g.canEdit),onClick:()=>E(g),icon:e.jsx(re,{})})]})}],Me=async M=>{i([M,...a]),w(!1)},Ae=async M=>{i(a.map(g=>g.id===M.id?M:g)),y(!1)},ce=async(M,g="",k=20)=>{const{data:R}=await b.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:M,type:"Int",required:!0},key:{value:g,type:"String",required:!1},pageSize:{value:k,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});l(R.page),S(R.total),v(R.hasNext),i(R.results),L(!1)},me=()=>e.jsx(T,{size:"large",icon:e.jsx(_,{}),onClick:()=>w(!0),children:"Create/Add"}),pe=()=>e.jsx(o,{layout:"vertical",form:F,onFinish:M=>{l(1),a.length=0,ce(1,M.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})});return n.useEffect(()=>{ce(h,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(A,{style:{marginTop:10},children:[q&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:me()}),e.jsx(I,{span:24,children:pe()})]}),!q&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:12,children:pe()}),e.jsx(I,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:me()})]})]}),e.jsx("div",{children:e.jsx(ue,{loading:z,columns:G,dataSource:a,scroll:{x:!0},pagination:{onChange:(M,g)=>{d(g),ce(M,c,g)},total:u,pageSize:m,position:["bottomCenter"],showQuickJumper:!0}})}),e.jsx(W,{title:"Creating/Adding Syllabus",width:q?"100vw":"40vw",open:f,onClose:M=>w(M),children:e.jsx(rt,{onFinish:Me,randKey:Math.random()})}),e.jsx(W,{title:"Edit Syllabus",width:q?"100vw":"40vw",open:H,onClose:M=>y(M),children:e.jsx(ot,{onFinish:Ae,randKey:Math.random(),syllabus:s})}),e.jsx(W,{title:"Syllabus Education Levels Subjects",width:q?"100vw":"80vw",open:B,onClose:M=>Z(M),children:e.jsx(Ot,{syllabus:s,randKey:Math.random()})})]})},Bt=()=>{const{push:t}=X();return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Manage Syllabuses"})]})}),e.jsx(Dt,{})]})},Ht=()=>e.jsx(Bt,{}),Kt=t=>{const[s,r]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0),[u,S]=n.useState(20),[m,d]=n.useState(""),[c,C]=n.useState(!1),[p,v]=n.useState(!0);X();const[z]=o.useForm(),F=!D.useBreakpoint().lg,$=async y=>{const{data:f}=await b.custom({url:"",method:"post",meta:{operation:"addSyllabusManager",variables:{userId:{value:y,type:"Int",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});f.success?(j.success(f.message),r(s.filter(w=>parseInt(w.id.toString())!==parseInt(y.toString()))),t.onAdd(f.syllabusManager)):j.error(f.message)},q=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(y,f,w)=>e.jsx("span",{children:e.jsx("a",{children:f.fullName})})},{title:"Email",dataIndex:"email",render:(y,f,w)=>e.jsxs("span",{children:[f.email&&e.jsx(O,{color:"green",children:f.email}),f.phone&&e.jsx(O,{color:"green",children:f.phone})]})},{title:"",dataIndex:"action",render:(y,f,w)=>e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(K,{title:"Are you sure to Add this Syllabus Manager?",placement:"left",onConfirm:()=>$(parseInt(f==null?void 0:f.id)),okText:"Yes",cancelText:"No",disabled:!(f!=null&&f.canManage),overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(_,{}),disabled:!(f!=null&&f.canManage),danger:!0})})})}],H=async(y,f="",w=20)=>{const{data:B}=await b.custom({url:"",method:"get",meta:{operation:"syllabusManagersToAdd",variables:{page:{value:y,type:"Int",required:!0},key:{value:f,type:"String",required:!1},pageSize:{value:w,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}});i(B.page),l(B.total),C(B.hasNext),r(B.results),v(!1)};return n.useEffect(()=>{H(a)},[]),e.jsxs(e.Fragment,{children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:F?24:18,children:e.jsx(o,{layout:"vertical",form:z,onFinish:y=>{i(1),s.length=0,H(1,y.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(ue,{loading:p,columns:q,dataSource:s,scroll:{x:!0},pagination:{onChange:(y,f)=>{S(f),H(y,m,f)},total:h,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}})]})},Yt=t=>{n.useState();const[s,r]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0),[u,S]=n.useState(20),[m,d]=n.useState(""),[c,C]=n.useState(!1),[p,v]=n.useState(!0);X();const[z]=o.useForm(),F=!D.useBreakpoint().lg,[$,q]=n.useState(!1),H=async E=>{const{data:x}=await b.custom({url:"",method:"post",meta:{operation:"removeSyllabusManager",variables:{id:{value:E,type:"Int",required:!0}},fields:["success","message"]}});x.success?(j.success(x.message),r(s.filter(P=>P.id!==E))):j.error(x.message)},y=async(E,x)=>{const{data:P}=await b.custom({url:"",method:"post",meta:{operation:"blockUnblockSyllabusManager",variables:{id:{value:E,type:"Int",required:!0},block:{value:x,type:"Boolean",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});P.success?(j.success(P.message),r(s.map(G=>G.id===E?P.syllabusManager:G))):j.error(P.message)},f=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(E,x,P)=>e.jsx("span",{children:e.jsx("a",{children:x.user.fullName})})},{title:"Email",dataIndex:"email",render:(E,x,P)=>e.jsxs("span",{children:[x.user.email&&e.jsx(O,{color:"green",children:x.user.email}),x.user.phone&&e.jsx(O,{color:"green",children:x.user.phone})]})},{title:"Date Created",dataIndex:"created",render:(E,x,P)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Ie,{date:new Date(x.created)})})})},{title:"Status",dataIndex:"isActive",render:(E,x,P)=>e.jsx("a",{children:x!=null&&x.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(E,x,P)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(K,{title:"Are you sure to delete this Syllabus Manager?",placement:"left",onConfirm:()=>H(parseInt(x==null?void 0:x.id)),onCancel:()=>{},okText:"Yes",cancelText:"No",disabled:!(x!=null&&x.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(T,{style:{marginRight:10},icon:e.jsx(se,{}),disabled:!(x!=null&&x.canDelete),danger:!0})}),x.isActive?e.jsx(K,{title:"Blocking Manager???",placement:"left",onConfirm:()=>y(parseInt(x==null?void 0:x.id),!1),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(Be,{}),disabled:!(x!=null&&x.canManage),danger:!0})}):e.jsx(K,{title:"Blocking Manager???",placement:"left",onConfirm:()=>y(parseInt(x==null?void 0:x.id),!0),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(He,{}),disabled:!(x!=null&&x.canEdit),danger:!0})})]})}],w=async(E,x="",P=20)=>{const{data:G}=await b.custom({url:"",method:"get",meta:{operation:"syllabusManagers",variables:{page:{value:E,type:"Int",required:!0},key:{value:x,type:"String",required:!1},pageSize:{value:P,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});i(G.page),l(G.total),C(G.hasNext),r(G.results),v(!1)},B=async E=>{r([E,...s])},Z=()=>e.jsx(e.Fragment,{children:e.jsx(o,{layout:"vertical",form:z,onFinish:E=>{i(1),s.length=0,w(1,E.key)},children:e.jsx(o.Item,{name:"key",children:e.jsx(N,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})}),ee=()=>e.jsx(T,{size:"large",icon:e.jsx(_,{}),onClick:()=>q(!0),danger:!0,children:"Add Manager"});return n.useEffect(()=>{w(a)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(A,{style:{marginTop:10},children:[F&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"end"},children:ee()}),e.jsx(I,{span:24,children:Z()})]}),!F&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:10,children:Z()}),e.jsx(I,{span:14,style:{display:"flex",justifyContent:"end"},children:ee()})]})]}),e.jsx(ue,{loading:p,columns:f,dataSource:s,scroll:{x:!0},pagination:{onChange:(E,x)=>{S(x),w(E,m,x)},total:h,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}}),e.jsx(ie,{title:"Adding Syllabus Manager",width:F?"100vw":"35vw",anchor:"right",onClose:E=>q(E),open:$,children:e.jsx(Kt,{onAdd:B})})]})},_t=()=>e.jsx("div",{style:{marginTop:10},children:e.jsx(Yt,{})}),Wt=()=>e.jsx(_t,{}),Zt=t=>{const{page:s}=t;return s==="SyllabusesManagersPage"?e.jsx(Wt,{}):s==="SyllabusesManagementPage"?e.jsx(Ht,{}):s==="SyllabusesPage"?e.jsx(it,{}):s==="SyllabusHomePage"?e.jsx(st,{}):e.jsx("div",{children:"Page not found ..."})};export{Zt as SyllabusPages};
