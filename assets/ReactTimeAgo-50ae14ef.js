import{eR as he,eS as ge,eT as Le,r as l,O,ap as i}from"./index-8383052a.js";import{m as Pe}from"./memoize-one.esm-297ddbcb.js";function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function Me(e){if(Te())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}function Te(){var e=(typeof Intl>"u"?"undefined":W(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function P(e){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t,r){return t&&fe(e.prototype,t),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var we=function(){function e(){Ue(this,e),this.cache={}}return je(e,[{key:"get",value:function(){for(var r=this.cache,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];for(var u=0,f=o;u<f.length;u++){var c=f[u];if(P(r)!=="object")return;r=r[c]}return r}},{key:"put",value:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var a=n.pop(),u=n.pop(),f=this.cache,c=0,A=n;c<A.length;c++){var b=A[c];P(f[b])!=="object"&&(f[b]={}),f=f[b]}return f[u]=a}}]),e}(),le=new we,ke=Te(),Ce=function(t){return t.toString()};function Ne(e,t){if(!ke)return Ce;var r=qe(e),n=JSON.stringify(t),o=le.get(String(r),n)||le.put(String(r),n,new Intl.DateTimeFormat(r,t));return function(a){return o.format(a)}}const Ve=Pe(Ne);var V={};function qe(e){var t=e.toString();return V[t]?V[t]:V[t]=Me(e)}function B(e){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(e)}function We(e){return Be(e)?e:new Date(e)}function Be(e){return e instanceof Date||Ke(e)}function Ke(e){return B(e)==="object"&&typeof e.getTime=="function"}var ce=new we;function ze(e,t){var r=t.polyfill,n=String(e)+":"+String(r);return ce.get(n)||ce.put(n,new he(e,{polyfill:r}))}var j={exports:{}},T={exports:{}};(function(){var e,t,r,n,o,a;typeof performance<"u"&&performance!==null&&performance.now?T.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(T.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var u;return u=t(),u[0]*1e9+u[1]},n=e(),a=process.uptime()*1e9,o=n-a):Date.now?(T.exports=function(){return Date.now()-r},r=Date.now()):(T.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(ge);var He=T.exports,Ye=He,p=typeof window>"u"?ge:window,_=["moz","webkit"],y="AnimationFrame",v=p["request"+y],S=p["cancel"+y]||p["cancelRequest"+y];for(var g=0;!v&&g<_.length;g++)v=p[_[g]+"Request"+y],S=p[_[g]+"Cancel"+y]||p[_[g]+"CancelRequest"+y];if(!v||!S){var q=0,se=0,m=[],Ge=1e3/60;v=function(e){if(m.length===0){var t=Ye(),r=Math.max(0,Ge-(t-q));q=r+t,setTimeout(function(){var n=m.slice(0);m.length=0;for(var o=0;o<n.length;o++)if(!n[o].cancelled)try{n[o].callback(q)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return m.push({handle:++se,callback:e,cancelled:!1}),se},S=function(e){for(var t=0;t<m.length;t++)m[t].handle===e&&(m[t].cancelled=!0)}}j.exports=function(e){return v.call(p,e)};j.exports.cancel=function(){S.apply(p,arguments)};j.exports.polyfill=function(e){e||(e=p),e.requestAnimationFrame=v,e.cancelAnimationFrame=S};var Je=j.exports;const pe=Le(Je);function Qe(e,t){if(e.length===0)return 0;for(var r=0,n=e.length-1,o;r<=n;){o=Math.floor((n+r)/2);var a=t(e[o]);if(a===0)return o;if(a<0){if(r=o+1,r>n)return r}else if(n=o-1,n<r)return r}}function Xe(e,t){return rt(e)||tt(e,t)||et(e,t)||Ze()}function Ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(e,t){if(e){if(typeof e=="string")return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}}function me(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,f;try{for(r=r.call(e);!(o=(u=r.next()).done)&&(n.push(u.value),!(t&&n.length===t));o=!0);}catch(c){a=!0,f=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw f}}return n}}function rt(e){if(Array.isArray(e))return e}const nt={instances:[],add:function(t){var r=this,n=this.instances.length===0;return Oe(this.instances,t),n&&this.start(),{stop:function(){Se(r.instances,t),r.instances.length===0&&r.stop()},forceUpdate:function(){de(t,r.instances)}}},tick:function(){for(var t=Date.now();;){var r=this.instances[0];if(t>=r.nextUpdateTime)de(r,this.instances);else break}},scheduleNextTick:function(){var t=this;this.scheduledTick=pe(function(){t.tick(),t.scheduleNextTick()})},start:function(){this.scheduleNextTick()},stop:function(){pe.cancel(this.scheduledTick)}};function ot(e){var t=e.getNextValue(),r=Xe(t,2),n=r[0],o=r[1];e.setValue(n),e.nextUpdateTime=o}function de(e,t){ot(e),Se(t,e),Oe(t,e)}function Oe(e,t){var r=at(e,t);e.splice(r,0,t)}function Se(e,t){var r=e.indexOf(t);e.splice(r,1)}function at(e,t){var r=t.nextUpdateTime;return Qe(e,function(n){return n.nextUpdateTime===r?0:n.nextUpdateTime>r?1:-1})}var it=["date","verboseDate","tooltip","children"];function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function ut(e,t){if(e==null)return{};var r=ft(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ft(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function M(e,t){var r=e.date,n=e.verboseDate,o=e.tooltip,a=e.children,u=ut(e,it),f=l.useMemo(function(){return r.toISOString()},[r]);return O.createElement("time",K({ref:t},u,{dateTime:f,title:o?n:void 0}),a)}M=O.forwardRef(M);M.propTypes={date:i.instanceOf(Date).isRequired,verboseDate:i.string,tooltip:i.bool.isRequired,children:i.string.isRequired};var z=i.oneOfType,ye=i.arrayOf,d=i.string,ve=i.number,w=i.shape,$=i.func,lt=z([w({minTime:ve,formatAs:d.isRequired}),w({test:$,formatAs:d.isRequired}),w({minTime:ve,format:$.isRequired}),w({test:$,format:$.isRequired})]),ct=z([d,w({steps:ye(lt).isRequired,labels:z([d,ye(d)]).isRequired,round:d})]),st=["date","future","timeStyle","round","minTimeLeft","tooltip","component","container","wrapperComponent","wrapperProps","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick","now","timeOffset","polyfill"];function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function L(e,t){return yt(e)||dt(e,t)||mt(e,t)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){if(e){if(typeof e=="string")return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,f;try{for(r=r.call(e);!(o=(u=r.next()).done)&&(n.push(u.value),!(t&&n.length===t));o=!0);}catch(c){a=!0,f=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw f}}return n}}function yt(e){if(Array.isArray(e))return e}function vt(e,t){if(e==null)return{};var r=bt(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bt(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function D(e){var t=e.date,r=e.future,n=e.timeStyle,o=e.round,a=e.minTimeLeft,u=e.tooltip,f=e.component,c=e.container,A=e.wrapperComponent,b=e.wrapperProps,k=e.locale,C=e.locales,N=e.formatVerboseDate,H=e.verboseDateFormat,Y=e.updateInterval,G=e.tick,J=e.now,De=e.timeOffset,Q=e.polyfill,Ae=vt(e,st),x=l.useMemo(function(){return k&&(C=[k]),C.concat(he.getDefaultLocale())},[k,C]),X=l.useMemo(function(){return ze(x,{polyfill:Q})},[x,Q]);t=l.useMemo(function(){return We(t)},[t]);var R=l.useCallback(function(){var s=(J||Date.now())-De,h;if(r&&s>=t.getTime()&&(s=t.getTime(),h=!0),a!==void 0){var F=t.getTime()-a*1e3;s>F&&(s=F,h=!0)}var _e=X.format(t,n,{getTimeToNextUpdate:!0,now:s,future:r,round:o}),ue=L(_e,2),$e=ue[0],E=ue[1];return h?E=gt:E=Y||E||60*1e3,[$e,s+E]},[t,r,n,Y,o,a,X,J]),Z=l.useRef();Z.current=R;var xe=l.useMemo(R,[]),ee=L(xe,2),Re=ee[0],Ie=ee[1],Fe=l.useState(Re),te=L(Fe,2),Ee=te[0],re=te[1],I=l.useRef();l.useEffect(function(){if(G)return I.current=nt.add({getNextValue:function(){return Z.current()},setValue:re,nextUpdateTime:Ie}),function(){return I.current.stop()}},[G]),l.useEffect(function(){if(I.current)I.current.forceUpdate();else{var s=R(),h=L(s,1),F=h[0];re(F)}},[R]);var ne=l.useMemo(function(){return Ve(x,H)},[x,H]),oe=l.useMemo(function(){return N?N(t):ne(t)},[t,N,ne]),ae=O.createElement(f,U({date:t,verboseDate:oe,tooltip:u},Ae),Ee),ie=A||c;return ie?O.createElement(ie,U({},b,{verboseDate:oe}),ae):ae}D.propTypes={date:i.oneOfType([i.instanceOf(Date),i.number]).isRequired,locale:i.string,locales:i.arrayOf(i.string),future:i.bool,timeStyle:ct,round:i.string,minTimeLeft:i.number,component:i.elementType.isRequired,tooltip:i.bool.isRequired,formatVerboseDate:i.func,verboseDateFormat:i.object,updateInterval:i.oneOfType([i.number,i.arrayOf(i.shape({threshold:i.number,interval:i.number.isRequired}))]),tick:i.bool,now:i.number,timeOffset:i.number,polyfill:i.bool,wrapperComponent:i.elementType,wrapperProps:i.object};D.defaultProps={locales:[],component:M,tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},tick:!0,timeOffset:0};D=O.memo(D);const Ot=D;var ht=365*24*60*60*1e3,gt=1e3*ht;export{Ot as R};
