import{r as i,A as S,w as I,g2 as U,g3 as Q,g4 as q,g5 as J,g6 as F,d as K,m as N,av as w,g7 as ee,t as te,f as L,ag as oe,L as ne,z as re,a as z,h as R,q as T,b as M,X as C,aF as A,g8 as ie}from"./index-ccfcd4da.js";import{I as D}from"./Image-eeb38737.js";import{g as ae}from"./index-7da8bd4f.js";import{i as se}from"./fade-dd39912a.js";var le=function(t,o){return i.createElement(S,I({},t,{ref:o,icon:U}))},ce=i.forwardRef(le);const ge=ce;var pe=function(t,o){return i.createElement(S,I({},t,{ref:o,icon:Q}))},de=i.forwardRef(pe);const ue=de;var me=function(t,o){return i.createElement(S,I({},t,{ref:o,icon:q}))},we=i.forwardRef(me);const E=we;var ve=function(t,o){return i.createElement(S,I({},t,{ref:o,icon:J}))},fe=i.forwardRef(ve);const Se=fe;var Ie=function(t,o){return i.createElement(S,I({},t,{ref:o,icon:F}))},be=i.forwardRef(Ie);const Ce=be,j=e=>({position:e||"absolute",inset:0}),Oe=e=>{const{iconCls:t,motionDurationSlow:o,paddingXXS:n,marginXXS:r,prefixCls:s,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new w("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},te),{padding:`0 ${L(n)}`,[t]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},he=e=>{const{previewCls:t,modalMaskBg:o,paddingSM:n,marginXL:r,margin:s,paddingLG:c,previewOperationColorDisabled:g,previewOperationHoverColor:p,motionDurationSlow:v,iconCls:u,colorTextLightSolid:a}=e,l=new w(o).setAlpha(.1),f=l.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:s},[`${t}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:a,backgroundColor:l.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${v}`,"&:hover":{backgroundColor:f.toRgbString()},[`& > ${u}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${L(c)}`,backgroundColor:l.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${v}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${u}`]:{color:p},"&-disabled":{color:g,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:e.previewOperationSize}}}}},xe=e=>{const{modalMaskBg:t,iconCls:o,previewOperationColorDisabled:n,previewCls:r,zIndexPopup:s,motionDurationSlow:c}=e,g=new w(t).setAlpha(.1),p=g.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(s).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:g.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:p.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:e.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:e.marginSM},[`${r}-switch-right`]:{insetInlineEnd:e.marginSM}}},ye=e=>{const{motionEaseOut:t,previewCls:o,motionDurationSlow:n,componentCls:r}=e;return[{[`${r}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},j()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},j()),{transition:`transform ${n} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${o}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal({unit:!1})},"&":[he(e),xe(e)]}]},Me=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Oe(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},j())}}},je=e=>{const{previewCls:t}=e;return{[`${t}-root`]:ee(e,"zoom"),"&":se(e,!0)}},$e=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new w(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new w(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new w(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),_=K("Image",e=>{const t=`${e.componentCls}-preview`,o=N(e,{previewCls:t,modalMaskBg:new w("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Me(o),ye(o),ae(N(o,{componentCls:t})),je(o)]},$e);var Ne=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const Z={rotateLeft:i.createElement(ge,null),rotateRight:i.createElement(ue,null),zoomIn:i.createElement(Se,null),zoomOut:i.createElement(Ce,null),close:i.createElement(oe,null),left:i.createElement(ne,null),right:i.createElement(re,null),flipX:i.createElement(E,null),flipY:i.createElement(E,{rotate:90})},Ae=e=>{var{previewPrefixCls:t,preview:o}=e,n=Ne(e,["previewPrefixCls","preview"]);const{getPrefixCls:r}=i.useContext(z),s=r("image",t),c=`${s}-preview`,g=r(),p=R(s),[v,u,a]=_(s,p),[l]=T("ImagePreview",typeof o=="object"?o.zIndex:void 0),f=i.useMemo(()=>{var d;if(o===!1)return o;const m=typeof o=="object"?o:{},O=M(u,a,p,(d=m.rootClassName)!==null&&d!==void 0?d:"");return Object.assign(Object.assign({},m),{transitionName:C(g,"zoom",m.transitionName),maskTransitionName:C(g,"fade",m.maskTransitionName),rootClassName:O,zIndex:l})},[o]);return v(i.createElement(D.PreviewGroup,Object.assign({preview:f,previewPrefixCls:c,icons:Z},n)))},Ee=Ae;var P=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const B=e=>{var t;const{prefixCls:o,preview:n,className:r,rootClassName:s,style:c}=e,g=P(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:p,locale:v=A,getPopupContainer:u,image:a}=i.useContext(z),l=p("image",o),f=p(),d=v.Image||A.Image,m=R(l),[O,$,Y]=_(l,m),k=M(s,$,Y,m),G=M(r,$,a==null?void 0:a.className),[H]=T("ImagePreview",typeof n=="object"?n.zIndex:void 0),X=i.useMemo(()=>{var h;if(n===!1)return n;const b=typeof n=="object"?n:{},{getContainer:x,closeIcon:y}=b,W=P(b,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${l}-mask-info`},i.createElement(ie,null),d==null?void 0:d.preview),icons:Z},W),{getContainer:x??u,transitionName:C(f,"zoom",b.transitionName),maskTransitionName:C(f,"fade",b.maskTransitionName),zIndex:H,closeIcon:y??((h=a==null?void 0:a.preview)===null||h===void 0?void 0:h.closeIcon)})},[n,d,(t=a==null?void 0:a.preview)===null||t===void 0?void 0:t.closeIcon]),V=Object.assign(Object.assign({},a==null?void 0:a.style),c);return O(i.createElement(D,Object.assign({prefixCls:l,preview:X,rootClassName:k,className:G,style:V},g)))};B.PreviewGroup=Ee;const Te=B;export{Te as I};
