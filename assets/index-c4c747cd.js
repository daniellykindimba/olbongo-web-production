import{r as s,_ as w,R as y,gj as $e,d as Te,ap as G,gk as je,a8 as Y,U as W,gl as U,gm as we,C as z,b as J,c as j,Y as Ne,Z as D,j as Se,a0 as Ie,X as ke,a1 as Fe,M as L,fb as Me,g0 as Be,u as Re,au as Ae,at as Le,as as ze,aM as K,W as _e,cB as We,gn as De,cD as He,cE as Ve,az as qe,aE as Xe}from"./index-29a13d6d.js";import{I as Qe}from"./InfoCircleFilled-154bca47.js";import{A as ee}from"./ActionButton-268e5a9a.js";import{D as Ze,P as Ge}from"./DialogWrap-42f3b16e.js";import{u as te,p as Ye,a as Ue}from"./index-30e24ff4.js";function Je(){const[e,n]=s.useState([]),l=s.useCallback(t=>(n(o=>[].concat(w(o),[t])),()=>{n(o=>o.filter(a=>a!==t))}),[]);return[e,l]}const k=y.createContext({}),{Provider:ne}=k,Ke=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:l,isSilent:t,mergedOkCancel:o,rootPrefixCls:a,close:m,onCancel:u,onConfirm:c}=s.useContext(k);return o?y.createElement(ee,{isSilent:t,actionFn:u,close:function(){m==null||m.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${a}-btn`},l):null},H=Ke,et=()=>{const{autoFocusButton:e,close:n,isSilent:l,okButtonProps:t,rootPrefixCls:o,okTextLocale:a,okType:m,onConfirm:u,onOk:c}=s.useContext(k);return y.createElement(ee,{isSilent:l,type:m||"primary",actionFn:c,close:function(){n==null||n.apply(void 0,arguments),u==null||u(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},a)},V=et,tt=()=>$e()&&window.document.documentElement;function q(){}const oe=s.createContext({add:q,remove:q});function nt(e){const n=s.useContext(oe),l=s.useRef();return Te(o=>{if(o){const a=e?o.querySelector(e):o;n.add(a),l.current=a}else n.remove(l.current)})}const wt=oe,ot=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:l}=s.useContext(k);return y.createElement(G,Object.assign({onClick:l},e),n)},X=ot,lt=()=>{const{confirmLoading:e,okButtonProps:n,okType:l,okTextLocale:t,onOk:o}=s.useContext(k);return y.createElement(G,Object.assign({},je(l),{loading:e,onClick:o},n),t)},Q=lt;function le(e,n){return y.createElement("span",{className:`${e}-close-x`},n||y.createElement(Y,{className:`${e}-close-icon`}))}const se=e=>{const{okText:n,okType:l="primary",cancelText:t,confirmLoading:o,onOk:a,onCancel:m,okButtonProps:u,cancelButtonProps:c,footer:i}=e,[r]=W("Modal",U()),f=n||(r==null?void 0:r.okText),x=t||(r==null?void 0:r.cancelText),d={confirmLoading:o,okButtonProps:u,cancelButtonProps:c,okTextLocale:f,cancelTextLocale:x,okType:l,onOk:a,onCancel:m},O=y.useMemo(()=>d,w(Object.values(d)));let g;return typeof i=="function"||typeof i>"u"?(g=y.createElement(y.Fragment,null,y.createElement(X,null),y.createElement(Q,null)),typeof i=="function"&&(g=i(g,{OkBtn:Q,CancelBtn:X})),g=y.createElement(ne,{value:O},g)):g=i,y.createElement(we,{disabled:!1},g)};var st=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};let _;const rt=e=>{_={x:e.pageX,y:e.pageY},setTimeout(()=>{_=null},100)};tt()&&document.documentElement.addEventListener("click",rt,!0);const at=e=>{var n;const{getPopupContainer:l,getPrefixCls:t,direction:o,modal:a}=s.useContext(z),m=I=>{const{onCancel:N}=e;N==null||N(I)},u=I=>{const{onOk:N}=e;N==null||N(I)},{prefixCls:c,className:i,rootClassName:r,open:f,wrapClassName:x,centered:d,getContainer:O,focusTriggerAfterClose:g=!0,style:p,visible:C,width:b=520,footer:P,classNames:v,styles:T}=e,h=st(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),$=t("modal",c),M=t(),B=J($),[R,A,xe]=te($,B),pe=j(x,{[`${$}-centered`]:!!d,[`${$}-wrap-rtl`]:o==="rtl"}),ve=P!==null&&s.createElement(se,Object.assign({},e,{onOk:u,onCancel:m})),[ye,Oe]=Ne(D(e),D(a),{closable:!0,closeIcon:s.createElement(Y,{className:`${$}-close-icon`}),closeIconRender:I=>le($,I)}),Pe=nt(`.${$}-content`),[he,Ee]=Se("Modal",h.zIndex);return R(s.createElement(Ie,null,s.createElement(ke,{status:!0,override:!0},s.createElement(Fe.Provider,{value:Ee},s.createElement(Ze,Object.assign({width:b},h,{zIndex:he,getContainer:O===void 0?l:O,prefixCls:$,rootClassName:j(A,r,xe,B),footer:ve,visible:f??C,mousePosition:(n=h.mousePosition)!==null&&n!==void 0?n:_,onClose:m,closable:ye,closeIcon:Oe,focusTriggerAfterClose:g,transitionName:L(M,"zoom",e.transitionName),maskTransitionName:L(M,"fade",e.maskTransitionName),className:j(A,i,a==null?void 0:a.className),style:Object.assign(Object.assign({},a==null?void 0:a.style),p),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),v),{wrapper:j(pe,v==null?void 0:v.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),T),panelRef:Pe}))))))},re=at,ct=e=>{const{componentCls:n,titleFontSize:l,titleLineHeight:t,modalConfirmIconSize:o,fontSize:a,lineHeight:m,modalTitleHeight:u,fontHeight:c,confirmBodyPadding:i}=e,r=`${n}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},Be()),[`&${n} ${n}-body`]:{padding:i},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(u).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${Re(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:t},[`${r}-content`]:{color:e.colorText,fontSize:a,lineHeight:m},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},it=Me(["Modal","confirm"],e=>{const n=Ue(e);return[ct(n)]},Ye,{order:-1e3});var ut=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};function ae(e){const{prefixCls:n,icon:l,okText:t,cancelText:o,confirmPrefixCls:a,type:m,okCancel:u,footer:c,locale:i}=e,r=ut(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=l;if(!l&&l!==null)switch(m){case"info":f=s.createElement(Qe,null);break;case"success":f=s.createElement(ze,null);break;case"error":f=s.createElement(Le,null);break;default:f=s.createElement(Ae,null)}const x=u??m==="confirm",d=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=W("Modal"),g=i||O,p=t||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),C=o||(g==null?void 0:g.cancelText),b=Object.assign({autoFocusButton:d,cancelTextLocale:C,okTextLocale:p,mergedOkCancel:x},r),P=s.useMemo(()=>b,w(Object.values(b))),v=s.createElement(s.Fragment,null,s.createElement(H,null),s.createElement(V,null)),T=e.title!==void 0&&e.title!==null,h=`${a}-body`;return s.createElement("div",{className:`${a}-body-wrapper`},s.createElement("div",{className:j(h,{[`${h}-has-title`]:T})},f,s.createElement("div",{className:`${a}-paragraph`},T&&s.createElement("span",{className:`${a}-title`},e.title),s.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?s.createElement(ne,{value:P},s.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(v,{OkBtn:V,CancelBtn:H}):v)):c,s.createElement(it,{prefixCls:n}))}const ft=e=>{const{close:n,zIndex:l,afterClose:t,open:o,keyboard:a,centered:m,getContainer:u,maskStyle:c,direction:i,prefixCls:r,wrapClassName:f,rootPrefixCls:x,bodyStyle:d,closable:O=!1,closeIcon:g,modalRender:p,focusTriggerAfterClose:C,onConfirm:b,styles:P}=e,v=`${r}-confirm`,T=e.width||416,h=e.style||{},$=e.mask===void 0?!0:e.mask,M=e.maskClosable===void 0?!1:e.maskClosable,B=j(v,`${v}-${e.type}`,{[`${v}-rtl`]:i==="rtl"},e.className),[,R]=_e(),A=s.useMemo(()=>l!==void 0?l:R.zIndexPopupBase+We,[l,R]);return s.createElement(re,{prefixCls:r,className:B,wrapClassName:j({[`${v}-centered`]:!!e.centered},f),onCancel:()=>{n==null||n({triggerCancel:!0}),b==null||b(!1)},open:o,title:"",footer:null,transitionName:L(x||"","zoom",e.transitionName),maskTransitionName:L(x||"","fade",e.maskTransitionName),mask:$,maskClosable:M,style:h,styles:Object.assign({body:d,mask:c},P),width:T,zIndex:A,afterClose:t,keyboard:a,centered:m,getContainer:u,closable:O,closeIcon:g,modalRender:p,focusTriggerAfterClose:C},s.createElement(ae,Object.assign({},e,{confirmPrefixCls:v})))},ce=e=>{const{rootPrefixCls:n,iconPrefixCls:l,direction:t,theme:o}=e;return s.createElement(K,{prefixCls:n,iconPrefixCls:l,direction:t,theme:o},s.createElement(ft,Object.assign({},e)))},dt=[],S=dt;let ie="";function ue(){return ie}const mt=e=>{var n,l;const{prefixCls:t,getContainer:o,direction:a}=e,m=U(),u=s.useContext(z),c=ue()||u.getPrefixCls(),i=t||`${c}-modal`;let r=o;return r===!1&&(r=void 0),y.createElement(ce,Object.assign({},e,{rootPrefixCls:c,prefixCls:i,iconPrefixCls:u.iconPrefixCls,theme:u.theme,direction:a??u.direction,locale:(l=(n=u.locale)===null||n===void 0?void 0:n.Modal)!==null&&l!==void 0?l:m,getContainer:r}))};function F(e){const n=Ve(),l=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:u,open:!0}),o;function a(){for(var i=arguments.length,r=new Array(i),f=0;f<i;f++)r[f]=arguments[f];const x=r.some(d=>d&&d.triggerCancel);e.onCancel&&x&&e.onCancel.apply(e,[()=>{}].concat(w(r.slice(1))));for(let d=0;d<S.length;d++)if(S[d]===u){S.splice(d,1);break}De(l)}function m(i){clearTimeout(o),o=setTimeout(()=>{const r=n.getPrefixCls(void 0,ue()),f=n.getIconPrefixCls(),x=n.getTheme(),d=y.createElement(mt,Object.assign({},i));He(y.createElement(K,{prefixCls:r,iconPrefixCls:f,theme:x},n.holderRender?n.holderRender(d):d),l)})}function u(){for(var i=arguments.length,r=new Array(i),f=0;f<i;f++)r[f]=arguments[f];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,r)}}),t.visible&&delete t.visible,m(t)}function c(i){typeof i=="function"?t=i(t):t=Object.assign(Object.assign({},t),i),m(t)}return m(t),S.push(u),{destroy:u,update:c}}function fe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function de(e){return Object.assign(Object.assign({},e),{type:"info"})}function me(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ce(e){return Object.assign(Object.assign({},e),{type:"error"})}function ge(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Ct(e){let{rootPrefixCls:n}=e;ie=n}var gt=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const bt=(e,n)=>{var l,{afterClose:t,config:o}=e,a=gt(e,["afterClose","config"]);const[m,u]=s.useState(!0),[c,i]=s.useState(o),{direction:r,getPrefixCls:f}=s.useContext(z),x=f("modal"),d=f(),O=()=>{var b;t(),(b=c.afterClose)===null||b===void 0||b.call(c)},g=function(){u(!1);for(var b=arguments.length,P=new Array(b),v=0;v<b;v++)P[v]=arguments[v];const T=P.some(h=>h&&h.triggerCancel);c.onCancel&&T&&c.onCancel.apply(c,[()=>{}].concat(w(P.slice(1))))};s.useImperativeHandle(n,()=>({destroy:g,update:b=>{i(P=>Object.assign(Object.assign({},P),b))}}));const p=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[C]=W("Modal",qe.Modal);return s.createElement(ce,Object.assign({prefixCls:x,rootPrefixCls:d},c,{close:g,open:m,afterClose:O,okText:c.okText||(p?C==null?void 0:C.okText:C==null?void 0:C.justOkText),direction:c.direction||r,cancelText:c.cancelText||(C==null?void 0:C.cancelText)},a))},xt=s.forwardRef(bt);let Z=0;const pt=s.memo(s.forwardRef((e,n)=>{const[l,t]=Je();return s.useImperativeHandle(n,()=>({patchElement:t}),[]),s.createElement(s.Fragment,null,l)}));function vt(){const e=s.useRef(null),[n,l]=s.useState([]);s.useEffect(()=>{n.length&&(w(n).forEach(m=>{m()}),l([]))},[n]);const t=s.useCallback(a=>function(u){var c;Z+=1;const i=s.createRef();let r;const f=new Promise(p=>{r=p});let x=!1,d;const O=s.createElement(xt,{key:`modal-${Z}`,config:a(u),ref:i,afterClose:()=>{d==null||d()},isSilent:()=>x,onConfirm:p=>{r(p)}});return d=(c=e.current)===null||c===void 0?void 0:c.patchElement(O),d&&S.push(d),{destroy:()=>{function p(){var C;(C=i.current)===null||C===void 0||C.destroy()}i.current?p():l(C=>[].concat(w(C),[p]))},update:p=>{function C(){var b;(b=i.current)===null||b===void 0||b.update(p)}i.current?C():l(b=>[].concat(w(b),[C]))},then:p=>(x=!0,f.then(p))}},[]);return[s.useMemo(()=>({info:t(de),success:t(me),error:t(Ce),warning:t(fe),confirm:t(ge)}),[]),s.createElement(pt,{key:"modal-holder",ref:e})]}var yt=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const Ot=e=>{const{prefixCls:n,className:l,closeIcon:t,closable:o,type:a,title:m,children:u,footer:c}=e,i=yt(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=s.useContext(z),f=r(),x=n||r("modal"),d=J(f),[O,g,p]=te(x,d),C=`${x}-confirm`;let b={};return a?b={closable:o??!1,title:"",footer:"",children:s.createElement(ae,Object.assign({},e,{prefixCls:x,confirmPrefixCls:C,rootPrefixCls:f,content:u}))}:b={closable:o??!0,title:m,footer:c!==null&&s.createElement(se,Object.assign({},e)),children:u},O(s.createElement(Ge,Object.assign({prefixCls:x,className:j(g,`${x}-pure-panel`,a&&C,a&&`${C}-${a}`,l,p,d)},i,{closeIcon:le(x,t),closable:o},b)))},Pt=Xe(Ot);function be(e){return F(fe(e))}const E=re;E.useModal=vt;E.info=function(n){return F(de(n))};E.success=function(n){return F(me(n))};E.error=function(n){return F(Ce(n))};E.warning=be;E.warn=be;E.confirm=function(n){return F(ge(n))};E.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};E.config=Ct;E._InternalPanelDoNotUseOrYouWillBeFired=Pt;const Nt=E;export{Nt as M,wt as W,nt as a,vt as u};
