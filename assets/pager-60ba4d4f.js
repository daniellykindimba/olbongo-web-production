import{r as s,b$ as W,aO as c,aY as e,ak as le,cx as Te,bZ as g,aV as P,aS as M,aK as b,S as H,ao as v,b_ as h,db as Fe,bY as _,Q as A,c7 as re,aI as G,a6 as V,cX as Me,cG as $,cY as X,c8 as ce,dc as ue,c9 as ee,cI as je,aU as ye,dd as Ae,de as qe}from"./index-3b25761c.js";import{G as B}from"./index-57fa16be.js";import{C as U,T as be}from"./index-0bcbf38d.js";import{D as ie}from"./index-0ffbf4a9.js";import{T as oe}from"./Timeline-017ecd16.js";import{S as ke}from"./Skeleton-f7cf79cd.js";import{A as ae}from"./index-5f714100.js";import{t as pe}from"./text_truncate-315d9efa.js";import{A as Se}from"./Alert-31134f7b.js";import{C as Ee}from"./ckeditor-a633987d.js";import{I as ve}from"./index-55838eed.js";import{L as Z}from"./index-086e93a6.js";import{P as Y}from"./index-6e5f775c.js";import{C as te}from"./Collapse-07ebfd39.js";import"./InfoCircleFilled-28f92d26.js";import"./ckeditor-84a50c95.js";import"./InputNumber-9a89f098.js";import"./index-3c7b2ccc.js";import"./ActionButton-4004263b.js";import"./index-145766ec.js";const Le=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0);s.useState(20),s.useState("");const[u,S]=s.useState(!1),[y,l]=s.useState(!0);W(),c.useForm(),s.useState(!1);const f=!B.useBreakpoint().lg,x=async(C,O="",N=20)=>{l(!0);const{data:T}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubjectTopics",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0},page:{value:C,type:"Int",required:!0},key:{value:O,type:"String",required:!1},pageSize:{value:N,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content",{subTopics:["id","content",{objectives:["id","content"]}]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(T.page),n(T.total),S(T.hasNext),o(T.results),l(!1)};return s.useEffect(()=>{x(1,"",20)},[t.syllabus,t.educationLevel,t.subject]),e.jsx("div",{style:{maxHeight:"90vh",overflowY:"auto",minHeight:"90vh"},children:e.jsxs(le,{spinning:y,children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsx("h3",{children:"No Topics Found"})}),a.length>0&&e.jsx(U,{style:{padding:0},children:e.jsx("ol",{children:a.map((C,O)=>e.jsxs("li",{children:[e.jsxs("span",{style:{fontWeight:"bolder",fontSize:18},children:[C.content,e.jsx("span",{style:{marginLeft:f?0:5},children:e.jsx("a",{children:e.jsx(Te,{style:{color:"red"}})})})]}),e.jsx("ol",{children:C.subTopics.map(N=>e.jsxs("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:N.content}),e.jsx("ul",{children:N.objectives.map(T=>e.jsx("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:T.content}))})]}))})]}))})})]})})},he=["red","green","blue","yellow","orange"],Ne=t=>{const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0);s.useState(20),s.useState("");const[y,l]=s.useState(!1),[d,f]=s.useState(!0);W(),c.useForm();const[x,C]=s.useState(!1),N=!B.useBreakpoint().lg,T=k=>{o(k),C(!0)},K=async(k,q="",E=100)=>{f(!0);const{data:I}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},page:{value:k,type:"Int",required:!0},key:{value:q,type:"String",required:!1},pageSize:{value:E,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});n(I.page),S(I.total),l(I.hasNext),r(I.results),f(!1)};return s.useEffect(()=>{K(1,"",100)},[t.syllabus,t.educationLevel]),e.jsxs(e.Fragment,{children:[e.jsx(le,{spinning:d,children:i.map(k=>e.jsx(e.Fragment,{children:e.jsx("a",{onClick:()=>T(k),children:e.jsx(P,{color:he[Math.floor(Math.random()*he.length)],style:{fontSize:16,padding:5,marginTop:10},children:k.name})})}))}),e.jsx(ie,{title:(a==null?void 0:a.name)+" Syllabus",anchor:"right",width:N?"100vw":"70vw",onClose:k=>C(k),open:x,children:e.jsx(Le,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:a})})]})},fe=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0);s.useState(20),s.useState("");const[u,S]=s.useState(!1),[y,l]=s.useState(!0);W(),c.useForm(),s.useState(!1),B.useBreakpoint().lg;const f=async(x,C="",O=100)=>{l(!0);const{data:N}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},page:{value:x,type:"Int",required:!0},key:{value:C,type:"String",required:!1},pageSize:{value:O,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(N.page),n(N.total),S(N.hasNext),o(N.results),l(!1)};return s.useEffect(()=>{f(1,"",20)},[t.syllabus]),e.jsx(e.Fragment,{children:e.jsx(le,{spinning:y,children:e.jsx(M,{style:{marginTop:10},children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("p",{style:{fontSize:20,marginTop:10},children:"No Data Found"})}),a.length>0&&e.jsx(oe,{mode:"left",children:a.map((x,C)=>e.jsxs(e.Fragment,{children:[e.jsx(oe.Item,{color:"red",children:e.jsx("span",{style:{fontSize:20},children:x.name})}),e.jsx(oe.Item,{color:"green",dot:!0,children:e.jsx(Ne,{syllabus:t.syllabus,educationLevel:x})})]}))})]})})})})},{Option:we}=H,ze=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:n.title,type:"String",required:!0},description:{value:n.description,type:"String",required:!1},year:{value:parseInt(n.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(n.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.syllabus)):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(H,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(we,{value:n.id,children:n.name},n.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Search:De}=A,Pe=()=>{const[t,a]=s.useState([]),[o,i]=s.useState(!0),[r,j]=s.useState(!1);Fe();const u=!B.useBreakpoint().lg,S=async(l,d="",f=20)=>{const{data:x}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:l,type:"Int",required:!0},key:{value:d,type:"String",required:!1},pageSize:{value:f,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});a(x.results),i(!1)},y=async()=>{h.success("Syllabus subscription successful"),j(!1)};return s.useEffect(()=>{S(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:3},children:[e.jsx(M,{style:{display:"flex",justifyContent:"flex-start"},children:e.jsx(b,{span:u?24:8,children:e.jsx(De,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsxs("div",{style:{maxHeight:"calc(100vh - 150px)",overflowY:"auto"},children:[o&&e.jsx(e.Fragment,{children:[...Array(4)].map((l,d)=>e.jsx(M,{children:[...Array(3)].map((f,x)=>e.jsx(b,{span:8,children:e.jsx(U,{children:e.jsx(ke,{active:!0})})},x))},d))}),!o&&t.length===0&&e.jsx(M,{style:{marginTop:"3px"},children:e.jsx(b,{span:24,children:e.jsx(ae,{message:"No syllabus found",type:"info"})})}),!o&&e.jsx(e.Fragment,{children:t.map(l=>e.jsxs(M,{children:[e.jsx(b,{span:24,children:e.jsx(U,{children:e.jsxs("h1",{children:[l.title," ",e.jsx(P,{color:"red",style:{marginLeft:10},children:l.year})]})})}),e.jsx(b,{span:24,children:e.jsx(U,{children:e.jsx(fe,{syllabus:l})})})]}))})]})]}),e.jsx(_,{title:"Syllabus Subscription",width:u?"100vw":"40vw",open:r,onClose:l=>j(l),children:e.jsx(ze,{onFinish:y})})]})},Be=()=>{const{push:t}=W();return s.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(G,{children:[e.jsx(G.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(G.Item,{children:"Syllabuses"})]})}),e.jsx(Pe,{})]})},{Search:Oe}=A,Ke=t=>{var k;const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0);s.useState(20),s.useState("");const[y,l]=s.useState(!1),[d,f]=s.useState(!0);W(),c.useForm();const[x,C]=s.useState(!1),N=!B.useBreakpoint().lg,T=q=>{o(q),C(!0)},K=async(q,E="",I=20)=>{f(!0);const{data:w}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:q,type:"Int",required:!0},key:{value:E,type:"String",required:!1},pageSize:{value:I,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});n(w.page),S(w.total),l(w.hasNext),r(w.results),f(!1)};return s.useEffect(()=>{K(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:N?24:8,children:e.jsx(Oe,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsx(le,{spinning:d,children:e.jsxs(M,{children:[i.length===0&&!d&&e.jsx(e.Fragment,{children:e.jsx(Se,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},severity:"warning",children:"No syllabuses found"})}),i.map(q=>e.jsx(b,{span:6,children:e.jsxs(U,{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(V,{title:q.title,color:"green",placement:"right",children:e.jsxs("span",{style:{fontSize:26,display:"block",marginBottom:10},children:[pe(q.title,30),e.jsx(P,{color:"red",children:q.year})]})}),q.syllabusType&&e.jsx(P,{color:"green",style:{fontSize:18,padding:10},children:e.jsx(V,{title:e.jsx(e.Fragment,{children:q.syllabusType.name}),color:"green",placement:"top",children:pe(q.syllabusType.name,30)})}),e.jsx(V,{title:"Click to View Syllabus",color:"green",placement:"top",children:e.jsx(v,{size:"large",style:{display:"block",marginTop:10},icon:e.jsx(Me,{}),onClick:()=>T(q),children:"Open/View"})})]})}))]})}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a==null?void 0:a.title}),e.jsx(P,{color:"green",style:{marginLeft:5},children:(k=a==null?void 0:a.syllabusType)==null?void 0:k.name}),e.jsx(P,{color:"red",style:{marginLeft:5},children:a==null?void 0:a.year})]}),width:N?"100vw":"75vw",open:x,onClose:q=>C(q),children:e.jsx("div",{style:{maxHeight:"85vh",overflowY:"auto"},children:e.jsx(fe,{syllabus:a})})})]})},Ye=()=>{const{push:t}=W();return s.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(G,{children:[e.jsx(G.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(G.Item,{children:"Syllabuses"})]})}),e.jsx(Ke,{})]})},{Option:He}=H,$e=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:n.title,type:"String",required:!0},description:{value:n.description,type:"String",required:!1},year:{value:parseInt(n.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(n.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.syllabus)):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(A,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(c.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(ve,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(H,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(He,{value:n.id,children:n.name},n.id))})}),e.jsx(c.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(Ee,{onChange:n=>{i.setFieldsValue({description:n})}})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:_e}=H,{TextArea:Ve}=A,Ue=t=>{var n,u,S,y,l;const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});o(d.results)},j=async d=>{var x;const{data:f}=await g.custom({url:"",method:"post",meta:{operation:"updateSyllabus",variables:{id:{value:(x=t.syllabus)==null?void 0:x.id,type:"Int",required:!0},title:{value:d.title,type:"String",required:!0},description:{value:d.description,type:"String",required:!1},year:{value:parseInt(d.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(d.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year",{syllabusType:["id","name"]},"isActive","created","updated","canDelete","canEdit","canManage"]}]}});f.success?(h.success(f.message),t.onFinish(f.syllabus)):h.error(f.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:d=>{j(d)},requiredMark:!0,initialValues:{title:(n=t.syllabus)==null?void 0:n.title,description:(u=t.syllabus)==null?void 0:u.description,year:(S=t.syllabus)==null?void 0:S.year,syllabusTypeId:(l=(y=t.syllabus)==null?void 0:y.syllabusType)==null?void 0:l.id},children:[e.jsx(c.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(A,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(c.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(ve,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(c.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(H,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(d=>e.jsx(_e,{value:d.id,children:d.name},d.id))})}),e.jsx(c.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(Ve,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:ge}=H,Re=t=>{const[a,o]=s.useState([]),[i,r]=s.useState([]),[j]=c.useForm(),n=async y=>{const{data:l}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:y.educationLevelId,type:"Int",required:!0},subjectIds:{value:y.subjectIds,type:"[Int]",required:!0}},fields:["success","message"]}});l.success?(h.success(l.message),j.resetFields(),t.onFinish()):h.error(l.message)},u=async()=>{const{data:y}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(y.results)},S=async y=>{const{data:l}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:y,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r(l.results)};return s.useEffect(()=>{u()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:j,onFinish:y=>{y.syllabusId=parseInt(t.syllabus.id.toString()),n(y)},requiredMark:!0,children:[e.jsx(c.Item,{name:"educationLevelId",label:"Education Level",rules:[{required:!0,type:"integer"}],children:e.jsx(H,{size:"large",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:y=>{i.length=0,r([]),j.resetFields(["subject"]),S(parseInt(y.toString()))},dropdownStyle:{zIndex:9999},children:a.map(y=>e.jsx(ge,{value:parseInt(y.id.toString()),children:y.name},"educationLevel"+y.id))})}),e.jsx(c.Item,{name:"subjectIds",label:"Applicable Subject(s)",rules:[{required:!0,type:"array"}],children:e.jsx(H,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:()=>{},dropdownStyle:{zIndex:9999},children:i.map(y=>e.jsx(ge,{value:parseInt(y.id.toString()),children:y.name},"subject"+y.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{style:{color:"red"},size:"large",htmlType:"submit",icon:e.jsx($,{}),children:"Add"})})]})})},We=t=>{const[a,o]=s.useState([]);c.useForm();const[i]=c.useForm(),r=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectIds:{value:n,type:"[Int]",required:!0}},fields:["success","message"]}});u.success?(h.success(u.message),o(a.filter(S=>!n.includes(parseInt(S.id.toString())))),t.onFinish()):h.error(u.message)},j=async(n="")=>{const{data:u}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{key:{value:n,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(u.results)};return s.useEffect(()=>{j()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(c,{layout:"vertical",form:i,onFinish:n=>{j(n.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subject Found ...",style:{width:"100%"}}),a.map(n=>e.jsx(U,{children:e.jsx(M,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:n.name}),e.jsx("span",{children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r([parseInt(n.id.toString())])})})]})})}))]})})})]})},{TextArea:Qe}=A,Ge=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusTopic",variables:{syllabusId:{value:parseInt(i.syllabusId.toString()),type:"Int",required:!0},subjectId:{value:parseInt(i.subjectId.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(i.educationLevelId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{topic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.topic),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Topic Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Topic Index"}],children:e.jsx(A,{size:"large",placeholder:"Topic Index",autoComplete:"off",allowClear:!0})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(Qe,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:Je}=A,Xe=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusSubtopic",variables:{topicId:{value:parseInt(i.topicId.toString()),type:"Int",required:!0},content:{value:i.content.trim(),type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{subTopic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.subTopic),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),i.topicId=parseInt(t.topic.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Subtopic Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Subtopic Index"}],children:e.jsx(A,{size:"large",placeholder:"Subtopic Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(Je,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:Ze}=A,et=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusObjective",variables:{subTopicId:{value:parseInt(i.subtopicId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{objective:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.objective),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.syllabusId=parseInt(t.syllabus.id.toString()),i.educationLevelId=parseInt(t.educationLevel.id.toString()),i.subjectId=parseInt(t.subject.id.toString()),i.topicId=parseInt(t.topic.id.toString()),i.subtopicId=parseInt(t.subtopic.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Index"}],children:e.jsx(A,{size:"large",placeholder:"Enter Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(Ze,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:tt}=A,st=t=>{const[a]=c.useForm(),o=async i=>{const{data:r}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusStrategy",variables:{objectiveId:{value:parseInt(i.objectiveId.toString()),type:"Int",required:!0},content:{value:i.content,type:"String",required:!0},index:{value:i.index,type:"String",required:!0}},fields:["success","message",{strategy:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});r.success?(h.success(r.message),t.onFinish(r.strategy),a.resetFields()):h.error(r.message)};return s.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:a,onFinish:i=>{i.objectiveId=parseInt(t.objective.id.toString()),o(i)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Strategy Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Index"}],children:e.jsx(A,{size:"large",placeholder:"Strategy Index"})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Content"}],children:e.jsx(tt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},at=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!B.useBreakpoint().lg,u=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusStrategy",variables:{id:{value:l,type:"Int",required:!1}},fields:["success","message"]}});d.success?(h.success(d.message),S()):h.error(d.message)},S=async(l="")=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{key:{value:l,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(d.results)},y=async l=>{o([l,...a])};return s.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Strategies",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add New Strategy",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("p",{style:{textAlign:"center",color:"gray"},children:"No Strategies Found"}),a.length>0&&e.jsx(Z,{bordered:!0,dataSource:a,renderItem:l=>e.jsx(Z.Item,{actions:[e.jsx(v,{icon:e.jsx(ce,{})}),e.jsx(Y,{title:"Delete the strategy?",placement:"left",onConfirm:()=>u(l.id),okText:"Yes",cancelText:"No",disabled:!l.canDelete,overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(ue,{}),disabled:!l.canDelete,danger:!0})})],children:l.content})})]}),e.jsx(_,{title:"Create Strategy",width:n?"100vw":"30vw",open:i,onClose:l=>r(l),children:e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{fontSize:18},children:[e.jsx("span",{style:{fontWeight:"bolder"},children:"For Objective:"})," ",t.objective.content]}),e.jsx(st,{objective:t.objective,onFinish:y})]})})]})},{TextArea:nt}=A,{Option:it}=H,lt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusAssessment",variables:{objectiveId:{value:parseInt(n.objectiveId.toString()),type:"Int",required:!0},materialId:{value:n.materialId,type:"Int",required:!1},content:{value:n.content,type:"String",required:!0}},fields:["success","message",{assessment:["id","content",{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.assessment),i.resetFields()):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{n.objectiveId=parseInt(t.objective.id.toString()),j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"materialId",label:"Material",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Material ..."}],children:e.jsx(H,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(n=>e.jsx(it,{value:parseInt(n.id.toString()),children:n.content},"material"+n.id))})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Assessment Content"}],children:e.jsx(nt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},rt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!B.useBreakpoint().lg,u=async l=>{o([l,...a])},S=async()=>{const{data:l}=await g.custom({url:"",method:"get",meta:{operation:"objectiveAssessments",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content",{objective:["id","content"]},{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(l.results)},y=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusAssessment",variables:{id:{value:parseInt(l.toString()),type:"Int",required:!0}},fields:["success","message"]}});d.success?(h.success(d.message),S()):h.error(d.message)};return s.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Assessment",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add new Assessment",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Assessment"})}),a.length>0&&e.jsx(Z,{bordered:!0,dataSource:a,renderItem:l=>e.jsxs(Z.Item,{actions:[e.jsx(v,{icon:e.jsx(ce,{})}),e.jsx(Y,{title:"Are you sure delete this Assessment?",placement:"top",onConfirm:()=>y(l.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(ue,{}),danger:!0})})],children:[l.content,l.material&&e.jsx(V,{title:"Material Content Related",color:"green",placement:"top",children:e.jsx(P,{color:"green",style:{marginLeft:10},children:l.material.content})})]})})]}),e.jsx(_,{title:"Create Assessment",width:n?"100vw":"40vw",open:i,onClose:l=>r(l),children:e.jsx(lt,{objective:t.objective,onFinish:u})})]})},{TextArea:ct}=A,{Option:dt}=H,ot=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),r=async()=>{const{data:n}=await g.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(n.results)},j=async n=>{const{data:u}=await g.custom({url:"",method:"post",meta:{operation:"createSyllabusMaterial",variables:{objectiveId:{value:parseInt(n.objectiveId.toString()),type:"Int",required:!0},strategyId:{value:n.strategyId,type:"Int",required:!1},content:{value:n.content,type:"String",required:!0},index:{value:n.index,type:"String",required:!0}},fields:["success","message",{material:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});u.success?(h.success(u.message),t.onFinish(u.material),i.resetFields()):h.error(u.message)};return s.useEffect(()=>{r()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(c,{layout:"vertical",form:i,onFinish:n=>{n.objectiveId=parseInt(t.objective.id.toString()),j(n)},requiredMark:!0,children:[e.jsx(c.Item,{name:"index",label:"Material Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please Enter Material Index"}],children:e.jsx(A,{size:"large",placeholder:"Enter Matrial Index"})}),e.jsx(c.Item,{name:"strategyId",label:"Strategy",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Stragegy"}],help:"If you want to add a strategy to this material, please choose one. Leave it blank if you don't want to add a strategy",children:e.jsx(H,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},allowClear:!0,children:a.map(n=>e.jsx(dt,{value:parseInt(n.id.toString()),children:n.content},"strategory"+n.id))})}),e.jsx(c.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Material Content"}],children:e.jsx(ct,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},ut=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!B.useBreakpoint().lg,u=async(l="")=>{const{data:d}=await g.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{key:{value:l,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["page","total","hasNext","hasPrev",{results:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(d.results)},S=async l=>{const{data:d}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusMaterial",variables:{id:{value:parseInt(l.toString()),type:"Int",required:!0}},fields:["success","message"]}});d.success?(h.success(d.message),u()):h.error(d.message)},y=async l=>{o([l,...a])};return s.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Materials",extra:e.jsx(e.Fragment,{children:e.jsx(V,{title:"Add new Material",placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),onClick:()=>r(!0)})})}),children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Materials"})}),a.length>0&&e.jsx(Z,{bordered:!0,dataSource:a,renderItem:l=>e.jsxs(Z.Item,{actions:[e.jsx(v,{icon:e.jsx(ce,{})}),e.jsx(Y,{title:"Are you sure delete this Material?",onConfirm:()=>S(l.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(ue,{}),danger:!0})})],children:[l.content,l.strategy&&e.jsx(V,{title:"Related Strategy",color:"green",placement:"top",children:e.jsx(P,{color:"green",style:{marginLeft:10},children:l.strategy.content})})]})})]}),e.jsx(_,{title:"Creating Material",width:n?"100vw":"40vw",open:i,onClose:l=>r(l),children:e.jsxs(e.Fragment,{children:[e.jsxs(Se,{severity:"info",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Tip:"})," Material will be used in the Objective below"]}),e.jsxs("p",{children:[e.jsx("b",{children:e.jsx("i",{children:t.objective.content})}),"."]})]}),e.jsx(ot,{objective:t.objective,onFinish:y})]})})]})},{Panel:yt}=te,xt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!B.useBreakpoint().lg,S=async x=>{o([...a,x])},y=async(x="")=>{const{data:C}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubtopicObjectives",variables:{key:{value:x,type:"String",required:!1},subtopicId:{value:parseInt(t.subtopic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(C.results)},l=async x=>{const{data:C}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusObjective",variables:{id:{value:x,type:"Int",required:!0}},fields:["success","message"]}});C.success?(h.success(C.message),y()):h.error(C.message)},d=()=>e.jsx(c,{layout:"vertical",form:i,onFinish:x=>{y(x.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})}),f=()=>e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Objective"});return s.useEffect(()=>{y()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Objectives"}),e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:f()}),e.jsx(b,{span:24,children:d()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:16,children:d()}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:f()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subtopic Objective Found ...",style:{width:"100%"}}),e.jsx(te,{children:a.map(x=>e.jsxs(yt,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsx("span",{children:x.content})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Y,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>l(x.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{danger:!0,icon:e.jsx(ee,{})})})})}),children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(at,{objective:x})})}),e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(ut,{objective:x})})}),e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:24,children:e.jsx(rt,{objective:x})})})]},"objective-"+x.id))})]})})}),e.jsx(_,{title:"Adding Subtopic Objective",width:u?"100vw":"40vw",open:r,onClose:x=>j(x),children:e.jsx(et,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:t.subtopic,onFinish:S})})]})},{Panel:mt}=te,pt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!B.useBreakpoint().lg,S=async x=>{o([...a,x])},y=async(x="")=>{const{data:C}=await g.custom({url:"",method:"get",meta:{operation:"syllabusSubtopics",variables:{key:{value:x,type:"String",required:!1},topicId:{value:parseInt(t.topic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(C.results)},l=async x=>{const{data:C}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusSubtopic",variables:{id:{value:x,type:"Int",required:!0}},fields:["success","message"]}});C.success?(h.success(C.message),y()):h.error(C.message)},d=()=>e.jsx(c,{layout:"vertical",form:i,onFinish:x=>{y(x.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})}),f=()=>e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Sub-Topic"});return s.useEffect(()=>{y()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Subtopics"}),e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:f()}),e.jsx(b,{span:24,children:d()})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:16,children:d()}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:f()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No  Subtopic Found ...",style:{width:"100%"}}),e.jsx(te,{onChange:()=>{},children:a.map(x=>e.jsx(mt,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(P,{children:x.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:x.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Y,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>l(x.id),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{danger:!0,icon:e.jsx(ee,{})})})})}),children:e.jsx(xt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:x})},"subtopic-"+x.id))})]})})}),e.jsx(_,{title:"Adding Sub Topics",width:u?"100vw":"40vw",open:r,onClose:x=>j(x),children:e.jsx(Xe,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,onFinish:S})})]})},{Panel:ht}=te,gt=t=>{const[a,o]=s.useState([]),[i]=c.useForm(),[r,j]=s.useState(!1),u=!B.useBreakpoint().lg,S=async d=>{o([...a,d])},y=async(d="")=>{const{data:f}=await g.custom({url:"",method:"get",meta:{operation:"syllabusTopicsNarrow",variables:{key:{value:d,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(f.results)},l=async d=>{const{data:f}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusTopic",variables:{id:{value:d,type:"Int",required:!0}},fields:["success","message"]}});f.success?(h.success(f.message),o(a.filter(x=>x.id!==d))):h.error(f.message)};return s.useEffect(()=>{y()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(M,{style:{marginTop:10},children:[e.jsx(b,{span:16,children:e.jsx(c,{layout:"vertical",form:i,onFinish:d=>{y(d.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(b,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(v,{icon:e.jsx($,{}),size:"large",onClick:()=>j(!0),children:"Add New Topic"})})]})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(M,{children:e.jsxs(b,{span:24,children:[a.length===0&&e.jsx(ae,{description:"No Subject Topics Found ...",style:{width:"100%"}}),e.jsx(te,{children:a.map(d=>e.jsx(ht,{header:e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsx(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(P,{children:d.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:d.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Y,{title:"Delete the Topic",placement:"left",okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},disabled:!d.canDelete,onConfirm:()=>l(d.id),children:e.jsx(v,{danger:!0,icon:e.jsx(ee,{}),disabled:!d.canDelete})})})}),children:e.jsx(pt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:d})},d.id))})]})})}),e.jsx(_,{title:"Adding Topics",width:u?"100vw":"40vw",open:r,onClose:d=>j(d),children:e.jsx(Ge,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,onFinish:S})})]})},jt=t=>{const[a,o]=s.useState([]),[i,r]=s.useState();c.useForm();const[j]=c.useForm(),[n,u]=s.useState(!1),[S,y]=s.useState(!1),d=!B.useBreakpoint().lg,f=async T=>{r(T),y(!0)},x=async T=>{const{data:K}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabusEducationLevelSubject",variables:{subjectId:{value:parseInt(T.toString()),type:"Int",required:!0},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["success","message"]}});K.success?(h.success(K.message),C()):h.error(K.message)},C=async(T="")=>{const{data:K}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{key:{value:T,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(K.results)},O=()=>e.jsx(V,{title:"Add Subjects to "+t.educationLevel.name,placement:"top",color:"green",children:e.jsx(v,{icon:e.jsx($,{}),size:"small",onClick:()=>u(!0),children:"Subject(s)"})}),N=()=>e.jsxs("h3",{children:[t.educationLevel.name," Subjects"]});return s.useEffect(()=>{C()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(M,{children:[d&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"end"},children:O()}),e.jsx(b,{span:24,children:N()})]}),!d&&e.jsx(e.Fragment,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[N(),O()]})})]})}),e.jsx("div",{children:e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:d?24:12,children:e.jsx(c,{layout:"vertical",form:j,onFinish:T=>{C(T.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsxs("div",{style:{maxHeight:"55vh",minHeight:"55vh",overflowY:"auto"},children:[a.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("h3",{children:"No Subjects Found"})}),a.map(T=>e.jsx(U,{children:e.jsx(M,{children:e.jsxs(b,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx("a",{onClick:()=>f(T),children:T.name})}),e.jsxs("span",{children:[e.jsx(V,{title:"Manage Subject Syllabus",placement:"top",color:"green",children:e.jsx(v,{style:{margin:3},icon:e.jsx(je,{}),size:"small",type:"primary",onClick:()=>f(T)})}),e.jsx(Y,{title:"Are you sure delete/remove this Subject?",onConfirm:()=>x(T.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(ee,{}),size:"small",type:"primary",danger:!0})})]})]})})}))]}),e.jsx(ie,{title:"Adding Subjects",width:d?"100vw":"30vw",anchor:"right",onClose:T=>u(T),open:n,children:e.jsx(We,{educationLevel:t.educationLevel,syllabus:t.syllabus,onFinish:C})}),e.jsx(ie,{title:(i==null?void 0:i.name)+" Topics ",width:d?"100vw":"70vw",anchor:"right",onClose:T=>y(T),open:S,children:e.jsx(gt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:i})})]})},{TabPane:bt}=be,St=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(!1),n=!B.useBreakpoint().lg,u=async()=>{const{data:y}=await g.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});o(y.results)},S=async()=>{u()};return s.useEffect(()=>{u()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(V,{title:"Add New Education Level",placement:"top",color:"green",children:e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>r(!0),children:"Add Education Level"})}),e.jsxs(U,{style:{marginTop:3},children:[a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Education Levels Added"})}),a.length>0&&e.jsx(be,{defaultActiveKey:"1",tabPosition:"left",children:a.map(y=>e.jsx(bt,{tab:y.name,children:e.jsx(jt,{educationLevel:y,syllabus:t.syllabus,randKey:Math.random()})},y.id))})]}),e.jsx(_,{title:"Adding Education Levels",open:i,width:n?"100vw":"40vw",onClose:y=>r(y),children:e.jsx(Re,{randKey:Math.random(),syllabus:t.syllabus,onFinish:S})})]})},vt=t=>{const[a,o]=s.useState(),[i,r]=s.useState([]),[j,n]=s.useState(1),[u,S]=s.useState(0),[y,l]=s.useState(20),[d,f]=s.useState(""),[x,C]=s.useState(!1),[O,N]=s.useState(!0);W();const[T]=c.useForm();c.useForm();const k=!B.useBreakpoint().lg,[q,E]=s.useState(!1),[I,w]=s.useState(!1),[J,se]=s.useState(!1),ne=F=>{o(F),se(!0)},L=F=>{o(F),E(!0)},p=async F=>{const{data:m}=await g.custom({url:"",method:"post",meta:{operation:"deleteSyllabus",variables:{id:{value:F,type:"Int",required:!0}},fields:["success","message"]}});m.success?(h.success(m.message),r(i.filter(z=>z.id!==F))):h.error(m.message)},D=async(F,m)=>{const{data:z}=await g.custom({url:"",method:"post",meta:{operation:"publishUnpublishSyllabus",variables:{syllabusId:{value:F,type:"Int",required:!0},publish:{value:m,type:"Boolean",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","created","updated","isActive","isPublished","canDelete","canEdit","canManage"]}]}});z.success?(h.success(z.message),r(i.map(R=>R.id===z.syllabus.id?z.syllabus:R))):h.error(z.message)},Q=[{title:"Title",dataIndex:"title",fixed:!0,render:(F,m,z)=>e.jsx("span",{children:e.jsx("a",{children:m.title})})},{title:"Syllabus Type",dataIndex:"syllabusType",render:(F,m,z)=>{var R;return e.jsx("span",{children:e.jsx("a",{children:(R=m==null?void 0:m.syllabusType)==null?void 0:R.name})})}},{title:"Year",dataIndex:"year",render:(F,m,z)=>e.jsx("span",{children:m.year})},{title:"Published",dataIndex:"isPublished",render:(F,m,z)=>e.jsx(e.Fragment,{children:m!=null&&m.isPublished?e.jsx(e.Fragment,{children:e.jsx(Y,{title:"Unpublish this syllabus?",onConfirm:()=>D(m.id,!1),okText:"Unpublish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(P,{color:"green",children:"Published"})})})}):e.jsx(Y,{title:"Publish this syllabus?",onConfirm:()=>D(m.id,!0),okText:"Publish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(P,{color:"red",children:"Not Published"})})})})},{title:"Description",dataIndex:"description",render:(F,m,z)=>e.jsx("span",{children:m.description})},{title:"Created",dataIndex:"created",render:(F,m,z)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:new Date(m.created).toLocaleString()})})},{title:"Status",dataIndex:"isActive",render:(F,m,z)=>e.jsx("a",{children:m!=null&&m.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(F,m,z)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(V,{title:"Manage Syllabus Education Levels Subjects",placement:"top",color:"green",children:e.jsx(v,{disabled:!(m!=null&&m.canManage),onClick:()=>ne(m),icon:e.jsx(je,{})})}),e.jsx(Y,{title:"Are you sure to delete this Syllabus?",onConfirm:()=>p(m==null?void 0:m.id),okText:"Yes",cancelText:"No",disabled:!(m!=null&&m.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(ee,{}),disabled:!(m!=null&&m.canDelete)})}),e.jsx(v,{disabled:!(m!=null&&m.canEdit),onClick:()=>L(m),icon:e.jsx(ce,{})})]})}],Ie=async F=>{r([F,...i]),w(!1)},Ce=async F=>{r(i.map(m=>m.id===F.id?F:m)),E(!1)},de=async(F,m="",z=20)=>{const{data:R}=await g.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:F,type:"Int",required:!0},key:{value:m,type:"String",required:!1},pageSize:{value:z,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});n(R.page),S(R.total),C(R.hasNext),r(R.results),N(!1)},xe=()=>e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>w(!0),children:"Create/Add"}),me=()=>e.jsx(c,{layout:"vertical",form:T,onFinish:F=>{n(1),i.length=0,de(1,F.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})});return s.useEffect(()=>{de(j,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(M,{style:{marginTop:10},children:[k&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:xe()}),e.jsx(b,{span:24,children:me()})]}),!k&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:12,children:me()}),e.jsx(b,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:xe()})]})]}),e.jsx("div",{children:e.jsx(ye,{loading:O,columns:Q,dataSource:i,scroll:{x:!0},pagination:{onChange:(F,m)=>{l(m),de(F,d,m)},total:u,pageSize:y,position:["bottomCenter"],showQuickJumper:!0}})}),e.jsx(_,{title:"Creating/Adding Syllabus",width:k?"100vw":"40vw",open:I,onClose:F=>w(F),children:e.jsx($e,{onFinish:Ie,randKey:Math.random()})}),e.jsx(_,{title:"Edit Syllabus",width:k?"100vw":"40vw",open:q,onClose:F=>E(F),children:e.jsx(Ue,{onFinish:Ce,randKey:Math.random(),syllabus:a})}),e.jsx(_,{title:"Syllabus Education Levels Subjects",width:k?"100vw":"80vw",open:J,onClose:F=>se(F),children:e.jsx(St,{syllabus:a,randKey:Math.random()})})]})},ft=()=>{const{push:t}=W();return s.useEffect(()=>{document.title=re.system_name+": Syllabuses"},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(G,{children:[e.jsx(G.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(G.Item,{children:"Manage Syllabuses"})]})}),e.jsx(vt,{})]})},It=t=>{const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0),[u,S]=s.useState(20),[y,l]=s.useState(""),[d,f]=s.useState(!1),[x,C]=s.useState(!0);W();const[O]=c.useForm(),T=!B.useBreakpoint().lg,K=async E=>{const{data:I}=await g.custom({url:"",method:"post",meta:{operation:"addSyllabusManager",variables:{userId:{value:E,type:"Int",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});I.success?(h.success(I.message),o(a.filter(w=>parseInt(w.id.toString())!==parseInt(E.toString()))),t.onAdd(I.syllabusManager)):h.error(I.message)},k=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(E,I,w)=>e.jsx("span",{children:e.jsx("a",{children:I.fullName})})},{title:"Email",dataIndex:"email",render:(E,I,w)=>e.jsxs("span",{children:[I.email&&e.jsx(P,{color:"green",children:I.email}),I.phone&&e.jsx(P,{color:"green",children:I.phone})]})},{title:"",dataIndex:"action",render:(E,I,w)=>e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(Y,{title:"Are you sure to Add this Syllabus Manager?",placement:"left",onConfirm:()=>K(parseInt(I==null?void 0:I.id)),okText:"Yes",cancelText:"No",disabled:!(I!=null&&I.canManage),overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx($,{}),disabled:!(I!=null&&I.canManage),danger:!0})})})}],q=async(E,I="",w=20)=>{const{data:J}=await g.custom({url:"",method:"get",meta:{operation:"syllabusManagersToAdd",variables:{page:{value:E,type:"Int",required:!0},key:{value:I,type:"String",required:!1},pageSize:{value:w,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}});r(J.page),n(J.total),f(J.hasNext),o(J.results),C(!1)};return s.useEffect(()=>{q(i)},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{style:{marginTop:10},children:e.jsx(b,{span:T?24:18,children:e.jsx(c,{layout:"vertical",form:O,onFinish:E=>{r(1),a.length=0,q(1,E.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(ye,{loading:x,columns:k,dataSource:a,scroll:{x:!0},pagination:{onChange:(E,I)=>{S(I),q(E,y,I)},total:j,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}})]})},Ct=t=>{s.useState();const[a,o]=s.useState([]),[i,r]=s.useState(1),[j,n]=s.useState(0),[u,S]=s.useState(20),[y,l]=s.useState(""),[d,f]=s.useState(!1),[x,C]=s.useState(!0);W();const[O]=c.useForm(),T=!B.useBreakpoint().lg,[K,k]=s.useState(!1),q=async L=>{const{data:p}=await g.custom({url:"",method:"post",meta:{operation:"removeSyllabusManager",variables:{id:{value:L,type:"Int",required:!0}},fields:["success","message"]}});p.success?(h.success(p.message),o(a.filter(D=>D.id!==L))):h.error(p.message)},E=async(L,p)=>{const{data:D}=await g.custom({url:"",method:"post",meta:{operation:"blockUnblockSyllabusManager",variables:{id:{value:L,type:"Int",required:!0},block:{value:p,type:"Boolean",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});D.success?(h.success(D.message),o(a.map(Q=>Q.id===L?D.syllabusManager:Q))):h.error(D.message)},I=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(L,p,D)=>e.jsx("span",{children:e.jsx("a",{children:p.user.fullName})})},{title:"Email",dataIndex:"email",render:(L,p,D)=>e.jsxs("span",{children:[p.user.email&&e.jsx(P,{color:"green",children:p.user.email}),p.user.phone&&e.jsx(P,{color:"green",children:p.user.phone})]})},{title:"Date Created",dataIndex:"created",render:(L,p,D)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:new Date(p.created).toLocaleString()})})},{title:"Status",dataIndex:"isActive",render:(L,p,D)=>e.jsx("a",{children:p!=null&&p.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(L,p,D)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(Y,{title:"Are you sure to delete this Syllabus Manager?",placement:"left",onConfirm:()=>q(parseInt(p==null?void 0:p.id)),onCancel:()=>{},okText:"Yes",cancelText:"No",disabled:!(p!=null&&p.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(v,{style:{marginRight:10},icon:e.jsx(ee,{}),disabled:!(p!=null&&p.canDelete),danger:!0})}),p.isActive?e.jsx(Y,{title:"Blocking Manager???",placement:"left",onConfirm:()=>E(parseInt(p==null?void 0:p.id),!1),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(Ae,{}),disabled:!(p!=null&&p.canManage),danger:!0})}):e.jsx(Y,{title:"Blocking Manager???",placement:"left",onConfirm:()=>E(parseInt(p==null?void 0:p.id),!0),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(v,{icon:e.jsx(qe,{}),disabled:!(p!=null&&p.canEdit),danger:!0})})]})}],w=async(L,p="",D=20)=>{const{data:Q}=await g.custom({url:"",method:"get",meta:{operation:"syllabusManagers",variables:{page:{value:L,type:"Int",required:!0},key:{value:p,type:"String",required:!1},pageSize:{value:D,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});r(Q.page),n(Q.total),f(Q.hasNext),o(Q.results),C(!1)},J=async L=>{o([L,...a])},se=()=>e.jsx(e.Fragment,{children:e.jsx(c,{layout:"vertical",form:O,onFinish:L=>{r(1),a.length=0,w(1,L.key)},children:e.jsx(c.Item,{name:"key",children:e.jsx(A,{size:"large",placeholder:"Search ...",prefix:e.jsx(X,{}),autoComplete:"off",allowClear:!0})})})}),ne=()=>e.jsx(v,{size:"large",icon:e.jsx($,{}),onClick:()=>k(!0),danger:!0,children:"Add Manager"});return s.useEffect(()=>{w(i)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(M,{style:{marginTop:10},children:[T&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:24,style:{display:"flex",justifyContent:"end"},children:ne()}),e.jsx(b,{span:24,children:se()})]}),!T&&e.jsxs(e.Fragment,{children:[e.jsx(b,{span:10,children:se()}),e.jsx(b,{span:14,style:{display:"flex",justifyContent:"end"},children:ne()})]})]}),e.jsx(ye,{loading:x,columns:I,dataSource:a,scroll:{x:!0},pagination:{onChange:(L,p)=>{S(p),w(L,y,p)},total:j,pageSize:u,position:["bottomCenter"],showQuickJumper:!0}}),e.jsx(ie,{title:"Adding Syllabus Manager",width:T?"100vw":"35vw",anchor:"right",onClose:L=>k(L),open:K,children:e.jsx(It,{onAdd:J})})]})},Tt=()=>(s.useEffect(()=>{document.title=re.system_name+": Syllabuses Managers"},[]),e.jsx("div",{style:{marginTop:10},children:e.jsx(Ct,{})})),Ut=t=>{const{page:a}=t;return a==="SyllabusesManagersPage"?e.jsx(Tt,{}):a==="SyllabusesManagementPage"?e.jsx(ft,{}):a==="SyllabusesPage"?e.jsx(Ye,{}):a==="SyllabusHomePage"?e.jsx(Be,{}):e.jsx("div",{children:"Page not found ..."})};export{Ut as SyllabusPages};
