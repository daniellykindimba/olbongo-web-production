import{r as l,c as S,j as e,G as se,I as ie,e as ke,a as ne,y as Y,C as ce,S as xe,Y as Be,Z as H,ag as Ot,B as A,a0 as He,i as ut,_ as v,A as $e,F as Oe,ah as Fe,ai as fe,aj as Se,g as O,ak as _t,H as T,al as de,am as ht,an as ge,m as Ge,n as Je,o as Qe,ac as De,R as G,d as z,ao as ee,ap as Ke,h as je,aq as tt,l as Ne,ar as mt,as as ft,at as Et,$ as nt,a5 as Xe,au as Ft,z as Nt,M as te,av as Lt,aw as qt,ax as At,s as K,ay as Ze,az as zt,aA as gt,a3 as et,aB as Yt,aC as Vt,aD as Wt,t as X,a6 as U,b as le,aE as Rt,f as Re,T as Ue,D as Ut,J as Bt,K as Ht,aF as $t,a7 as Gt,a8 as Jt,O as Qt,aG as xt,L as Ye,W as Kt,aH as Xt,aI as Ve,aJ as Zt,aK as en}from"./index-c92f9f6b.js";import{l as tn}from"./index-742844e5.js";import{I as pt}from"./index.es-7ae13c2d.js";import{t as rt}from"./text_truncate-315d9efa.js";import{B as nn}from"./book_payment_form-7e09c370.js";const rn=a=>{const[t,n]=l.useState([]),[r,s]=l.useState(!0),[i,o]=l.useState(1),[d,h]=l.useState(0),[m,f]=l.useState(0),[g,y]=l.useState(24),[D,j]=l.useState(""),[b,M]=l.useState(!0),[F,q]=l.useState(!1),[N]=S.useForm(),V=async u=>{const{data:C}=await O.custom({url:"",method:"post",meta:{operation:"removeDarasaArchive",variables:{id:{value:u,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error removing from archive"),{data:null})).then(x=>x);C&&(C.success?(v.success(C.message),n(t.filter(x=>x.id!==u))):v.error(C.message)),fe.destroyAll()},W=u=>{fe.confirm({title:"Confirm",icon:e.jsx(Se,{}),content:"Removing Class From Archive ....",okText:"Restore",cancelText:"Cancel",onOk:()=>V(u)})},L=async(u,C=24,x="")=>{const{data:k}=await O.custom({url:"",method:"get",meta:{operation:"madarasaArchives",variables:{page:{value:u,type:"Int",required:!0},key:{value:x,type:"String",required:!1},pageSize:{value:C,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:_t}]}}).catch(_=>(console.error(_),v.error("Error fetching archives"),{data:null})).then(_=>_);k&&(h(k.total),o(k.page),f(k.pages),M(k.hasNext),q(k.hasPrev),n(k.results)),s(!1)};return l.useEffect(()=>{L(1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(se,{container:!0,children:e.jsx(se,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:e.jsx(S,{layout:"vertical",form:N,onFinish:u=>{o(0),L(0,g,u.key)},children:e.jsx(S.Item,{name:"key",children:e.jsx(ie,{size:"large",placeholder:"Search Classes Archives...",prefix:e.jsx(ke,{}),autoComplete:"off",allowClear:!0,disabled:r})})})})}),e.jsx(ne,{spinning:r,children:e.jsx(Y,{children:t.length>0?e.jsx(se,{container:!0,children:t.map(u=>e.jsx(se,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:e.jsxs(ce,{hoverable:u.isActive,style:{marginRight:10},children:[e.jsx(xe,{style:{right:0,position:"absolute"},children:e.jsx(Be,{trigger:["click"],overlay:e.jsx(H,{children:e.jsx(H.Item,{icon:e.jsx(Ot,{}),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>W(u.id),children:"Restore"})},"class-archive-"+u.id)}),overlayStyle:{zIndex:9999},children:e.jsx(A,{type:"link",size:"large",className:"ant-dropdown-link",onClick:C=>C.preventDefault(),style:{zIndex:1},children:e.jsx(He,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx(ut.Ribbon,{text:u.darasa.code,placement:"start",color:"orange",children:e.jsx("a",{onClick:()=>{v("Drive To Connect")},children:e.jsxs(xe,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx($e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Oe,{}),src:u.darasa.icon}),e.jsx("span",{style:{fontSize:20},children:u.darasa.name})]})})})]})}))}):e.jsx(Fe,{severity:"info",sx:{fontSize:18},children:r?e.jsx(e.Fragment,{children:"Loading ..."}):e.jsx(e.Fragment,{children:"No Class Found in Archives"})})})}),(b||F)&&!r&&e.jsx(Y,{children:e.jsx(tn.Pagination,{showSizeChanger:!0,onShowSizeChange:(u,C)=>{o(u),y(C),L(u,C||g,D)},defaultCurrent:i,total:d,onChange:(u,C)=>{o(u),y(C||g),L(u,C||g,D)}})})]})},an=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Classes Archives"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(rn,{})})]}),{Title:Te,Text:Pe}=ht,vt=a=>{const[t,n]=l.useState(),[r,s]=l.useState(!0),i=async o=>{const{data:d}=await O.custom({url:"",method:"get",meta:{operation:"darasa",variables:{id:{value:o,type:"Int",required:!0}},fields:ge}}).catch(()=>(v.error("Error fetching darasa"),{data:null}));d&&n(d),s(!1)};return l.useEffect(()=>{i(a.id)},[a.id]),e.jsxs(ne,{spinning:r,children:[e.jsx(Te,{level:5,children:"Class Name"}),e.jsx(Pe,{children:t==null?void 0:t.name}),e.jsx(Te,{level:5,children:"Class Code"}),e.jsx(Pe,{children:t==null?void 0:t.code}),e.jsx(Te,{level:5,children:"Class Description"}),e.jsx(Pe,{children:t==null?void 0:t.description}),e.jsx(Te,{level:5,children:"Class Author"}),e.jsx(Pe,{children:t==null?void 0:t.user.profile.fullName})]})},sn=a=>{const[t,n]=l.useState(!1),[r,s]=l.useState("");return e.jsx(e.Fragment,{children:e.jsxs(S,{layout:"vertical",form:a.form,onFinish:i=>{i.payable=t,i.description=r,a.onFinish(i)},requiredMark:!0,autoComplete:"off",children:[e.jsx(S.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Name is required"}],children:e.jsx(ie,{size:"large",placeholder:"Enter Name ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ge.CKEditor,{editor:Je,data:r,onReady:i=>{i.editing.view.change(o=>{o.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,o)=>{const d=o.getData();s(d)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(S.Item,{name:"payable",children:e.jsx(Qe,{onChange:i=>n(i.target.checked),children:"Payable"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(S.Item,{name:"price",label:"Cost",initialValue:0,rules:[{required:t,type:"number",validator:(i,o)=>o<=0?Promise.reject("Price cannot be less than 0"):Promise.resolve()}],children:e.jsx(De,{size:"large",style:{width:"100%"},precision:2})}),e.jsxs(G,{children:[e.jsx(z,{span:8,children:e.jsx(S.Item,{name:"duration",label:"Duration",initialValue:1,wrapperCol:{span:24},rules:[{required:t,type:"number",message:"Please enter duration"}],children:e.jsx(De,{size:"large",style:{width:"100%"}})})}),e.jsx(z,{span:12,children:e.jsx(S.Item,{label:"Duration Type",name:"duration_type",wrapperCol:{span:12},initialValue:"months",rules:[{required:t,type:"string",message:"Please select duration type"}],children:e.jsxs(ee,{size:"large",dropdownStyle:{zIndex:9999},children:[e.jsx(ee.Option,{value:"days",children:"Days"}),e.jsx(ee.Option,{value:"months",children:"Months"}),e.jsx(ee.Option,{value:"years",children:"Years"})]})})})]}),e.jsx(S.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,type:"object",message:"Please select Start Date"}],children:e.jsx(Ke,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<je().endOf("day"),popupStyle:{zIndex:9999}})})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(A,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},on=a=>{const[t,n]=l.useState(a.darasa.payable),[r,s]=l.useState(a.darasa.description);return l.useEffect(()=>{a.form.setFieldsValue({name:a.darasa.name,description:a.darasa.description,payable:a.darasa.payable,price:a.darasa.price,duration:a.darasa.duration,duration_type:a.darasa.durationType,start_date:tt(a.darasa.startDate),end_date:tt(a.darasa.endDate)})},[a.darasa,a.form]),e.jsx(e.Fragment,{children:e.jsxs(S,{layout:"vertical",form:a.form,onFinish:i=>{i.id=parseInt(a.darasa.id),i.payable=t,i.description=r,a.onFinish(i)},requiredMark:!1,children:[e.jsx(S.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Name is required"}],children:e.jsx(ie,{size:"large",placeholder:"Enter Name ..."})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{style:{marginBottom:10},children:e.jsx(Ge.CKEditor,{editor:Je,data:r,onReady:i=>{i.editing.view.change(o=>{o.setStyle("min-height","150px",i.editing.view.document.getRoot())})},onChange:(i,o)=>{const d=o.getData();s(d)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}})})]}),e.jsx(S.Item,{name:"payable",children:e.jsx(Qe,{defaultChecked:t,onChange:i=>n(i.target.checked),children:"Payable"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(S.Item,{name:"price",label:"Cost",initialValue:0,rules:[{required:t,type:"number",validator:(i,o)=>o<=0?Promise.reject("Price cannot be less than 0"):Promise.resolve()}],children:e.jsx(De,{size:"large",style:{width:"100%"},precision:2})}),e.jsxs(G,{children:[e.jsx(z,{span:8,children:e.jsx(S.Item,{name:"duration",label:"Duration",initialValue:1,wrapperCol:{span:24},rules:[{required:t,type:"number",message:"Please enter duration"}],children:e.jsx(De,{size:"large",style:{width:"100%"}})})}),e.jsx(z,{span:12,children:e.jsx(S.Item,{label:"Duration Type",name:"duration_type",wrapperCol:{span:12},initialValue:"months",rules:[{required:t,type:"string",message:"Please select duration type"}],children:e.jsxs(ee,{size:"large",dropdownStyle:{zIndex:9999},children:[e.jsx(ee.Option,{value:"days",children:"Days"}),e.jsx(ee.Option,{value:"months",children:"Months"}),e.jsx(ee.Option,{value:"years",children:"Years"})]})})})]}),e.jsx(S.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,type:"object",message:"Please select Start Date"}],children:e.jsx(Ke,{size:"large",style:{width:"50%"},disabledDate:i=>i.add(1,"day")<je().endOf("day"),popupStyle:{zIndex:9999}})})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(A,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Paragraph:ln}=ht,Le=a=>{const[t,n]=l.useState(!1),[r,s]=l.useState([]),[i,o]=l.useState(),[d,h]=l.useState(),[m,f]=l.useState(!0),[g,y]=l.useState(1),[D,j]=l.useState(0),[b,M]=l.useState(24),[F,q]=l.useState(!0),[N,V]=l.useState(!1),[W]=S.useForm(),[L,u]=l.useState(!1),[C,x]=l.useState(!1),{push:k}=Ne(),[_]=S.useForm(),[ae,ue]=l.useState(!1),[be,R]=l.useState(!1),J=c=>{o(c),R(!0)},Z=c=>{o(c),x(!0)},Ae=c=>{h(c),ue(!0)},p=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"connectClass",variables:{id:{value:c,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error connecting darasa"),{data:null})).then(E=>E);w&&(w.success?(ue(!1),h(null),v(w.message),s(r.filter(E=>E.id!==c))):v.error(w.message))},P=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"addDarasaArchive",variables:{id:{value:c,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error adding darasa to archive"),{data:null})).then(E=>E);w&&(w.success?(v.success(w.message),s(r.filter(E=>E.id!==c))):v.error(w.message)),fe.destroyAll()},B=c=>{fe.confirm({title:"Confirm",icon:e.jsx(Se,{}),content:"Adding Class To Archive ....",okText:"Add",cancelText:"Cancel",onOk:()=>P(c)})},he=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"createDarasa",variables:{name:{value:c.name,type:"String",required:!0},description:{value:c.description,type:"String",required:!0},payable:{value:c.payable,type:"Boolean",required:!1},price:{value:c.price,type:"Float",required:!1},duration:{value:c.duration,type:"Int",required:!1},durationType:{value:c.duration_type,type:"String",required:!1},startDate:{value:c.start_date,type:"String",required:!1}},fields:["success","message",{darasa:ge}]}}).catch(()=>(v.error("Error creating darasa"),{data:null})).then(E=>E);w&&(w.success?(v.success(w.message),u(!1),s([w.darasa,...r])):v.error(w.message))},ze=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"updateDarasa",variables:{id:{value:c.id,type:"Int",required:!0},name:{value:c.name,type:"String",required:!0},description:{value:c.description,type:"String",required:!0},payable:{value:c.payable,type:"Boolean",required:!1},price:{value:c.price,type:"Float",required:!1},duration:{value:c.duration,type:"Int",required:!1},durationType:{value:c.duration_type,type:"String",required:!1},startDate:{value:c.start_date,type:"String",required:!1}},fields:["success","message",{darasa:ge}]}}).catch(()=>(v.error("Error updating darasa"),{data:null})).then(E=>E);w&&(w.success?(v.success(w.message),x(!1),s(r.map(E=>E.id===c.id?w.darasa:E))):v.error(w.message))},St=()=>{_.resetFields(),u(!0)},Dt=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"disconnectClass",variables:{classId:{value:c,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error disconnecting darasa"),{data:null})).then(E=>E);w&&(w.success?(v.success(w.message),s(r.filter(E=>E.id!==c))):v.error(w.message))},kt=c=>{fe.confirm({title:"Disconnecting Class",icon:e.jsx(Se,{}),content:"Are you sure ...",okText:"Disconnect",cancelText:"Cancel",onOk:()=>Dt(c)})},Mt=async c=>{const{data:w}=await O.custom({url:"",method:"post",meta:{operation:"deleteDarasa",variables:{id:{value:c,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error deleting darasa"),{data:null})).then(E=>E);w&&(w.success?(v.success(w.message),s(r.filter(E=>E.id!==c))):v.error(w.message))},Tt=c=>{fe.confirm({title:"Deleting Class",icon:e.jsx(Se,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>Mt(c)})},Me=async(c,w=24,E="")=>{f(!0);const{data:ve}=await O.custom({url:"",method:"get",meta:{operation:"myMadarasa",variables:{page:{value:c,type:"Int",required:!0},key:{value:E,type:"String",required:!1},pageSize:{value:w,type:"Int",required:!0},where:{value:{mode:a.mode},type:"JSON",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:ge}]}}).catch(()=>(v.error("Error getting darasas"),{data:null})).then(It=>It);ve&&(j(ve.total),y(ve.page),q(ve.hasNext),V(ve.hasPrev),s(ve.results)),f(!1)},Pt=async()=>{const{data:c}=await O.custom({url:"",method:"get",meta:{operation:"darasaAuth",variables:{},fields:["auth"]}}).catch(()=>(v.error("Error getting darasa auth"),{data:null})).then(w=>w);c&&n(c.auth.create_classes)};return l.useEffect(()=>{Pt(),Me(1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{container:!0,children:[e.jsx(se,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsx(S,{layout:"vertical",form:W,onFinish:c=>{y(1),Me(1,b,c.key)},children:e.jsx(S.Item,{name:"key",children:e.jsx(ie,{size:"large",placeholder:"Search Classes...",prefix:e.jsx(ke,{}),autoComplete:"off",allowClear:!0,disabled:m})})})}),e.jsx(se,{item:!0,xs:12,sm:6,md:8,lg:8,sx:{display:"flex",justifyContent:"flex-end",paddingBottom:{xs:2,sm:0,md:0,lg:0}},children:a.mode!=="connect"&&e.jsx(A,{size:"large",icon:e.jsx(mt,{}),onClick:()=>St(),disabled:!t||m,children:"Create Class"})})]}),e.jsx(ne,{spinning:m,children:r.length>0?e.jsx(se,{container:!0,children:r.map(c=>e.jsx(se,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsxs(ce,{hoverable:c.isActive,style:{marginRight:10,marginBottom:5},children:[e.jsx(xe,{style:{right:0,position:"absolute"},children:e.jsx(Be,{trigger:["click"],overlay:e.jsxs(H,{children:[c.isConnected?e.jsxs(e.Fragment,{children:[e.jsx(H.Item,{icon:e.jsx(Oe,{}),disabled:!c.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>{c.isActive&&c.isConnected?k("/oclass/class/session/"+c.id+"/"+c.code):c.isActive&&!c.isConnected?Ae(c):v("Class is Blocked")},children:"Open"})}),e.jsx(H.Item,{icon:e.jsx(ft,{}),onClick:()=>Z(c),disabled:!(c!=null&&c.canManage),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Edit"})}),e.jsx(H.Item,{icon:e.jsx(Et,{}),onClick:()=>J(c),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Share"})}),e.jsx(H.Item,{icon:e.jsx(nt,{}),onClick:()=>v("Under construction"),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Report"})}),c.isAuthor?e.jsx(e.Fragment,{}):e.jsx(H.Item,{icon:e.jsx(nt,{}),onClick:()=>kt(c.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Disconnect"})}),e.jsx(H.Item,{icon:e.jsx(Xe,{}),onClick:()=>Tt(c.id),disabled:!(c!=null&&c.canDelete),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}),e.jsx(H.Item,{icon:e.jsx(Ft,{}),onClick:()=>B(c.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Archive"})},"drive-archive-"+c.id)]}):e.jsx(e.Fragment,{}),c.isConnected?e.jsx(e.Fragment,{}):e.jsx(H.Item,{icon:e.jsx(Oe,{}),disabled:!c.isActive,children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",onClick:()=>k("/oclass/class/session/"+c.id+"/"+c.code),children:"Connect"})})]}),overlayStyle:{zIndex:9999},children:e.jsx(A,{type:"link",size:"large",className:"ant-dropdown-link",style:{zIndex:1},onClick:w=>w.preventDefault(),children:e.jsx(He,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})}),e.jsx(ut.Ribbon,{text:c.code,placement:"start",color:"orange",children:e.jsx("a",{onClick:()=>k("/oclass/class/session/"+c.id+"/"+c.code),children:e.jsxs(xe,{direction:"vertical",align:"center",style:{width:"100%",justifyContent:"center"},children:[e.jsx($e,{size:{xs:24,sm:32,md:40,lg:40,xl:40,xxl:80},icon:e.jsx(Oe,{}),src:c.icon}),e.jsx("span",{style:{fontSize:20},children:c.name})]})})})]})},c.id))}):e.jsx(Fe,{severity:"info",sx:{fontSize:18},children:m?e.jsx(e.Fragment,{children:"Loading ..."}):e.jsx(e.Fragment,{children:"No Classes Found"})})}),(F||N)&&!m&&e.jsx(Y,{children:e.jsx(Nt,{showSizeChanger:!0,onShowSizeChange:(c,w)=>{y(c),M(w),Me(c,w)},defaultCurrent:g,total:D,onChange:(c,w)=>{y(c),M(w||b),Me(c,w||b)}})}),e.jsx(te,{title:"Creating Class",open:L,destroyOnClose:!0,width:"40vw",onClose:c=>u(c),children:e.jsx(sn,{form:_,onFinish:he})}),e.jsx(te,{title:"Editting Class",width:"40vw",open:C,onClose:c=>x(c),children:e.jsx(on,{darasa:i,form:_,onFinish:ze})}),e.jsx(te,{title:"Connecting "+(d==null?void 0:d.name),open:ae,onClose:c=>ue(c),children:e.jsxs(e.Fragment,{children:[e.jsx(vt,{id:d==null?void 0:d.id}),e.jsx(A,{onClick:()=>p(d==null?void 0:d.id),style:{position:"absolute",bottom:0,right:0,margin:10},children:"Connect"})]})}),e.jsx(te,{title:"Share Class",open:be,width:"40vw",onClose:c=>R(c),children:e.jsx(ce,{title:"Click Copy icon to copy share link",children:e.jsx(ln,{copyable:{icon:[e.jsx(Lt,{},"copy-icon"),e.jsx(qt,{},"copied-icon")],tooltips:["click here","you clicked!!"],onCopy:()=>{v.success("Link Successfully Copied")}},style:{textAlign:"center",fontSize:20},children:At.site_url+"/oclass/class/session/"+(i==null?void 0:i.id)+"/"+(i==null?void 0:i.code)})})})]})},cn=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Connect Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Le,{mode:"connect"})})]}),dn=()=>e.jsxs("div",{style:{marginTop:10},children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Le,{mode:"all"})})]}),{TabPane:Q}=gt,un=l.lazy(()=>K(()=>import("./class_announcements-1e838fb6.js"),["assets/class_announcements-1e838fb6.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/text_truncate-315d9efa.js"]).then(a=>({default:a.ClassAnnouncements}))),hn=l.lazy(()=>K(()=>import("./class_drives-2df0ff6e.js"),["assets/class_drives-2df0ff6e.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassDrives}))),mn=l.lazy(()=>K(()=>import("./class_assignments-b1de6839.js"),["assets/class_assignments-b1de6839.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassAssignments}))),fn=l.lazy(()=>K(()=>import("./class_files-2911d723.js"),["assets/class_files-2911d723.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/file_item_component-e91df2a0.js","assets/index-8dba23b7.js","assets/index-c439524c.js","assets/toConsumableArray-bbf3d55f.js","assets/index.esm-2a6d2955.js","assets/iconBase-1d410209.js","assets/index-fb8c891a.js","assets/file_item_component-3ade1005.css"]).then(a=>({default:a.ClassFiles}))),gn=l.lazy(()=>K(()=>import("./class_resources_links-8103ee2d.js"),["assets/class_resources_links-8103ee2d.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassResurcesLinks}))),xn=l.lazy(()=>K(()=>import("./class_students-8cf96965.js"),["assets/class_students-8cf96965.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassStudents}))),pn=l.lazy(()=>K(()=>import("./class_videos-012e6456.js"),["assets/class_videos-012e6456.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/index-c439524c.js","assets/toConsumableArray-bbf3d55f.js","assets/index-742844e5.js","assets/index-f6c51ccc.js","assets/index-9cea7caf.js"]).then(a=>({default:a.ClassVideos}))),vn=l.lazy(()=>K(()=>import("./class_virtual_session-36c3023e.js"),["assets/class_virtual_session-36c3023e.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/index-742844e5.js","assets/toConsumableArray-bbf3d55f.js","assets/index-f6c51ccc.js","assets/index-9cea7caf.js","assets/index.es-7ae13c2d.js","assets/text_truncate-315d9efa.js","assets/book_payment_form-7e09c370.js"]).then(a=>({default:a.ClassVirtualSessions}))),yn=l.lazy(()=>K(()=>import("./feeds-3f407ed8.js"),["assets/feeds-3f407ed8.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/index.es-7ae13c2d.js","assets/index-fb8c891a.js","assets/toConsumableArray-bbf3d55f.js","assets/feeds-eb3240d6.css"]).then(a=>({default:a.PostsComponent}))),jn=l.lazy(()=>K(()=>import("./class_topics-9c9b8c83.js"),["assets/class_topics-9c9b8c83.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css","assets/iconBase-1d410209.js","assets/Collapse-f95218a2.js","assets/index-f6c51ccc.js"]).then(a=>({default:a.ClassTopics}))),bn=l.lazy(()=>K(()=>import("./class_payments-1b0ebc02.js"),["assets/class_payments-1b0ebc02.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassPayments}))),Cn=l.lazy(()=>K(()=>import("./class_disbursements-30322c50.js"),["assets/class_disbursements-30322c50.js","assets/index-c92f9f6b.js","assets/index-0f16d226.css"]).then(a=>({default:a.ClassDisbursement}))),wn=a=>{const[t,n]=l.useState(),[r,s]=l.useState(!0),[i,o]=l.useState("1"),{push:d}=Ne(),h=Ze(),m=async f=>{const{data:g}=await O.custom({url:"",method:"get",meta:{operation:"darasa",variables:{id:{value:parseInt(f.toString()),type:"Int",required:!0}},fields:ge}}).catch(()=>(v.error("Error fetching darasa"),{data:null})).then(y=>y);g&&(n(g),s(!1))};return l.useEffect(()=>{m(h.id),localStorage.getItem("currentClass")===h.id.toString()?o(localStorage.getItem("classCurrentTabIndex")??"1"):(localStorage.setItem("currentClass",h.id.toString()),o("1"))},[h.id]),e.jsx(e.Fragment,{children:e.jsxs(ne,{spinning:r,children:[e.jsx("div",{style:{marginTop:5,marginBottom:5},children:e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx("a",{onClick:()=>d("/oclass"),children:"Home"})}),e.jsx(T.Item,{children:e.jsx("a",{onClick:()=>d("/oclass"),children:"Classes"})}),e.jsxs(T.Item,{children:["Class Session",e.jsx(zt,{}),t!=null&&t.name?e.jsxs("span",{style:{color:"orange"},children:[t==null?void 0:t.name," - ","{"+(t==null?void 0:t.code)+"}"]}):e.jsx(e.Fragment,{})]})]})}),(t==null?void 0:t.isBlocked)&&e.jsx(Fe,{severity:"warning",sx:{fontSize:18},children:"You have been blocked from this class, please contact the class owner for more information."}),!(t!=null&&t.isBlocked)&&e.jsx("div",{style:{marginTop:10,background:"white",padding:10},children:e.jsxs(gt,{type:"card",tabBarExtraContent:e.jsxs(e.Fragment,{children:[(t==null?void 0:t.canManage)&&e.jsx(et,{title:e.jsx(Y,{sx:{fontSize:20},children:t!=null&&t.published?"Are you sure you want to unpublish this class?":"Are you sure you want to publish this class?"}),description:e.jsx(Y,{sx:{fontSize:18,width:"20vw"},children:t!=null&&t.published?"This class will be unpublished and students will not be able to see it. and it will be unlisted from Market Place":"This class will be published and students will be able to see it. And it will be listed in Market Place"}),onConfirm:()=>{console.log("publishing class")},okText:t!=null&&t.published?"Yes, Unpublish":"Yes, Publish",cancelText:"No",children:e.jsx(A,{icon:t!=null&&t.published?e.jsx(Yt,{}):e.jsx(Vt,{}),disabled:!(t!=null&&t.canManage),children:t!=null&&t.published?"Unpublish":"Publish"})}),e.jsx(A,{icon:e.jsx(Wt,{}),disabled:!(t!=null&&t.canManage),children:"Configs"})]}),activeKey:i,onTabClick:f=>{o(f.toString()),localStorage.setItem("classCurrentTabIndex",f)},children:[e.jsx(Q,{tab:"Class Feeds",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(yn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"1"),e.jsx(Q,{tab:"Files",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(fn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"2"),e.jsx(Q,{tab:"Connected Drives",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(hn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"3"),e.jsx(Q,{tab:"Topics",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(jn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"12"),e.jsx(Q,{tab:"Resources Links",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(gn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"4"),e.jsx(Q,{tab:"Videos",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(pn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"5"),e.jsx(Q,{tab:"Virtual Sessions",disabled:!1,children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(vn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"6"),e.jsx(Q,{tab:"Assignments",disabled:!1,children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(mn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"7"),e.jsx(Q,{tab:"Announcements",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(un,{id:h.id,canManage:t==null?void 0:t.canManage})})},"8"),e.jsx(Q,{tab:"Students",children:e.jsx(xn,{id:h.id,canManage:t==null?void 0:t.canManage})},"9"),(t==null?void 0:t.payable)&&(t==null?void 0:t.canManage)&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{tab:"Payments",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(bn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"10"),e.jsx(Q,{tab:"Disbursements",children:e.jsx(l.Suspense,{fallback:e.jsx(X,{}),children:e.jsx(Cn,{id:h.id,canManage:t==null?void 0:t.canManage})})},"11")]})]})})]})})},yt=a=>{const[t,n]=l.useState(!1),[r,s]=l.useState(!1),[i,o]=l.useState(""),[d,h]=l.useState([]),[m,f]=l.useState(""),[g]=S.useForm(),y=async()=>{const{data:j}=await O.custom({url:"",method:"get",meta:{operation:"paymentSupportedTelecomCarriers",variables:{},fields:[{results:["id","name"]}]}}).catch(()=>(v.error("Error getting supported carriers"),{data:null})).then(b=>b);if(j){const b=j.results,M=[];b.forEach(F=>{M.push(F.name)}),h(M)}},D=async j=>{n(!0);const{data:b}=await O.custom({url:"",method:"post",meta:{operation:"validateMobilePhoneNumber",variables:{phone:{value:j,type:"String",required:!0}},fields:["success","message","carrier","formattedPhone"]}}).catch(()=>(v.error("Error Validating Mobile Phone Number"),{data:null})).then(M=>M);return b&&(s(b.success),b.success||(o(b.message),f(b.carrier))),n(!1),b};return l.useEffect(()=>{y()},[a.randKey]),e.jsxs("div",{children:[e.jsxs(U,{title:"",column:1,children:[e.jsx(U.Item,{label:"Class Name",children:a.darasa.name}),e.jsx(U.Item,{label:"Class Code",children:a.darasa.code}),e.jsx(U.Item,{label:"Cost",children:e.jsxs("span",{style:{fontSize:22},children:[a.darasa.price.toLocaleString(),"/= Tsh"]})}),e.jsx(U.Item,{label:"Description",children:a.darasa.description})]}),e.jsxs(S,{layout:"vertical",form:g,requiredMark:!0,autoComplete:"off",children:[e.jsx(S.Item,{name:"phone",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Mobile Phone Number"}),m.length>0&&e.jsx(le,{color:"green",style:{marginLeft:10},children:m}),t&&e.jsx(ne,{spinning:t})]}),rules:[{required:!0,type:"string",message:"Required"},{validator:async(j,b)=>{if(b.length>=10){if(!t){const M=await D(b).then(F=>F);if(M!=null&&M.success)f(M.carrier),s(!0);else return f(""),Promise.reject(M==null?void 0:M.message)}}else s(!1)}}],children:e.jsx(ie,{size:"large",placeholder:"Mobile Phone Number ..."})}),d.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:"Supported Payment Merchants"}),e.jsx("span",{children:d.map(j=>e.jsx(le,{color:"red",children:j}))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(A,{type:"primary",size:"large",htmlType:"submit",disabled:!r,children:"Pay"})})]})]})},Sn=()=>{const[a,t]=l.useState(!0),[n,r]=l.useState(!1),[s,i]=l.useState(),[o,d]=l.useState(!1),h=Ze(),m=async g=>{t(!0);const{data:y}=await O.custom({url:"",method:"post",meta:{operation:"checkDarasaConnected",variables:{id:{value:parseInt(g.toString()),type:"Int",required:!0}},fields:["success","message",{darasa:ge}]}}).catch(()=>({data:null})).then(D=>D);t(!1),y&&(r(y.success),i(y.darasa))},f=async g=>{const{data:y}=await O.custom({url:"",method:"post",meta:{operation:"connectDarasa",variables:{id:{value:parseInt(g.toString()),type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>({data:null})).then(D=>D);y?(r(y.success),i(y.darasa),v.success(y.message),y.success&&m(h.id)):v.error(y.message)};return l.useEffect(()=>{m(h.id)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:0},children:[a&&e.jsx(e.Fragment,{children:e.jsx(G,{children:e.jsx(z,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(ne,{tip:"Checking Connection",size:"large",style:{color:"red"},children:e.jsx("div",{className:"content",style:{height:"50vh",width:"100vh"}})})})})}),n&&e.jsx(wn,{}),!n&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsxs(U,{title:"Class Info's",children:[e.jsx(U.Item,{label:"Class Name/Title",children:s==null?void 0:s.name}),e.jsx(U.Item,{label:"Class Code",children:s==null?void 0:s.code}),e.jsx(U.Item,{label:"Created By",children:e.jsx("a",{children:s==null?void 0:s.user.fullName})}),(s==null?void 0:s.startDate)&&e.jsx(U.Item,{label:"Start Date",children:je(s==null?void 0:s.startDate).format("YYYY-MM-DD")}),(s==null?void 0:s.endDate)&&e.jsx(U.Item,{label:"End Date",children:je(s==null?void 0:s.endDate).format("YYYY-MM-DD")}),(s==null?void 0:s.payable)&&e.jsxs(U.Item,{label:"Price",children:[s==null?void 0:s.price.toLocaleString(),"/= Tsh"]})]})}),e.jsx(G,{children:e.jsxs(z,{span:24,style:{display:"flex",justifyContent:"center"},children:[(s==null?void 0:s.payable)&&e.jsx(A,{size:"large",onClick:()=>d(!0),children:"Pay for This Class"}),!(s!=null&&s.payable)&&e.jsx(et,{title:"Are you sure to Connect/Join to this Class",onConfirm:()=>f(h.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(A,{size:"large",children:"Connect/Join"})})]})})]})]}),e.jsx(te,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Purchasing"}),e.jsx("span",{style:{marginLeft:10,fontWeight:"bolder"},children:s==null?void 0:s.name})]}),width:"35vw",open:o,onClose:g=>d(g),children:e.jsx(yt,{darasa:s,randKey:Math.random()})})]})},Dn=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Connected Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Le,{mode:"connected"})})]}),{Meta:kn}=ce,Mn=a=>{const[t,n]=l.useState([]),[r,s]=l.useState(),[i,o]=l.useState(!1),[d,h]=l.useState(!1),[m,f]=l.useState(!0),[g,y]=l.useState(1),[D,j]=l.useState(0),[b,M]=l.useState(!0),[F]=S.useForm(),N=!Rt.useBreakpoint().lg,V=u=>{s(u),h(!0)},W=u=>{s(u),o(!0)},L=async(u,C="",x=!1)=>{const{data:k}=await O.custom({url:"",method:"get",meta:{operation:"madarasaToBuy",variables:{page:{value:u,type:"Int",required:!0},key:{value:C,type:"String",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:ge}]}}).catch(()=>(v.error("Error getting darasas"),{data:null})).then(_=>_);k&&(j(k.total),y(k.page),M(k.hasNext),n(k.results)),f(!1)};return l.useEffect(()=>{L(g)},[]),m?e.jsx(e.Fragment,{children:e.jsx(Re,{loading:m,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsx(G,{style:{display:"flex",justifyContent:"center"},children:e.jsx(z,{span:N?24:10,children:e.jsx(S,{layout:"vertical",form:F,onFinish:u=>{y(0),L(0,u.key,!0)},children:e.jsx(S.Item,{name:"key",children:e.jsx(ie,{size:"large",placeholder:"Search Classes...",prefix:e.jsx(ke,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(pt,{dataLength:D,next:()=>L(g),hasMore:b,loader:e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ne,{})})}),endMessage:e.jsx("p",{style:{textAlign:"center",display:t.length>0?"block":"none"},children:e.jsx("b",{children:"Yay! You have seen it all"})}),children:t.length>0?e.jsx(G,{align:"top",children:t.map(u=>e.jsx(z,{span:N?24:8,children:e.jsxs(ce,{hoverable:u.isActive,style:{marginRight:10,marginBottom:10},actions:[e.jsx(A,{size:"large",onClick:()=>W(u),children:"Read More"}),e.jsx(A,{size:"large",onClick:()=>V(u),children:"Buy Now"})],children:[e.jsx("div",{style:{height:window.innerHeight/3,background:"url("+u.cover+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",marginBottom:10,borderRadius:5}}),e.jsx(kn,{title:e.jsx(e.Fragment,{children:e.jsxs(xe,{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{children:[e.jsx(Ue,{title:u.name,children:rt(u.name,20)}),e.jsx(le,{color:"red",style:{marginLeft:10},children:u.code})]}),e.jsxs("span",{style:{fontSize:24},children:[u.price,"/="]})]})}),description:e.jsx(e.Fragment,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:rt(u.description,100)}})})})]})}))}):e.jsx(Fe,{severity:"info",sx:{fontSize:18},children:"No Classes Found"})}),e.jsx(Ut,{title:r==null?void 0:r.name,width:"50vw",anchor:"right",onClose:u=>o(u),open:i,children:e.jsxs(U,{title:"",column:1,children:[e.jsx(U.Item,{label:"Class Name",children:r==null?void 0:r.name}),e.jsx(U.Item,{label:"Class Code#",children:r==null?void 0:r.code}),e.jsxs(U.Item,{label:"Cost",children:[r==null?void 0:r.price," Tsh"]}),e.jsx(U.Item,{label:"Description",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r==null?void 0:r.description}})}),e.jsx(U.Item,{label:"",children:e.jsx(A,{size:"large",onClick:()=>V(r),children:"Buy Now"})})]})}),e.jsx(te,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Purchasing"}),e.jsx("span",{style:{marginLeft:10,fontWeight:"bolder"},children:r==null?void 0:r.name})]}),width:"35vw",open:d,onClose:u=>h(u),children:e.jsx(yt,{darasa:r,randKey:Math.random()})})]})},Tn=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Classes Marketplace"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Mn,{randKey:Math.random()})})]}),Pn=()=>e.jsxs("div",{style:{marginTop:10},children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"My Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Le,{mode:"my"})})]}),In=a=>{const[t,n]=l.useState(!1),[r,s]=l.useState(0),[i,o]=l.useState(0),[d,h]=l.useState(1),[m,f]=l.useState(25),[g,y]=l.useState(""),[D,j]=l.useState([]),[b,M]=l.useState(),[F]=S.useForm(),[q,N]=l.useState(!1);Ne();const V=async C=>{M(C),N(!0)},W=async(C,x="",k=25)=>{n(!0);const{data:_}=await O.custom({url:"",method:"get",meta:{operation:"darasaOrders",variables:{page:{value:C,type:"Int",required:!0},key:{value:x,type:"String",required:!1},pageSize:{value:k,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:$t}]}}).catch(ae=>(console.log(ae),v.error("Error getting Bills"),{data:null})).then(ae=>ae);_&&(s(_.total),o(_.pages),h(_.page),j(_.results)),n(!1)},L=async C=>{const{data:x}=await O.custom({url:"",method:"post",meta:{operation:"deleteDarasaOrder",variables:{id:{value:C,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error deleting Order"),{data:null})).then(k=>k);x&&j(D.filter(k=>k.id!==C))},u=[{title:"Bill#",dataIndex:"billNumber",fixed:!0,render:(C,x,k)=>{var _;return e.jsx("span",{children:e.jsx("a",{children:(_=x==null?void 0:x.bill)==null?void 0:_.billNumber})})}},{title:"Class Name",dataIndex:"bookTitle",fixed:!0,render:(C,x,k)=>{var _;return e.jsx("span",{children:e.jsx("a",{children:(_=x==null?void 0:x.darasa)==null?void 0:_.name})})}},{title:"Bill Amount",dataIndex:"billAmount",fixed:!0,render:(C,x,k)=>e.jsxs("span",{children:[x.price," Tsh"]})},{title:"Paid",dataIndex:"isPaid",fixed:!0,render:(C,x,k)=>e.jsx("span",{children:x.isPaid?e.jsx(le,{color:"green",children:"Yes"}):e.jsx(le,{color:"red",children:"No"})})},{title:"Created",dataIndex:"created",render:(C,x,k)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Gt,{date:new Date(x.created)})})})},{title:"Status",dataIndex:"isActive",render:(C,x,k)=>e.jsx("a",{children:x!=null&&x.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(C,x,k)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[!x.isPaid&&e.jsx(et,{title:"Are you sure to delete this Order?",onConfirm:()=>L(x.id),okText:"Yes",cancelText:"No",disabled:!(x!=null&&x.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(A,{icon:e.jsx(Xe,{}),disabled:!(x!=null&&x.canDelete),size:"large"})}),x.isPaid&&e.jsx(Ue,{title:"Print Receipt",children:e.jsx(A,{icon:e.jsx(Jt,{}),size:"large"})}),!x.isPaid&&e.jsx(Ue,{title:"View Order Details",children:e.jsx(A,{icon:e.jsx(Qt,{}),size:"large",onClick:()=>V(x)})})]})}];return l.useEffect(()=>{W(d,"",25)},[a.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(Bt,{offsetTop:75,children:e.jsx(G,{style:{display:"flex",justifyContent:"center",marginTop:20},children:e.jsx(z,{span:10,children:e.jsx(S,{layout:"vertical",form:F,onFinish:C=>{W(1,C.key,25)},children:e.jsx(S.Item,{name:"key",children:e.jsx(ie,{size:"large",placeholder:"Search Bill(s)...",prefix:e.jsx(ke,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx(G,{children:e.jsx(z,{span:24,children:e.jsx(Ht,{loading:t,columns:u,dataSource:D,pagination:{onChange:(C,x)=>{f(x),W(C,g,x)},total:r,pageSize:m,position:["bottomCenter"],showQuickJumper:!1},scroll:{x:!0}})})}),e.jsx(te,{title:"Order Details & Payment",open:q,width:"50vw",onClose:C=>N(C),children:e.jsx(nn,{book:b==null?void 0:b.darasa})})]})},On=()=>e.jsx("div",{style:{marginTop:10},children:e.jsx(In,{randKey:Math.random()})});function pe(a){if(a===null||a===!0||a===!1)return NaN;var t=Number(a);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $(a,t){if(t.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+t.length+" present")}function re(a){$(1,arguments);var t=Object.prototype.toString.call(a);return a instanceof Date||xt(a)==="object"&&t==="[object Date]"?new Date(a.getTime()):typeof a=="number"||t==="[object Number]"?new Date(a):((typeof a=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function _n(a,t){$(2,arguments);var n=re(a).getTime(),r=pe(t);return new Date(n+r)}var En={};function qe(){return En}function Fn(a){var t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),a.getTime()-t.getTime()}function Nn(a){return $(1,arguments),a instanceof Date||xt(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function Ln(a){if($(1,arguments),!Nn(a)&&typeof a!="number")return!1;var t=re(a);return!isNaN(Number(t))}function qn(a,t){$(2,arguments);var n=pe(t);return _n(a,-n)}var An=864e5;function zn(a){$(1,arguments);var t=re(a),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/An)+1}function _e(a){$(1,arguments);var t=1,n=re(a),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function jt(a){$(1,arguments);var t=re(a),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=_e(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=_e(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Yn(a){$(1,arguments);var t=jt(a),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=_e(n);return r}var Vn=6048e5;function Wn(a){$(1,arguments);var t=re(a),n=_e(t).getTime()-Yn(t).getTime();return Math.round(n/Vn)+1}function Ee(a,t){var n,r,s,i,o,d,h,m;$(1,arguments);var f=qe(),g=pe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(h=f.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=re(a),D=y.getUTCDay(),j=(D<g?7:0)+D-g;return y.setUTCDate(y.getUTCDate()-j),y.setUTCHours(0,0,0,0),y}function bt(a,t){var n,r,s,i,o,d,h,m;$(1,arguments);var f=re(a),g=f.getUTCFullYear(),y=qe(),D=pe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(g+1,0,D),j.setUTCHours(0,0,0,0);var b=Ee(j,t),M=new Date(0);M.setUTCFullYear(g,0,D),M.setUTCHours(0,0,0,0);var F=Ee(M,t);return f.getTime()>=b.getTime()?g+1:f.getTime()>=F.getTime()?g:g-1}function Rn(a,t){var n,r,s,i,o,d,h,m;$(1,arguments);var f=qe(),g=pe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(h=f.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1),y=bt(a,t),D=new Date(0);D.setUTCFullYear(y,0,g),D.setUTCHours(0,0,0,0);var j=Ee(D,t);return j}var Un=6048e5;function Bn(a,t){$(1,arguments);var n=re(a),r=Ee(n,t).getTime()-Rn(n,t).getTime();return Math.round(r/Un)+1}function I(a,t){for(var n=a<0?"-":"",r=Math.abs(a).toString();r.length<t;)r="0"+r;return n+r}var Hn={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return I(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):I(r+1,2)},d:function(t,n){return I(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return I(t.getUTCHours()%12||12,n.length)},H:function(t,n){return I(t.getUTCHours(),n.length)},m:function(t,n){return I(t.getUTCMinutes(),n.length)},s:function(t,n){return I(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return I(i,n.length)}};const oe=Hn;var ye={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$n={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return oe.y(t,n)},Y:function(t,n,r,s){var i=bt(t,s),o=i>0?i:1-i;if(n==="YY"){var d=o%100;return I(d,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):I(o,n.length)},R:function(t,n){var r=jt(t);return I(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return I(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return I(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return I(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return oe.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return I(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Bn(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):I(i,n.length)},I:function(t,n,r){var s=Wn(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):I(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):oe.d(t,n)},D:function(t,n,r){var s=zn(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):I(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return I(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return I(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return I(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=ye.noon:s===0?i=ye.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=ye.evening:s>=12?i=ye.afternoon:s>=4?i=ye.morning:i=ye.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return oe.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):oe.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):I(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):I(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):oe.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):oe.s(t,n)},S:function(t,n){return oe.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return st(o);case"XXXX":case"XX":return me(o);case"XXXXX":case"XXX":default:return me(o,":")}},x:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return st(o);case"xxxx":case"xx":return me(o);case"xxxxx":case"xxx":default:return me(o,":")}},O:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+at(o,":");case"OOOO":default:return"GMT"+me(o,":")}},z:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+at(o,":");case"zzzz":default:return"GMT"+me(o,":")}},t:function(t,n,r,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return I(o,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,o=i.getTime();return I(o,n.length)}};function at(a,t){var n=a>0?"-":"+",r=Math.abs(a),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t||"";return n+String(s)+o+I(i,2)}function st(a,t){if(a%60===0){var n=a>0?"-":"+";return n+I(Math.abs(a)/60,2)}return me(a,t)}function me(a,t){var n=t||"",r=a>0?"-":"+",s=Math.abs(a),i=I(Math.floor(s/60),2),o=I(s%60,2);return r+i+n+o}const Gn=$n;var it=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ct=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Jn=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return it(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",it(s,n)).replace("{{time}}",Ct(i,n))},Qn={p:Ct,P:Jn};const Kn=Qn;var Xn=["D","DD"],Zn=["YY","YYYY"];function er(a){return Xn.indexOf(a)!==-1}function tr(a){return Zn.indexOf(a)!==-1}function ot(a,t,n){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rr=function(t,n,r){var s,i=nr[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const ar=rr;function We(a){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):a.defaultWidth,r=a.formats[n]||a.formats[a.defaultWidth];return r}}var sr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ir={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},or={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lr={date:We({formats:sr,defaultWidth:"full"}),time:We({formats:ir,defaultWidth:"full"}),dateTime:We({formats:or,defaultWidth:"full"})};const cr=lr;var dr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ur=function(t,n,r,s){return dr[t]};const hr=ur;function Ce(a){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&a.formattingValues){var i=a.defaultFormattingWidth||a.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=a.formattingValues[o]||a.formattingValues[i]}else{var d=a.defaultWidth,h=n!=null&&n.width?String(n.width):a.defaultWidth;s=a.values[h]||a.values[d]}var m=a.argumentCallback?a.argumentCallback(t):t;return s[m]}}var mr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yr=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jr={ordinalNumber:yr,era:Ce({values:mr,defaultWidth:"wide"}),quarter:Ce({values:fr,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ce({values:gr,defaultWidth:"wide"}),day:Ce({values:xr,defaultWidth:"wide"}),dayPeriod:Ce({values:pr,defaultWidth:"wide",formattingValues:vr,defaultFormattingWidth:"wide"})};const br=jr;function we(a){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],d=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],h=Array.isArray(d)?wr(d,function(g){return g.test(o)}):Cr(d,function(g){return g.test(o)}),m;m=a.valueCallback?a.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;var f=t.slice(o.length);return{value:m,rest:f}}}function Cr(a,t){for(var n in a)if(a.hasOwnProperty(n)&&t(a[n]))return n}function wr(a,t){for(var n=0;n<a.length;n++)if(t(a[n]))return n}function Sr(a){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(a.matchPattern);if(!r)return null;var s=r[0],i=t.match(a.parsePattern);if(!i)return null;var o=a.valueCallback?a.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var d=t.slice(s.length);return{value:o,rest:d}}}var Dr=/^(\d+)(th|st|nd|rd)?/i,kr=/\d+/i,Mr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tr={any:[/^b/i,/^(a|c)/i]},Pr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ir={any:[/1/i,/2/i,/3/i,/4/i]},Or={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_r={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Er={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qr={ordinalNumber:Sr({matchPattern:Dr,parsePattern:kr,valueCallback:function(t){return parseInt(t,10)}}),era:we({matchPatterns:Mr,defaultMatchWidth:"wide",parsePatterns:Tr,defaultParseWidth:"any"}),quarter:we({matchPatterns:Pr,defaultMatchWidth:"wide",parsePatterns:Ir,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:we({matchPatterns:Or,defaultMatchWidth:"wide",parsePatterns:_r,defaultParseWidth:"any"}),day:we({matchPatterns:Er,defaultMatchWidth:"wide",parsePatterns:Fr,defaultParseWidth:"any"}),dayPeriod:we({matchPatterns:Nr,defaultMatchWidth:"any",parsePatterns:Lr,defaultParseWidth:"any"})};const Ar=qr;var zr={code:"en-US",formatDistance:ar,formatLong:cr,formatRelative:hr,localize:br,match:Ar,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Yr=zr;var Vr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rr=/^'([^]*?)'?$/,Ur=/''/g,Br=/[a-zA-Z]/;function lt(a,t,n){var r,s,i,o,d,h,m,f,g,y,D,j,b,M,F,q,N,V;$(2,arguments);var W=String(t),L=qe(),u=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:L.locale)!==null&&r!==void 0?r:Yr,C=pe((i=(o=(d=(h=n==null?void 0:n.firstWeekContainsDate)!==null&&h!==void 0?h:n==null||(m=n.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&d!==void 0?d:L.firstWeekContainsDate)!==null&&o!==void 0?o:(g=L.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=pe((D=(j=(b=(M=n==null?void 0:n.weekStartsOn)!==null&&M!==void 0?M:n==null||(F=n.locale)===null||F===void 0||(q=F.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&b!==void 0?b:L.weekStartsOn)!==null&&j!==void 0?j:(N=L.locale)===null||N===void 0||(V=N.options)===null||V===void 0?void 0:V.weekStartsOn)!==null&&D!==void 0?D:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var k=re(a);if(!Ln(k))throw new RangeError("Invalid time value");var _=Fn(k),ae=qn(k,_),ue={firstWeekContainsDate:C,weekStartsOn:x,locale:u,_originalDate:k},be=W.match(Wr).map(function(R){var J=R[0];if(J==="p"||J==="P"){var Z=Kn[J];return Z(R,u.formatLong)}return R}).join("").match(Vr).map(function(R){if(R==="''")return"'";var J=R[0];if(J==="'")return Hr(R);var Z=Gn[J];if(Z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&tr(R)&&ot(R,t,String(a)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&er(R)&&ot(R,t,String(a)),Z(ae,R,u.localize,ue);if(J.match(Br))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return R}).join("");return be}function Hr(a){var t=a.match(Rr);return t?t[1].replace(Ur,"'"):a}const{Option:$r}=ee,ct=[{value:"",label:"Select Duration Type"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"}],Gr=a=>{const[t,n]=l.useState("");return e.jsx(e.Fragment,{children:e.jsxs(S,{layout:"vertical",form:a.form,onFinish:r=>{r.description=t,a.onFinish(r),n("")},requiredMark:!1,children:[e.jsx(S.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input name"}],children:e.jsx(ie,{size:"large",placeholder:"Enter Name ..."})}),e.jsx(S.Item,{name:"startDate",label:"start Date",rules:[{required:!0,type:"date",message:"Please select date"}],children:e.jsx(Ke,{showTime:{format:"HH:mm"},disabledDate:r=>{const s=je().format("YYYY-MM-DD");return r&&r<je(s,"YYYY-MM-DD")},style:{width:"100%"},popupStyle:{zIndex:9999}})}),e.jsxs(G,{children:[e.jsx(z,{span:12,children:e.jsx(S.Item,{name:"duration",label:"Duration",style:{width:"100%"},rules:[{required:!0,type:"integer",message:"Enter Duration"}],children:e.jsx(De,{min:1,defaultValue:1,style:{width:"100%"},size:"large"})})}),e.jsx(z,{span:12,children:e.jsx(S.Item,{name:"durationType",label:"Duration Type",style:{width:"100%"},rules:[{required:!0,type:"string",message:"Please select duration type"}],children:e.jsx(ee,{defaultValue:ct[0].value,size:"large",style:{width:"100%"},dropdownStyle:{zIndex:9999},children:ct.map(r=>e.jsx($r,{children:r.label},r.value))})})})]}),e.jsx(S.Item,{name:"isPublic",label:"Availability",rules:[{required:!1,type:"boolean"}],children:e.jsx(Qe,{defaultChecked:!0,disabled:!0,checked:!0,value:!0,children:"Public Available"})}),e.jsx("h3",{children:"Description"}),e.jsx(Ge.CKEditor,{editor:Je,data:t,onReady:r=>{r.editing.view.change(s=>{s.setStyle("min-height","100px",r.editing.view.document.getRoot())})},onChange:(r,s)=>{const i=s.getData();n(i)},config:{toolbar:{items:["bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","EmojiPanel"],shouldNotGroupWhenFull:!0},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0}}}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:e.jsx(A,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Jr=a=>{const[t,n]=l.useState(!1),[r,s]=l.useState([]),[i,o]=l.useState(),[d,h]=l.useState(),[m,f]=l.useState(!0),[g,y]=l.useState(1),[D,j]=l.useState(0),[b,M]=l.useState(!0),[F]=S.useForm(),[q,N]=l.useState(!1),{push:V}=Ne(),[W]=S.useForm(),[L,u]=l.useState(!1),[C,x]=l.useState(!1),k=p=>{o(p),x(!0)},_=async p=>{const{data:P}=await O.custom({url:"",method:"post",meta:{operation:"connectClass",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error connecting to class"),{data:null})).then(B=>B);P&&(P.success?(u(!1),h(null),v(P.message),s(r.filter(B=>B.id!==p))):v.error(P.message))},ae=async p=>{const{data:P}=await O.custom({url:"",method:"post",meta:{operation:"createVirtualClass",variables:{name:{value:p.name,type:"String",required:!0},description:{value:p.description,type:"String",required:!0},duration:{value:p.duration,type:"Int",required:!0},durationType:{value:p.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:p.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:Ve}]}}).catch(()=>(v.error("Error creating class"),{data:null})).then(B=>B);P&&(P.success?(v.success(P.message),N(!1),s([P.virtual,...r])):v.error(P.message))},ue=async p=>{const{data:P}=await O.custom({url:"",method:"post",meta:{operation:"editVirtualClass",variables:{id:{value:p.id,type:"Int",required:!0},name:{value:p.name,type:"String",required:!0},description:{value:p.description,type:"String",required:!0},duration:{value:p.duration,type:"Int",required:!0},durationType:{value:p.durationType.toUpperCase(),type:"String",required:!0},startDate:{value:p.startDate,type:"DateTime",required:!0},isPublic:{value:!0,type:"Boolean",required:!0}},fields:["success","message",{virtual:Ve}]}}).catch(()=>(v.error("Error editing class"),{data:null})).then(B=>B);P&&(P.success?(v.success(P.message),s(r.map(B=>B.id===P.virtual.id?P.virtual:B)),x(!1)):v.error(P.message))},be=()=>{W.resetFields(),N(!0)},R=async p=>{const{data:P}=await O.custom({url:"",method:"post",meta:{operation:"deleteVirtualClass",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}}).catch(()=>(v.error("Error deleting class"),{data:null})).then(B=>B);P&&(P.success?(v.success(P.message),s(r.filter(B=>B.id!==p))):v.error(P.message))},J=p=>{fe.confirm({title:"Deleting Virtual Class",icon:e.jsx(Se,{}),content:"Are you sure ...",okText:"Delete",cancelText:"Cancel",onOk:()=>R(p)})},Z=async(p,P="",B=!1)=>{const{data:he}=await O.custom({url:"",method:"get",meta:{operation:"publicVirtualClasses",variables:{page:{value:p,type:"Int",required:!0},key:{value:P,type:"String",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:Ve}]}}).catch(()=>(v.error("Error fetching classes"),{data:null})).then(ze=>ze);he&&(j(he.total),y(he.page),M(he.hasNext),s(he.results)),f(!1)},Ae=async()=>{const{data:p}=await O.custom({url:"",method:"get",meta:{operation:"darasaAuth",variables:{},fields:["auth"]}}).catch(()=>(v.error("Error getting darasa auth"),{data:null})).then(P=>P);p&&n(p.auth.create_virtual_classes)};return l.useEffect(()=>{Ae(),Z(g)},[]),m?e.jsx(e.Fragment,{children:e.jsx(Re,{loading:m,active:!0})}):e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx(z,{span:20,children:e.jsx(S,{layout:"vertical",form:F,onFinish:p=>{y(0),Z(0,p.key,!0)},children:e.jsx(S.Item,{name:"key",children:e.jsx(ie,{size:"large",placeholder:"Search Public Virtual Classes...",prefix:e.jsx(ke,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(z,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(A,{icon:e.jsx(mt,{}),size:"large",onClick:()=>be(),disabled:!t,children:"Create Virtual Class"})})]}),e.jsx(pt,{dataLength:D,next:()=>Z(g),hasMore:b,loader:e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(ne,{})})}),endMessage:e.jsx("p",{style:{textAlign:"center",display:r.length>0?"block":"none"},children:e.jsx("b",{children:"Yay! You have seen it all"})}),children:e.jsx(Ye,{loading:!1,itemLayout:"horizontal",loadMore:!1,dataSource:r,renderItem:p=>e.jsx(ce,{children:e.jsx(Ye.Item,{actions:[e.jsx(Be,{trigger:["click"],overlay:e.jsxs(H,{children:[e.jsx(H.Item,{icon:e.jsx(Kt,{}),disabled:!p.canJoin,onClick:()=>V("/oclass/virtual/class/session/"+p.id+"/"+p.token),children:e.jsx("a",{children:"Join"})}),p.canDelete?e.jsx(H.Item,{disabled:!p.canDelete,icon:e.jsx(Xe,{}),onClick:()=>J(p.id),children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",children:"Delete"})}):e.jsx(e.Fragment,{}),e.jsx(H.Item,{icon:e.jsx(ft,{}),disabled:!p.canEdit,onClick:()=>k(p),children:e.jsx("a",{children:"Edit"})})]}),overlayStyle:{zIndex:9999},children:e.jsx("a",{className:"ant-dropdown-link",onClick:P=>P.preventDefault(),children:e.jsx(He,{style:{color:"orange",fontSize:28,fontWeight:"bold"}})})})],children:e.jsx(Re,{avatar:!0,title:!1,loading:!1,active:!0,children:e.jsx(Ye.Item.Meta,{avatar:e.jsx($e,{}),title:e.jsx("a",{onClick:()=>p.canJoin?V("/oclass/virtual/class/session/"+p.id+"/"+p.token):v("You can't join this class"),children:p.name}),description:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:p.description}),e.jsxs("p",{children:[e.jsxs(le,{color:"green",children:["Start At:"," ",e.jsx("span",{style:{marginLeft:10},children:lt(new Date(p.startDate),"MMMM do, yyyy H:mma")})]}),e.jsxs(le,{color:"green",children:["End In:",e.jsx("span",{style:{marginLeft:10},children:lt(new Date(p.endDate),"MMMM do, yyyy H:mma")})]}),p.canJoin?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx(le,{color:"red",children:"Not Joinable"})})]})]})})})})})})}),e.jsx(te,{title:"Creating Public Virtual Class",width:"40vw",open:q,onClose:p=>N(p),children:e.jsx(Gr,{form:W,onFinish:ae})}),e.jsx(te,{title:"Connecting "+(d==null?void 0:d.name),open:L,width:"40vw",onClose:p=>u(p),children:e.jsxs(e.Fragment,{children:[e.jsx(vt,{id:d==null?void 0:d.id}),e.jsx(A,{onClick:()=>_(d==null?void 0:d.id),style:{position:"absolute",bottom:0,right:0,marginBottom:10},children:"Connect"})]})}),e.jsx(te,{title:"Editting "+(i==null?void 0:i.name),width:"40vw",open:C,onClose:p=>x(p),children:e.jsx(Xt,{form:W,darasa:i,onFinish:ue})})]})},Qr=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Online Public Virtual Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(Jr,{mode:"connected"})})]}),wt="meet.jit.si";var Kr=globalThis&&globalThis.__awaiter||function(a,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(f){try{m(r.next(f))}catch(g){o(g)}}function h(f){try{m(r.throw(f))}catch(g){o(g)}}function m(f){f.done?i(f.value):s(f.value).then(d,h)}m((r=r.apply(a,t||[])).next())})};const Xr=(a,t,n)=>Kr(void 0,void 0,void 0,function*(){return new Promise((r,s)=>{if(window.JitsiMeetExternalAPI)return r(window.JitsiMeetExternalAPI);const i=document.createElement("script"),o=t?`?release=${t}`:"",d=n?`${n}/`:"";i.async=!0,i.src=`https://${a}/${d}external_api.js${o}`,i.onload=()=>r(window.JitsiMeetExternalAPI),i.onerror=()=>s(new Error(`Script load error: ${i.src}`)),document.head.appendChild(i)})});let Ie;const Zr=(a=wt,t,n)=>Ie||(Ie=Xr(a,t,n),Ie),ea=a=>{const t=a.split("/");if(!(t.length<=1))return t[0]};let ta=0;const dt=a=>`${a}-${ta++}`,na=({domain:a=wt,roomName:t,configOverwrite:n,interfaceConfigOverwrite:r,jwt:s,invitees:i,devices:o,userInfo:d,release:h,spinner:m,onApiReady:f,onReadyToClose:g,getIFrameRef:y})=>{const[D,j]=l.useState(!0),[b,M]=l.useState(!1),F=l.useRef(),q=l.useRef(),N=l.useRef(null),V=l.useMemo(()=>dt("jitsiMeeting"),[dt]);l.useEffect(()=>{Zr(a,h,ea(t)).then(u=>{F.current=u,M(!0)}).catch(u=>console.error(u.message))},[]);const W=l.useCallback(u=>{q.current=new u(a,{roomName:t,configOverwrite:n,interfaceConfigOverwrite:r,jwt:s,invitees:i,devices:o,userInfo:d,release:h,parentNode:N.current}),j(!1),q.current&&(typeof f=="function"&&f(q.current),q.current.on("readyToClose",()=>{typeof g=="function"&&g()}),N.current&&typeof y=="function"&&y(N.current))},[q,N,f,g,y,a,t,n,r,s,i,o,d]);l.useEffect(()=>{b&&!q.current&&F.current&&W(F.current)},[b,W]);const L=l.useCallback(()=>!m||!D||q.current?null:e.jsx(m,{},void 0),[m,q.current]);return e.jsxs(e.Fragment,{children:[L(),e.jsx("div",{id:V,ref:N},V)]},void 0)};globalThis&&globalThis.__rest;const ra={app_name:"Oclass",api_url:"https://olbongo.co.tz",conference_url:"video.olbongo.co.tz"},aa=a=>{const[t,n]=l.useState(),[r,s]=l.useState(!1),[i,o]=l.useState(!0),[d,h]=l.useState(!0),{push:m}=Zt(),{data:f}=en(),g=Ze(),y=async()=>{const{data:j}=await O.custom({url:"",method:"get",meta:{operation:"virtual",variables:{id:{value:parseInt(g.id),type:"Int",required:!0}},fields:["id","name","description","startDate","duration","durationType","token",{darasa:["id","name","code","description"]},{author:["id","firstName","middleName","lastName","fullName","pic","email"]},"created","canEdit","canDelete","canManage","updated","isActive"]}}).catch(b=>(v.error("Error fetching virtual class"),{data:null})).then(b=>b);j&&n(j),o(!1)},D=e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx("a",{onClick:()=>m("/oclass"),children:"Home"})}),e.jsx(T.Item,{children:e.jsx("a",{onClick:()=>m("/oclass/public/virtual/classes"),children:"Virtual Sessions/Classes"})}),e.jsx(T.Item,{children:t==null?void 0:t.name})]});return l.useEffect(()=>{y()},[]),i?e.jsxs(e.Fragment,{children:[D,e.jsx(G,{align:"middle",children:e.jsx(z,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(ne,{size:"large"})})})]}):r?e.jsxs(e.Fragment,{children:[D,e.jsx("div",{children:e.jsxs(G,{align:"middle",children:[e.jsx(z,{span:8}),e.jsx(z,{span:8,children:e.jsx(ce,{title:t==null?void 0:t.name,bordered:!1,actions:[e.jsx(A,{onClick:()=>window.location.reload(),children:"Re-join"})],children:e.jsx("div",{dangerouslySetInnerHTML:{__html:(t==null?void 0:t.description)??""}})})})]})})]}):e.jsxs(e.Fragment,{children:[D,d&&e.jsxs(G,{align:"middle",children:[e.jsx(z,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(xe,{direction:"vertical",children:e.jsx(ne,{size:"large"})})}),e.jsx(z,{span:24,style:{display:"flex",justifyContent:"center"},children:e.jsx(xe,{direction:"vertical",children:"Preparing Virtual Conference Connection"})})]}),t&&e.jsx(na,{domain:ra.conference_url,roomName:t.id.toString()+t.token,configOverwrite:{speakerStats:{disabled:!0,disableSearch:!1,order:["role","name","hasLeft"]},breakoutRooms:{hideAddRoomButton:!0,hideAutoAssignButton:!0,hideJoinRoomButton:!0},disableInviteFunctions:!0,hideConferenceSubject:!0,disablePolls:!0,autoKnockLobby:!0,enableLobbyChat:!0,disableModeratorIndicator:!1,disableReactionsModeration:!1,openSharedDocumentOnJoin:!1,startWithAudioMuted:!0,startScreenSharing:!1,enableEmailInStats:!1,enableWelcomePage:!1,readOnlyName:!0,notifications:[],screenshotCapture:{enabled:!0,mode:"recording"},prejoinConfig:{enabled:!0,hideDisplayName:!0,hideExtraJoinButtons:["no-audio","by-phone"]},p2p:{enabled:!0},e2ee:{labels:{labelTooltip:"Tooltip",description:"Description",label:"E2EE",warning:"Warning"},externallyManagedKey:!1}},interfaceConfigOverwrite:{DISABLE_JOIN_LEAVE_NOTIFICATIONS:!1},userInfo:{displayName:f==null?void 0:f.fullName,email:f==null?void 0:f.email},onApiReady:j=>{h(!1),j.addListener("videoConferenceJoined",()=>{}),j.addListener("videoConferenceLeft",()=>{}),j.addListener("participantJoined",b=>{}),j.addListener("participantLeft",b=>{}),j.addListener("onMessageReceived",b=>{}),j.addListener("onMessageSent",b=>{}),j.addListener("onChatMessage",b=>{}),j.addListener("onChatMessageReceived",b=>{}),j.addListener("onChatMessageSent",b=>{})},onReadyToClose:()=>{s(!0)},getIFrameRef:j=>{j.style.height="88vh"}})]})},sa=()=>e.jsxs(Y,{children:[e.jsxs(T,{children:[e.jsx(T.Item,{children:e.jsx(de,{to:"/oclass",children:"Home"})}),e.jsx(T.Item,{children:"Online Virtual Classes"})]}),e.jsx(Y,{sx:{mt:2},children:e.jsx(aa,{mode:"connected"})})]}),ia=a=>{const{page:t}=a;return t==="VirtualClassSessionPage"?e.jsx(sa,{}):t==="PublicVirtualClassesPage"?e.jsx(Qr,{}):t==="OclassOrdersPage"?e.jsx(On,{}):t==="MyClassesPage"?e.jsx(Pn,{}):t==="OclassMarketplacePage"?e.jsx(Tn,{}):t==="ConnectedClassesPage"?e.jsx(Dn,{}):t==="ClassSessionPage"?e.jsx(Sn,{}):t==="ClassesPage"?e.jsx(dn,{}):t==="ClassesConnectPage"?e.jsx(cn,{}):t==="DarasaArchivesPage"?e.jsx(an,{}):e.jsx("div",{children:"Page not found ..."})},ha=Object.freeze(Object.defineProperty({__proto__:null,DarasaPages:ia},Symbol.toStringTag,{value:"Module"}));export{lt as f,ha as p};
