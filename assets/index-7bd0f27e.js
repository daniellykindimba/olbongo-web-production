import{r,g as T,m as h,a as k,C as R,c as z,ga as D,k as j}from"./index-bf2a13da.js";import{S as F}from"./Skeleton-3baadd7d.js";const O=t=>{const{value:e,formatter:o,precision:n,decimalSeparator:m,groupSeparator:u="",prefixCls:s}=t;let i;if(typeof o=="function")i=o(e);else{const a=String(e),f=a.match(/^(-?)(\d*)(\.(\d+))?$/);if(!f||a==="-")i=a;else{const d=f[1];let c=f[2]||"0",l=f[4]||"";c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),typeof n=="number"&&(l=l.padEnd(n,"0").slice(0,n>0?n:0)),l&&(l=`${m}${l}`),i=[r.createElement("span",{key:"int",className:`${s}-content-value-int`},d,c),l&&r.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},l)]}}return r.createElement("span",{className:`${s}-content-value`},i)},H=O,I=t=>{const{componentCls:e,marginXXS:o,padding:n,colorTextDescription:m,titleFontSize:u,colorTextHeading:s,contentFontSize:i,fontFamily:a}=t;return{[`${e}`]:Object.assign(Object.assign({},k(t)),{[`${e}-title`]:{marginBottom:o,color:m,fontSize:u},[`${e}-skeleton`]:{paddingTop:n},[`${e}-content`]:{color:s,fontSize:i,fontFamily:a,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:o},[`${e}-content-suffix`]:{marginInlineStart:o}}})}},M=T("Statistic",t=>{const e=h(t,{});return[I(e)]},t=>{const{fontSizeHeading3:e,fontSize:o}=t;return{titleFontSize:o,contentFontSize:e}}),L=t=>{const{prefixCls:e,className:o,rootClassName:n,style:m,valueStyle:u,value:s=0,title:i,valueRender:a,prefix:f,suffix:d,loading:c=!1,onMouseEnter:l,onMouseLeave:S,decimalSeparator:v=".",groupSeparator:E=","}=t,{getPrefixCls:C,direction:N,statistic:g}=r.useContext(R),p=C("statistic",e),[y,b]=M(p),x=r.createElement(H,Object.assign({decimalSeparator:v,groupSeparator:E,prefixCls:p},t,{value:s})),w=z(p,{[`${p}-rtl`]:N==="rtl"},g==null?void 0:g.className,o,n,b);return y(r.createElement("div",{className:w,style:Object.assign(Object.assign({},g==null?void 0:g.style),m),onMouseEnter:l,onMouseLeave:S},i&&r.createElement("div",{className:`${p}-title`},i),r.createElement(F,{paragraph:!1,loading:c,className:`${p}-skeleton`},r.createElement("div",{style:u,className:`${p}-content`},f&&r.createElement("span",{className:`${p}-content-prefix`},f),a?a(x):x,d&&r.createElement("span",{className:`${p}-content-suffix`},d)))))},$=L,U=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function B(t,e){let o=t;const n=/\[[^\]]*]/g,m=(e.match(n)||[]).map(a=>a.slice(1,-1)),u=e.replace(n,"[]"),s=U.reduce((a,f)=>{let[d,c]=f;if(a.includes(d)){const l=Math.floor(o/c);return o-=l*c,a.replace(new RegExp(`${d}+`,"g"),S=>{const v=S.length;return l.toString().padStart(v,"0")})}return a},u);let i=0;return s.replace(n,()=>{const a=m[i];return i+=1,a})}function P(t,e){const{format:o=""}=e,n=new Date(t).getTime(),m=Date.now(),u=Math.max(n-m,0);return B(u,o)}const X=1e3/30;function A(t){return new Date(t).getTime()}const V=t=>{const{value:e,format:o="HH:mm:ss",onChange:n,onFinish:m}=t,u=D(),s=r.useRef(null),i=()=>{m==null||m(),s.current&&(clearInterval(s.current),s.current=null)},a=()=>{const c=A(e);c>=Date.now()&&(s.current=setInterval(()=>{u(),n==null||n(c-Date.now()),c<Date.now()&&i()},X))};r.useEffect(()=>(a(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[e]);const f=(c,l)=>P(c,Object.assign(Object.assign({},l),{format:o})),d=c=>j(c,{title:void 0});return r.createElement($,Object.assign({},t,{valueRender:d,formatter:f}))},Y=r.memo(V);$.Countdown=Y;export{$ as S};
