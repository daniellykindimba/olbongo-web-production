import{r as n,t as Se,u as ne,H as Ne,L as Le,ba as we,p as ze,q as $e,s as ke,m as X,F as u,b5 as B,j as e,S as le,k as U,f as Pe,g as j,ah as D,R as A,n as I,aU as K,a as T,_ as x,b8 as Oe,M as _,I as w,d as re,am as J,e as W,aM as De,ag as Y,aN as Q,A as ce,aA as te,b7 as de,aB as H,bb as me,aE as se,a5 as fe,b1 as ve,an as pe,bc as Be,bd as He}from"./index-8383052a.js";import{D as ie}from"./index-05816c56.js";import{t as ge}from"./text_truncate-315d9efa.js";import{A as Ie}from"./Alert-12a532b4.js";import{C as Ke}from"./ckeditor-393f2906.js";import{I as Ce}from"./index-4a3eabae.js";import{C as ae}from"./Collapse-42adabb1.js";import{R as Te}from"./ReactTimeAgo-50ae14ef.js";import"./ckeditor-b27bc436.js";import"./InputNumber-f580c739.js";import"./index-c090ff23.js";import"./memoize-one.esm-297ddbcb.js";var Ye=globalThis&&globalThis.__rest||function(t,s){var c={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(c[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(c[a[i]]=t[a[i]]);return c};const _e=t=>{var{prefixCls:s,className:c,color:a="blue",dot:i,pending:h=!1,position:l,label:o,children:b}=t,m=Ye(t,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:d}=n.useContext(Se),r=d("timeline",s),v=ne(`${r}-item`,{[`${r}-item-pending`]:h},c),p=/blue|red|green|gray/.test(a||"")?void 0:a,S=ne(`${r}-item-head`,{[`${r}-item-head-custom`]:!!i,[`${r}-item-head-${a}`]:!p});return n.createElement("li",Object.assign({},m,{className:v}),o&&n.createElement("div",{className:`${r}-item-label`},o),n.createElement("div",{className:`${r}-item-tail`}),n.createElement("div",{className:S,style:{borderColor:p,color:p}},i),n.createElement("div",{className:`${r}-item-content`},b))},Fe=_e;var xe=globalThis&&globalThis.__rest||function(t,s){var c={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(c[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(c[a[i]]=t[a[i]]);return c};const We=t=>{var{prefixCls:s,className:c,pending:a=!1,children:i,items:h,rootClassName:l,reverse:o=!1,direction:b,hashId:m,pendingDot:d,mode:r=""}=t,v=xe(t,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const p=(C,f)=>r==="alternate"?C==="right"?`${s}-item-right`:C==="left"?`${s}-item-left`:f%2===0?`${s}-item-left`:`${s}-item-right`:r==="left"?`${s}-item-left`:r==="right"?`${s}-item-right`:C==="right"?`${s}-item-right`:"",S=Ne(h||[]),$=typeof a=="boolean"?null:a;a&&S.push({pending:!!a,dot:d||n.createElement(Le,null),children:$}),o&&S.reverse();const N=S.length,F=`${s}-item-last`,P=S.filter(C=>!!C).map((C,f)=>{var z;const V=f===N-2?F:"",Z=f===N-1?F:"",{className:ee}=C,L=xe(C,["className"]);return n.createElement(Fe,Object.assign({},L,{className:ne([ee,!o&&a?V:Z,p((z=C==null?void 0:C.position)!==null&&z!==void 0?z:"",f)]),key:(C==null?void 0:C.key)||f}))}),q=S.some(C=>!!(C!=null&&C.label)),E=ne(s,{[`${s}-pending`]:!!a,[`${s}-reverse`]:!!o,[`${s}-${r}`]:!!r&&!q,[`${s}-label`]:q,[`${s}-rtl`]:b==="rtl"},c,l,m);return n.createElement("ul",Object.assign({},v,{className:E}),P)},Ve=We;function Re(t,s){return t&&Array.isArray(t)?t:we(s).map(c=>{var a,i;return Object.assign({children:(i=(a=c==null?void 0:c.props)===null||a===void 0?void 0:a.children)!==null&&i!==void 0?i:""},c.props)})}const Ue=t=>{const{componentCls:s}=t;return{[s]:Object.assign(Object.assign({},ke(t)),{margin:0,padding:0,listStyle:"none",[`${s}-item`]:{position:"relative",margin:0,paddingBottom:t.itemPaddingBottom,fontSize:t.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:t.itemHeadSize,insetInlineStart:(t.itemHeadSize-t.tailWidth)/2,height:`calc(100% - ${t.itemHeadSize}px)`,borderInlineStart:`${t.tailWidth}px ${t.lineType} ${t.tailColor}`},"&-pending":{[`${s}-item-head`]:{fontSize:t.fontSizeSM,backgroundColor:"transparent"},[`${s}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:t.itemHeadSize,height:t.itemHeadSize,backgroundColor:t.dotBg,border:`${t.dotBorderWidth}px ${t.lineType} transparent`,borderRadius:"50%","&-blue":{color:t.colorPrimary,borderColor:t.colorPrimary},"&-red":{color:t.colorError,borderColor:t.colorError},"&-green":{color:t.colorSuccess,borderColor:t.colorSuccess},"&-gray":{color:t.colorTextDisabled,borderColor:t.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:t.itemHeadSize/2,insetInlineStart:t.itemHeadSize/2,width:"auto",height:"auto",marginBlockStart:0,paddingBlock:t.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:-(t.fontSize*t.lineHeight-t.fontSize)+t.lineWidth,marginInlineStart:t.margin+t.itemHeadSize,marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${s}-item-tail`]:{display:"none"},[`> ${s}-item-content`]:{minHeight:t.controlHeightLG*1.2}}},[`&${s}-alternate,
        &${s}-right,
        &${s}-label`]:{[`${s}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:`-${t.marginXXS}px`,"&-custom":{marginInlineStart:t.tailWidth/2}},"&-left":{[`${s}-item-content`]:{insetInlineStart:`calc(50% - ${t.marginXXS}px)`,width:`calc(50% - ${t.marginSM}px)`,textAlign:"start"}},"&-right":{[`${s}-item-content`]:{width:`calc(50% - ${t.marginSM}px)`,margin:0,textAlign:"end"}}}},[`&${s}-right`]:{[`${s}-item-right`]:{[`${s}-item-tail,
            ${s}-item-head,
            ${s}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(t.itemHeadSize+t.tailWidth)/2}px)`},[`${s}-item-content`]:{width:`calc(100% - ${t.itemHeadSize+t.marginXS}px)`}}},[`&${s}-pending
        ${s}-item-last
        ${s}-item-tail`]:{display:"block",height:`calc(100% - ${t.margin}px)`,borderInlineStart:`${t.tailWidth}px dotted ${t.tailColor}`},[`&${s}-reverse
        ${s}-item-last
        ${s}-item-tail`]:{display:"none"},[`&${s}-reverse ${s}-item-pending`]:{[`${s}-item-tail`]:{insetBlockStart:t.margin,display:"block",height:`calc(100% - ${t.margin}px)`,borderInlineStart:`${t.tailWidth}px dotted ${t.tailColor}`},[`${s}-item-content`]:{minHeight:t.controlHeightLG*1.2}},[`&${s}-label`]:{[`${s}-item-label`]:{position:"absolute",insetBlockStart:-(t.fontSize*t.lineHeight-t.fontSize)+t.tailWidth,width:`calc(50% - ${t.marginSM}px)`,textAlign:"end"},[`${s}-item-right`]:{[`${s}-item-label`]:{insetInlineStart:`calc(50% + ${t.marginSM}px)`,width:`calc(50% - ${t.marginSM}px)`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${s}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},Xe=ze("Timeline",t=>{const s=$e(t,{itemHeadSize:10,customHeadPaddingVertical:t.paddingXXS,paddingInlineEnd:2});return[Ue(s)]},t=>({tailColor:t.colorSplit,tailWidth:t.lineWidthBold,dotBorderWidth:t.wireframe?t.lineWidthBold:t.lineWidth*3,dotBg:t.colorBgContainer,itemPaddingBottom:t.padding*1.25}));var Ge=globalThis&&globalThis.__rest||function(t,s){var c={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(c[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(c[a[i]]=t[a[i]]);return c};const Me=t=>{const{getPrefixCls:s,direction:c,timeline:a}=n.useContext(Se),{prefixCls:i,children:h,items:l,className:o,style:b}=t,m=Ge(t,["prefixCls","children","items","className","style"]),d=s("timeline",i),[r,v]=Xe(d),p=Re(l,h);return r(n.createElement(Ve,Object.assign({},m,{className:ne(a==null?void 0:a.className,o),style:Object.assign(Object.assign({},a==null?void 0:a.style),b),prefixCls:d,direction:c,items:p,hashId:v})))};Me.Item=Fe;const ue=Me,Je=t=>{n.useState();const[s,c]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0);n.useState(20),n.useState("");const[o,b]=n.useState(!1),[m,d]=n.useState(!0);X(),u.useForm(),n.useState(!1);const v=!B.useBreakpoint().lg,p=async(S,$="",N=20)=>{d(!0);const{data:F}=await j.custom({url:"",method:"get",meta:{operation:"syllabusSubjectTopics",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0},page:{value:S,type:"Int",required:!0},key:{value:$,type:"String",required:!1},pageSize:{value:N,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content",{subTopics:["id","content",{objectives:["id","content"]}]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(F.page),l(F.total),b(F.hasNext),c(F.results),d(!1)};return n.useEffect(()=>{p(1,"",20)},[t.syllabus,t.educationLevel,t.subject]),e.jsx("div",{style:{maxHeight:"90vh",overflowY:"auto",minHeight:"90vh"},children:e.jsxs(le,{spinning:m,children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsx("h3",{children:"No Topics Found"})}),s.length>0&&e.jsx(U,{style:{padding:0},children:e.jsx("ol",{children:s.map((S,$)=>e.jsxs("li",{children:[e.jsxs("span",{style:{fontWeight:"bolder",fontSize:18},children:[S.content,e.jsx("span",{style:{marginLeft:v?0:5},children:e.jsx("a",{children:e.jsx(Pe,{style:{color:"red"}})})})]}),e.jsx("ol",{children:S.subTopics.map(N=>e.jsxs("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:N.content}),e.jsx("ul",{children:N.objectives.map(F=>e.jsx("li",{style:{listStyle:"disc",listStylePosition:"inside",listStyleType:"circle"},children:F.content}))})]}))})]}))})})]})})},je=["red","green","blue","yellow","orange"],Qe=t=>{const[s,c]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[o,b]=n.useState(0);n.useState(20),n.useState("");const[m,d]=n.useState(!1),[r,v]=n.useState(!0);X(),u.useForm();const[p,S]=n.useState(!1),N=!B.useBreakpoint().lg,F=q=>{c(q),S(!0)},P=async(q,E="",C=100)=>{v(!0);const{data:f}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},page:{value:q,type:"Int",required:!0},key:{value:E,type:"String",required:!1},pageSize:{value:C,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});l(f.page),b(f.total),d(f.hasNext),i(f.results),v(!1)};return n.useEffect(()=>{P(1,"",100)},[t.syllabus,t.educationLevel]),e.jsxs(e.Fragment,{children:[e.jsx(le,{spinning:r,children:a.map(q=>e.jsx(e.Fragment,{children:e.jsx("a",{onClick:()=>F(q),children:e.jsx(D,{color:je[Math.floor(Math.random()*je.length)],style:{fontSize:16,padding:5,marginTop:10},children:q.name})})}))}),e.jsx(ie,{title:(s==null?void 0:s.name)+" Syllabus",anchor:"right",width:N?"100vw":"70vw",onClose:q=>S(q),open:p,children:e.jsx(Je,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:s})})]})},Ae=t=>{n.useState();const[s,c]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0);n.useState(20),n.useState("");const[o,b]=n.useState(!1),[m,d]=n.useState(!0);X(),u.useForm(),n.useState(!1),B.useBreakpoint().lg;const v=async(p,S="",$=100)=>{d(!0);const{data:N}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},page:{value:p,type:"Int",required:!0},key:{value:S,type:"String",required:!1},pageSize:{value:$,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(N.page),l(N.total),b(N.hasNext),c(N.results),d(!1)};return n.useEffect(()=>{v(1,"",20)},[t.syllabus]),e.jsx(e.Fragment,{children:e.jsx(le,{spinning:m,children:e.jsx(A,{style:{marginTop:10},children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("p",{style:{fontSize:20,marginTop:10},children:"No Data Found"})}),s.length>0&&e.jsx(ue,{mode:"left",children:s.map((p,S)=>e.jsxs(e.Fragment,{children:[e.jsx(ue.Item,{color:"red",children:e.jsx("span",{style:{fontSize:20},children:p.name})}),e.jsx(ue.Item,{color:"green",dot:!0,children:e.jsx(Qe,{syllabus:t.syllabus,educationLevel:p})})]}))})]})})})})},{Option:Ze}=K,et=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),i=async()=>{const{data:l}=await j.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});c(l.results)},h=async l=>{const{data:o}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:l.title,type:"String",required:!0},description:{value:l.description,type:"String",required:!1},year:{value:parseInt(l.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(l.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});o.success?(x.success(o.message),t.onFinish(o.syllabus)):x.error(o.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:a,onFinish:l=>{h(l)},requiredMark:!0,children:[e.jsx(u.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(K,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(Ze,{value:l.id,children:l.name},l.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Search:tt}=w,st=()=>{const[t,s]=n.useState([]),[c,a]=n.useState(!0),[i,h]=n.useState(!1);Oe();const o=!B.useBreakpoint().lg,b=async(d,r="",v=20)=>{const{data:p}=await j.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:d,type:"Int",required:!0},key:{value:r,type:"String",required:!1},pageSize:{value:v,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});s(p.results),a(!1)},m=async()=>{x.success("Syllabus subscription successful"),h(!1)};return n.useEffect(()=>{b(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:3},children:[e.jsx(A,{style:{display:"flex",justifyContent:"flex-start"},children:e.jsx(I,{span:o?24:8,children:e.jsx(tt,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsx("div",{style:{maxHeight:"calc(100vh - 150px)",overflowY:"auto"},children:t.map(d=>e.jsxs(A,{children:[e.jsx(I,{span:24,children:e.jsx(U,{children:e.jsxs("h1",{children:[d.title," ",e.jsx(D,{color:"red",style:{marginLeft:10},children:d.year})]})})}),e.jsx(I,{span:24,children:e.jsx(U,{children:e.jsx(Ae,{syllabus:d})})})]}))})]}),e.jsx(_,{title:"Syllabus Subscription",width:o?"100vw":"40vw",open:i,onClose:d=>h(d),children:e.jsx(et,{onFinish:m})})]})},at=()=>{const{push:t}=X();return n.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Syllabuses"})]})}),e.jsx(st,{})]})},{Search:nt}=w,it=t=>{var q;const[s,c]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[o,b]=n.useState(0);n.useState(20),n.useState("");const[m,d]=n.useState(!1),[r,v]=n.useState(!0);X(),u.useForm();const[p,S]=n.useState(!1),N=!B.useBreakpoint().lg,F=E=>{c(E),S(!0)},P=async(E,C="",f=20)=>{v(!0);const{data:z}=await j.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:E,type:"Int",required:!0},key:{value:C,type:"String",required:!1},pageSize:{value:f,type:"Int",required:!1},published:{value:!0,type:"Boolean",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});l(z.page),b(z.total),d(z.hasNext),i(z.results),v(!1)};return n.useEffect(()=>{P(1,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:N?24:8,children:e.jsx(nt,{size:"large",placeholder:"Search syllabus ..."})})}),e.jsx(le,{spinning:r,children:e.jsxs(A,{children:[a.length===0&&!r&&e.jsx(e.Fragment,{children:e.jsx(Ie,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},severity:"warning",children:"No syllabuses found"})}),a.map(E=>e.jsx(I,{span:6,children:e.jsxs(U,{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(W,{title:E.title,color:"green",placement:"right",children:e.jsxs("span",{style:{fontSize:26,display:"block",marginBottom:10},children:[ge(E.title,30),e.jsx(D,{color:"red",children:E.year})]})}),E.syllabusType&&e.jsx(D,{color:"green",style:{fontSize:18,padding:10},children:e.jsx(W,{title:e.jsx(e.Fragment,{children:E.syllabusType.name}),color:"green",placement:"top",children:ge(E.syllabusType.name,30)})}),e.jsx(W,{title:"Click to View Syllabus",color:"green",placement:"top",children:e.jsx(T,{size:"large",style:{display:"block",marginTop:10},icon:e.jsx(De,{}),onClick:()=>F(E),children:"Open/View"})})]})}))]})}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s==null?void 0:s.title}),e.jsx(D,{color:"green",style:{marginLeft:5},children:(q=s==null?void 0:s.syllabusType)==null?void 0:q.name}),e.jsx(D,{color:"red",style:{marginLeft:5},children:s==null?void 0:s.year})]}),width:N?"100vw":"75vw",open:p,onClose:E=>S(E),children:e.jsx("div",{style:{maxHeight:"85vh",overflowY:"auto"},children:e.jsx(Ae,{syllabus:s})})})]})},lt=()=>{const{push:t}=X();return n.useEffect(()=>(document.title=re.system_name+": Syllabuses",document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Syllabuses"})]})}),e.jsx(it,{})]})},{Option:rt}=K,ct=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),i=async()=>{const{data:l}=await j.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});c(l.results)},h=async l=>{const{data:o}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabus",variables:{title:{value:l.title,type:"String",required:!0},description:{value:l.description,type:"String",required:!1},year:{value:parseInt(l.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(l.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","isActive","created","updated","canDelete","canEdit","canManage"]}]}});o.success?(x.success(o.message),t.onFinish(o.syllabus)):x.error(o.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:a,onFinish:l=>{h(l)},requiredMark:!0,children:[e.jsx(u.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(w,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(u.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(Ce,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(u.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(K,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(rt,{value:l.id,children:l.name},l.id))})}),e.jsx(u.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(Ke,{onChange:l=>{a.setFieldsValue({description:l})}})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:dt}=K,{TextArea:ot}=w,ut=t=>{var l,o,b,m,d;const[s,c]=n.useState([]),[a]=u.useForm(),i=async()=>{const{data:r}=await j.custom({url:"",method:"get",meta:{operation:"syllabusTypes",variables:{},fields:[{results:["id","name"]}]}});c(r.results)},h=async r=>{var p;const{data:v}=await j.custom({url:"",method:"post",meta:{operation:"updateSyllabus",variables:{id:{value:(p=t.syllabus)==null?void 0:p.id,type:"Int",required:!0},title:{value:r.title,type:"String",required:!0},description:{value:r.description,type:"String",required:!1},year:{value:parseInt(r.year.toString()),type:"Int",required:!0},syllabusTypeId:{value:parseInt(r.syllabusTypeId.toString()),type:"Int",required:!0}},fields:["success","message",{syllabus:["id","title","description","year",{syllabusType:["id","name"]},"isActive","created","updated","canDelete","canEdit","canManage"]}]}});v.success?(x.success(v.message),t.onFinish(v.syllabus)):x.error(v.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:a,onFinish:r=>{h(r)},requiredMark:!0,initialValues:{title:(l=t.syllabus)==null?void 0:l.title,description:(o=t.syllabus)==null?void 0:o.description,year:(b=t.syllabus)==null?void 0:b.year,syllabusTypeId:(d=(m=t.syllabus)==null?void 0:m.syllabusType)==null?void 0:d.id},children:[e.jsx(u.Item,{name:"title",label:"Title",rules:[{required:!0,type:"string"}],children:e.jsx(w,{size:"large",placeholder:"Enter Title ..."})}),e.jsx(u.Item,{name:"year",label:"Year",rules:[{required:!0,type:"integer"}],children:e.jsx(Ce,{size:"large",style:{width:"25%"},min:new Date().getFullYear()-30,max:new Date().getFullYear()+5})}),e.jsx(u.Item,{name:"syllabusTypeId",label:"Syllabus Type",rules:[{required:!0,type:"integer"}],children:e.jsx(K,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(r=>e.jsx(dt,{value:r.id,children:r.name},r.id))})}),e.jsx(u.Item,{name:"description",label:"Description",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input description"}],children:e.jsx(ot,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{Option:be}=K,mt=t=>{const[s,c]=n.useState([]),[a,i]=n.useState([]),[h]=u.useForm(),l=async m=>{const{data:d}=await j.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m.educationLevelId,type:"Int",required:!0},subjectIds:{value:m.subjectIds,type:"[Int]",required:!0}},fields:["success","message"]}});d.success?(x.success(d.message),h.resetFields(),t.onFinish()):x.error(d.message)},o=async()=>{const{data:m}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(m.results)},b=async m=>{const{data:d}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0},educationLevelId:{value:m,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i(d.results)};return n.useEffect(()=>{o()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:h,onFinish:m=>{m.syllabusId=parseInt(t.syllabus.id.toString()),l(m)},requiredMark:!0,children:[e.jsx(u.Item,{name:"educationLevelId",label:"Education Level",rules:[{required:!0,type:"integer"}],children:e.jsx(K,{size:"large",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:m=>{a.length=0,i([]),h.resetFields(["subject"]),b(parseInt(m.toString()))},dropdownStyle:{zIndex:9999},children:s.map(m=>e.jsx(be,{value:parseInt(m.id.toString()),children:m.name},"educationLevel"+m.id))})}),e.jsx(u.Item,{name:"subjectIds",label:"Applicable Subject(s)",rules:[{required:!0,type:"array"}],children:e.jsx(K,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:()=>{},dropdownStyle:{zIndex:9999},children:a.map(m=>e.jsx(be,{value:parseInt(m.id.toString()),children:m.name},"subject"+m.id))})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{style:{color:"red"},size:"large",htmlType:"submit",icon:e.jsx(Y,{}),children:"Add"})})]})})},pt=t=>{const[s,c]=n.useState([]);u.useForm();const[a]=u.useForm(),i=async l=>{const{data:o}=await j.custom({url:"",method:"post",meta:{operation:"addSyllabusEducationLevelSubjects",variables:{syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectIds:{value:l,type:"[Int]",required:!0}},fields:["success","message"]}});o.success?(x.success(o.message),c(s.filter(b=>!l.includes(parseInt(b.id.toString())))),t.onFinish()):x.error(o.message)},h=async(l="")=>{const{data:o}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjectsToAdd",variables:{key:{value:l,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(o.results)};return n.useEffect(()=>{h()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(u,{layout:"vertical",form:a,onFinish:l=>{h(l.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(ce,{description:"No Subject Found ...",style:{width:"100%"}}),s.map(l=>e.jsx(U,{children:e.jsx(A,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:l.name}),e.jsx("span",{children:e.jsx(T,{icon:e.jsx(Y,{}),onClick:()=>i([parseInt(l.id.toString())])})})]})})}))]})})})]})},{TextArea:yt}=w,ht=t=>{const[s]=u.useForm(),c=async a=>{const{data:i}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusTopic",variables:{syllabusId:{value:parseInt(a.syllabusId.toString()),type:"Int",required:!0},subjectId:{value:parseInt(a.subjectId.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(a.educationLevelId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{topic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(x.success(i.message),t.onFinish(i.topic),s.resetFields()):x.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),c(a)},requiredMark:!0,children:[e.jsx(u.Item,{name:"index",label:"Topic Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Topic Index"}],children:e.jsx(w,{size:"large",placeholder:"Topic Index",autoComplete:"off",allowClear:!0})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(yt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:gt}=w,xt=t=>{const[s]=u.useForm(),c=async a=>{const{data:i}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusSubtopic",variables:{topicId:{value:parseInt(a.topicId.toString()),type:"Int",required:!0},content:{value:a.content.trim(),type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{subTopic:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(x.success(i.message),t.onFinish(i.subTopic),s.resetFields()):x.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),a.topicId=parseInt(t.topic.id.toString()),c(a)},requiredMark:!0,children:[e.jsx(u.Item,{name:"index",label:"Subtopic Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Subtopic Index"}],children:e.jsx(w,{size:"large",placeholder:"Subtopic Index"})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(gt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:jt}=w,bt=t=>{const[s]=u.useForm(),c=async a=>{const{data:i}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusObjective",variables:{subTopicId:{value:parseInt(a.subtopicId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{objective:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(x.success(i.message),t.onFinish(i.objective),s.resetFields()):x.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:s,onFinish:a=>{a.syllabusId=parseInt(t.syllabus.id.toString()),a.educationLevelId=parseInt(t.educationLevel.id.toString()),a.subjectId=parseInt(t.subject.id.toString()),a.topicId=parseInt(t.topic.id.toString()),a.subtopicId=parseInt(t.subtopic.id.toString()),c(a)},requiredMark:!0,children:[e.jsx(u.Item,{name:"index",label:"Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Index"}],children:e.jsx(w,{size:"large",placeholder:"Enter Index"})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please input Topic Content"}],children:e.jsx(jt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},{TextArea:St}=w,ft=t=>{const[s]=u.useForm(),c=async a=>{const{data:i}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusStrategy",variables:{objectiveId:{value:parseInt(a.objectiveId.toString()),type:"Int",required:!0},content:{value:a.content,type:"String",required:!0},index:{value:a.index,type:"String",required:!0}},fields:["success","message",{strategy:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});i.success?(x.success(i.message),t.onFinish(i.strategy),s.resetFields()):x.error(i.message)};return n.useEffect(()=>{},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:s,onFinish:a=>{a.objectiveId=parseInt(t.objective.id.toString()),c(a)},requiredMark:!0,children:[e.jsx(u.Item,{name:"index",label:"Strategy Index",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Index"}],children:e.jsx(w,{size:"large",placeholder:"Strategy Index"})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Strategy Content"}],children:e.jsx(St,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},vt=t=>{const[s,c]=n.useState([]),[a,i]=n.useState(!1),l=!B.useBreakpoint().lg,o=async d=>{const{data:r}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusStrategy",variables:{id:{value:d,type:"Int",required:!1}},fields:["success","message"]}});r.success?(x.success(r.message),b()):x.error(r.message)},b=async(d="")=>{const{data:r}=await j.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{key:{value:d,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(r.results)},m=async d=>{c([d,...s])};return n.useEffect(()=>{b()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Strategies",extra:e.jsx(e.Fragment,{children:e.jsx(W,{title:"Add New Strategy",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(Y,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("p",{style:{textAlign:"center",color:"gray"},children:"No Strategies Found"}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsx(te.Item,{actions:[e.jsx(T,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Delete the strategy?",placement:"left",onConfirm:()=>o(d.id),okText:"Yes",cancelText:"No",disabled:!d.canDelete,overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(me,{}),disabled:!d.canDelete,danger:!0})})],children:d.content})})]}),e.jsx(_,{title:"Create Strategy",width:l?"100vw":"30vw",open:a,onClose:d=>i(d),children:e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{fontSize:18},children:[e.jsx("span",{style:{fontWeight:"bolder"},children:"For Objective:"})," ",t.objective.content]}),e.jsx(ft,{objective:t.objective,onFinish:m})]})})]})},{TextArea:It}=w,{Option:Ct}=K,Tt=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),i=async()=>{const{data:l}=await j.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(l.results)},h=async l=>{const{data:o}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusAssessment",variables:{objectiveId:{value:parseInt(l.objectiveId.toString()),type:"Int",required:!0},materialId:{value:l.materialId,type:"Int",required:!1},content:{value:l.content,type:"String",required:!0}},fields:["success","message",{assessment:["id","content",{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o.success?(x.success(o.message),t.onFinish(o.assessment),a.resetFields()):x.error(o.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:a,onFinish:l=>{l.objectiveId=parseInt(t.objective.id.toString()),h(l)},requiredMark:!0,children:[e.jsx(u.Item,{name:"materialId",label:"Material",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Material ..."}],children:e.jsx(K,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},children:s.map(l=>e.jsx(Ct,{value:parseInt(l.id.toString()),children:l.content},"material"+l.id))})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Assessment Content"}],children:e.jsx(It,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Ft=t=>{const[s,c]=n.useState([]),[a,i]=n.useState(!1),l=!B.useBreakpoint().lg,o=async d=>{c([d,...s])},b=async()=>{const{data:d}=await j.custom({url:"",method:"get",meta:{operation:"objectiveAssessments",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content",{objective:["id","content"]},{material:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(d.results)},m=async d=>{const{data:r}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusAssessment",variables:{id:{value:parseInt(d.toString()),type:"Int",required:!0}},fields:["success","message"]}});r.success?(x.success(r.message),b()):x.error(r.message)};return n.useEffect(()=>{b()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Assessment",extra:e.jsx(e.Fragment,{children:e.jsx(W,{title:"Add new Assessment",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(Y,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Assessment"})}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsxs(te.Item,{actions:[e.jsx(T,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Are you sure delete this Assessment?",placement:"top",onConfirm:()=>m(d.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(me,{}),danger:!0})})],children:[d.content,d.material&&e.jsx(W,{title:"Material Content Related",color:"green",placement:"top",children:e.jsx(D,{color:"green",style:{marginLeft:10},children:d.material.content})})]})})]}),e.jsx(_,{title:"Create Assessment",width:l?"100vw":"40vw",open:a,onClose:d=>i(d),children:e.jsx(Tt,{objective:t.objective,onFinish:o})})]})},{TextArea:Mt}=w,{Option:At}=K,qt=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),i=async()=>{const{data:l}=await j.custom({url:"",method:"get",meta:{operation:"syllabusObjectiveStrategies",variables:{objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:[{results:["id","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(l.results)},h=async l=>{const{data:o}=await j.custom({url:"",method:"post",meta:{operation:"createSyllabusMaterial",variables:{objectiveId:{value:parseInt(l.objectiveId.toString()),type:"Int",required:!0},strategyId:{value:l.strategyId,type:"Int",required:!1},content:{value:l.content,type:"String",required:!0},index:{value:l.index,type:"String",required:!0}},fields:["success","message",{material:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});o.success?(x.success(o.message),t.onFinish(o.material),a.resetFields()):x.error(o.message)};return n.useEffect(()=>{i()},[t.randKey]),e.jsx(e.Fragment,{children:e.jsxs(u,{layout:"vertical",form:a,onFinish:l=>{l.objectiveId=parseInt(t.objective.id.toString()),h(l)},requiredMark:!0,children:[e.jsx(u.Item,{name:"index",label:"Material Index",style:{marginBottom:"12px"},rules:[{required:!1,type:"string",message:"Please Enter Material Index"}],children:e.jsx(w,{size:"large",placeholder:"Enter Matrial Index"})}),e.jsx(u.Item,{name:"strategyId",label:"Strategy",style:{marginBottom:"12px"},rules:[{required:!1,type:"integer",message:"Please choose Stragegy"}],help:"If you want to add a strategy to this material, please choose one. Leave it blank if you don't want to add a strategy",children:e.jsx(K,{size:"large",style:{width:"100%"},onChange:()=>{},dropdownStyle:{zIndex:9999},allowClear:!0,children:s.map(l=>e.jsx(At,{value:parseInt(l.id.toString()),children:l.content},"strategory"+l.id))})}),e.jsx(u.Item,{name:"content",label:"Content",style:{marginBottom:"12px"},rules:[{required:!0,type:"string",message:"Please input Material Content"}],children:e.jsx(Mt,{rows:4})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},Et=t=>{const[s,c]=n.useState([]),[a,i]=n.useState(!1),l=!B.useBreakpoint().lg,o=async(d="")=>{const{data:r}=await j.custom({url:"",method:"get",meta:{operation:"objectiveMaterials",variables:{key:{value:d,type:"String",required:!1},objectiveId:{value:parseInt(t.objective.id.toString()),type:"Int",required:!0}},fields:["page","total","hasNext","hasPrev",{results:["id","content",{strategy:["id","content"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(r.results)},b=async d=>{const{data:r}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusMaterial",variables:{id:{value:parseInt(d.toString()),type:"Int",required:!0}},fields:["success","message"]}});r.success?(x.success(r.message),o()):x.error(r.message)},m=async d=>{c([d,...s])};return n.useEffect(()=>{o()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsxs(U,{title:"Materials",extra:e.jsx(e.Fragment,{children:e.jsx(W,{title:"Add new Material",placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(Y,{}),onClick:()=>i(!0)})})}),children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Materials"})}),s.length>0&&e.jsx(te,{bordered:!0,dataSource:s,renderItem:d=>e.jsxs(te.Item,{actions:[e.jsx(T,{icon:e.jsx(de,{})}),e.jsx(H,{title:"Are you sure delete this Material?",onConfirm:()=>b(d.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(me,{}),danger:!0})})],children:[d.content,d.strategy&&e.jsx(W,{title:"Related Strategy",color:"green",placement:"top",children:e.jsx(D,{color:"green",style:{marginLeft:10},children:d.strategy.content})})]})})]}),e.jsx(_,{title:"Creating Material",width:l?"100vw":"40vw",open:a,onClose:d=>i(d),children:e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{severity:"info",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Tip:"})," Material will be used in the Objective below"]}),e.jsxs("p",{children:[e.jsx("b",{children:e.jsx("i",{children:t.objective.content})}),"."]})]}),e.jsx(qt,{objective:t.objective,onFinish:m})]})})]})},{Panel:Nt}=ae,Lt=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),[i,h]=n.useState(!1),o=!B.useBreakpoint().lg,b=async p=>{c([...s,p])},m=async(p="")=>{const{data:S}=await j.custom({url:"",method:"get",meta:{operation:"syllabusSubtopicObjectives",variables:{key:{value:p,type:"String",required:!1},subtopicId:{value:parseInt(t.subtopic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","content","index","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(S.results)},d=async p=>{const{data:S}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusObjective",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}});S.success?(x.success(S.message),m()):x.error(S.message)},r=()=>e.jsx(u,{layout:"vertical",form:a,onFinish:p=>{m(p.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})}),v=()=>e.jsx(T,{icon:e.jsx(Y,{}),size:"large",onClick:()=>h(!0),children:"Add New Objective"});return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Objectives"}),e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[o&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:v()}),e.jsx(I,{span:24,children:r()})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:16,children:r()}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:v()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(ce,{description:"No Subtopic Objective Found ...",style:{width:"100%"}}),e.jsx(ae,{children:s.map(p=>e.jsxs(Nt,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsx("span",{children:p.content})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>d(p.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{danger:!0,icon:e.jsx(se,{})})})})}),children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(vt,{objective:p})})}),e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(Et,{objective:p})})}),e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:24,children:e.jsx(Ft,{objective:p})})})]},"objective-"+p.id))})]})})}),e.jsx(_,{title:"Adding Subtopic Objective",width:o?"100vw":"40vw",open:i,onClose:p=>h(p),children:e.jsx(bt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:t.subtopic,onFinish:b})})]})},{Panel:wt}=ae,zt=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),[i,h]=n.useState(!1),o=!B.useBreakpoint().lg,b=async p=>{c([...s,p])},m=async(p="")=>{const{data:S}=await j.custom({url:"",method:"get",meta:{operation:"syllabusSubtopics",variables:{key:{value:p,type:"String",required:!1},topicId:{value:parseInt(t.topic.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(S.results)},d=async p=>{const{data:S}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusSubtopic",variables:{id:{value:p,type:"Int",required:!0}},fields:["success","message"]}});S.success?(x.success(S.message),m()):x.error(S.message)},r=()=>e.jsx(u,{layout:"vertical",form:a,onFinish:p=>{m(p.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})}),v=()=>e.jsx(T,{icon:e.jsx(Y,{}),size:"large",onClick:()=>h(!0),children:"Add New Sub-Topic"});return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:16,fontWeight:"bolder"},children:"Subtopics"}),e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[o&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:v()}),e.jsx(I,{span:24,children:r()})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:16,children:r()}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:v()})]})]})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(ce,{description:"No  Subtopic Found ...",style:{width:"100%"}}),e.jsx(ae,{onChange:()=>{},children:s.map(p=>e.jsx(wt,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(D,{children:p.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:p.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Sub-Topic",placement:"left",onConfirm:()=>d(p.id),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{danger:!0,icon:e.jsx(se,{})})})})}),children:e.jsx(Lt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,subtopic:p})},"subtopic-"+p.id))})]})})}),e.jsx(_,{title:"Adding Sub Topics",width:o?"100vw":"40vw",open:i,onClose:p=>h(p),children:e.jsx(xt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:t.topic,onFinish:b})})]})},{Panel:$t}=ae,kt=t=>{const[s,c]=n.useState([]),[a]=u.useForm(),[i,h]=n.useState(!1),o=!B.useBreakpoint().lg,b=async r=>{c([...s,r])},m=async(r="")=>{const{data:v}=await j.custom({url:"",method:"get",meta:{operation:"syllabusTopicsNarrow",variables:{key:{value:r,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0},subjectId:{value:parseInt(t.subject.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","index","content","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(v.results)},d=async r=>{const{data:v}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusTopic",variables:{id:{value:r,type:"Int",required:!0}},fields:["success","message"]}});v.success?(x.success(v.message),c(s.filter(p=>p.id!==r))):x.error(v.message)};return n.useEffect(()=>{m()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(A,{style:{marginTop:10},children:[e.jsx(I,{span:16,children:e.jsx(u,{layout:"vertical",form:a,onFinish:r=>{m(r.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})}),e.jsx(I,{span:8,style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(T,{icon:e.jsx(Y,{}),size:"large",onClick:()=>h(!0),children:"Add New Topic"})})]})}),e.jsx("div",{style:{overflowY:"auto",minHeight:"80vh",maxHeight:"80vh"},children:e.jsx(A,{children:e.jsxs(I,{span:24,children:[s.length===0&&e.jsx(ce,{description:"No Subject Topics Found ...",style:{width:"100%"}}),e.jsx(ae,{children:s.map(r=>e.jsx($t,{header:e.jsx(e.Fragment,{children:e.jsx(A,{children:e.jsx(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx(D,{children:r.index}),e.jsx("span",{dangerouslySetInnerHTML:{__html:r.content.replace(/<p>/g,"").replace(/<\/p>/g,"")}})]})})})}),extra:e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(H,{title:"Delete the Topic",placement:"left",okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},disabled:!r.canDelete,onConfirm:()=>d(r.id),children:e.jsx(T,{danger:!0,icon:e.jsx(se,{}),disabled:!r.canDelete})})})}),children:e.jsx(zt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,topic:r})},r.id))})]})})}),e.jsx(_,{title:"Adding Topics",width:o?"100vw":"40vw",open:i,onClose:r=>h(r),children:e.jsx(ht,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:t.subject,onFinish:b})})]})},Pt=t=>{const[s,c]=n.useState([]),[a,i]=n.useState();u.useForm();const[h]=u.useForm(),[l,o]=n.useState(!1),[b,m]=n.useState(!1),r=!B.useBreakpoint().lg,v=async F=>{i(F),m(!0)},p=async F=>{const{data:P}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabusEducationLevelSubject",variables:{subjectId:{value:parseInt(F.toString()),type:"Int",required:!0},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["success","message"]}});P.success?(x.success(P.message),S()):x.error(P.message)},S=async(F="")=>{const{data:P}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelSubjects",variables:{key:{value:F,type:"String",required:!1},syllabusId:{value:parseInt(t.syllabus.id.toString()),type:"Int",required:!0},educationLevelId:{value:parseInt(t.educationLevel.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(P.results)},$=()=>e.jsx(W,{title:"Add Subjects to "+t.educationLevel.name,placement:"top",color:"green",children:e.jsx(T,{icon:e.jsx(Y,{}),size:"small",onClick:()=>o(!0),children:"Subject(s)"})}),N=()=>e.jsxs("h3",{children:[t.educationLevel.name," Subjects"]});return n.useEffect(()=>{S()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(A,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"end"},children:$()}),e.jsx(I,{span:24,children:N()})]}),!r&&e.jsx(e.Fragment,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[N(),$()]})})]})}),e.jsx("div",{children:e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:r?24:12,children:e.jsx(u,{layout:"vertical",form:h,onFinish:F=>{S(F.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})})}),e.jsxs("div",{style:{maxHeight:"55vh",minHeight:"55vh",overflowY:"auto"},children:[s.length===0&&e.jsx("div",{style:{textAlign:"center",marginTop:20},children:e.jsx("h3",{children:"No Subjects Found"})}),s.map(F=>e.jsx(U,{children:e.jsx(A,{children:e.jsxs(I,{span:24,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx("a",{onClick:()=>v(F),children:F.name})}),e.jsxs("span",{children:[e.jsx(W,{title:"Manage Subject Syllabus",placement:"top",color:"green",children:e.jsx(T,{style:{margin:3},icon:e.jsx(fe,{}),size:"small",type:"primary",onClick:()=>v(F)})}),e.jsx(H,{title:"Are you sure delete/remove this Subject?",onConfirm:()=>p(F.id),okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(se,{}),size:"small",type:"primary",danger:!0})})]})]})})}))]}),e.jsx(ie,{title:"Adding Subjects",width:r?"100vw":"30vw",anchor:"right",onClose:F=>o(F),open:l,children:e.jsx(pt,{educationLevel:t.educationLevel,syllabus:t.syllabus,onFinish:S})}),e.jsx(ie,{title:(a==null?void 0:a.name)+" Topics ",width:r?"100vw":"70vw",anchor:"right",onClose:F=>m(F),open:b,children:e.jsx(kt,{syllabus:t.syllabus,educationLevel:t.educationLevel,subject:a})})]})},{TabPane:Ot}=ve,Dt=t=>{const[s,c]=n.useState([]),[a,i]=n.useState(!1),l=!B.useBreakpoint().lg,o=async()=>{const{data:m}=await j.custom({url:"",method:"get",meta:{operation:"syllabusEducationLevelsUnique",variables:{syllabusId:{value:t.syllabus.id,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});c(m.results)},b=async()=>{o()};return n.useEffect(()=>{o()},[t.randKey]),e.jsxs(e.Fragment,{children:[e.jsx(W,{title:"Add New Education Level",placement:"top",color:"green",children:e.jsx(T,{size:"large",icon:e.jsx(Y,{}),onClick:()=>i(!0),children:"Add Education Level"})}),e.jsxs(U,{style:{marginTop:3},children:[s.length===0&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h3",{children:"No Education Levels Added"})}),s.length>0&&e.jsx(ve,{defaultActiveKey:"1",tabPosition:"left",children:s.map(m=>e.jsx(Ot,{tab:m.name,children:e.jsx(Pt,{educationLevel:m,syllabus:t.syllabus,randKey:Math.random()})},m.id))})]}),e.jsx(_,{title:"Adding Education Levels",open:a,width:l?"100vw":"40vw",onClose:m=>i(m),children:e.jsx(mt,{randKey:Math.random(),syllabus:t.syllabus,onFinish:b})})]})},Bt=t=>{const[s,c]=n.useState(),[a,i]=n.useState([]),[h,l]=n.useState(1),[o,b]=n.useState(0),[m,d]=n.useState(20),[r,v]=n.useState(""),[p,S]=n.useState(!1),[$,N]=n.useState(!0);X();const[F]=u.useForm();u.useForm();const q=!B.useBreakpoint().lg,[E,C]=n.useState(!1),[f,z]=n.useState(!1),[V,Z]=n.useState(!1),ee=M=>{c(M),Z(!0)},L=M=>{c(M),C(!0)},g=async M=>{const{data:y}=await j.custom({url:"",method:"post",meta:{operation:"deleteSyllabus",variables:{id:{value:M,type:"Int",required:!0}},fields:["success","message"]}});y.success?(x.success(y.message),i(a.filter(k=>k.id!==M))):x.error(y.message)},O=async(M,y)=>{const{data:k}=await j.custom({url:"",method:"post",meta:{operation:"publishUnpublishSyllabus",variables:{syllabusId:{value:M,type:"Int",required:!0},publish:{value:y,type:"Boolean",required:!0}},fields:["success","message",{syllabus:["id","title","description","year","created","updated","isActive","isPublished","canDelete","canEdit","canManage"]}]}});k.success?(x.success(k.message),i(a.map(R=>R.id===k.syllabus.id?k.syllabus:R))):x.error(k.message)},G=[{title:"Title",dataIndex:"title",fixed:!0,render:(M,y,k)=>e.jsx("span",{children:e.jsx("a",{children:y.title})})},{title:"Syllabus Type",dataIndex:"syllabusType",render:(M,y,k)=>{var R;return e.jsx("span",{children:e.jsx("a",{children:(R=y==null?void 0:y.syllabusType)==null?void 0:R.name})})}},{title:"Year",dataIndex:"year",render:(M,y,k)=>e.jsx("span",{children:y.year})},{title:"Published",dataIndex:"isPublished",render:(M,y,k)=>e.jsx(e.Fragment,{children:y!=null&&y.isPublished?e.jsx(e.Fragment,{children:e.jsx(H,{title:"Unpublish this syllabus?",onConfirm:()=>O(y.id,!1),okText:"Unpublish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(D,{color:"green",children:"Published"})})})}):e.jsx(H,{title:"Publish this syllabus?",onConfirm:()=>O(y.id,!0),okText:"Publish",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx("a",{children:e.jsx(D,{color:"red",children:"Not Published"})})})})},{title:"Description",dataIndex:"description",render:(M,y,k)=>e.jsx("span",{children:y.description})},{title:"Created",dataIndex:"created",render:(M,y,k)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Te,{date:new Date(y.created)})})})},{title:"Status",dataIndex:"isActive",render:(M,y,k)=>e.jsx("a",{children:y!=null&&y.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(M,y,k)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(W,{title:"Manage Syllabus Education Levels Subjects",placement:"top",color:"green",children:e.jsx(T,{disabled:!(y!=null&&y.canManage),onClick:()=>ee(y),icon:e.jsx(fe,{})})}),e.jsx(H,{title:"Are you sure to delete this Syllabus?",onConfirm:()=>g(y==null?void 0:y.id),okText:"Yes",cancelText:"No",disabled:!(y!=null&&y.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(se,{}),disabled:!(y!=null&&y.canDelete)})}),e.jsx(T,{disabled:!(y!=null&&y.canEdit),onClick:()=>L(y),icon:e.jsx(de,{})})]})}],qe=async M=>{i([M,...a]),z(!1)},Ee=async M=>{i(a.map(y=>y.id===M.id?M:y)),C(!1)},oe=async(M,y="",k=20)=>{const{data:R}=await j.custom({url:"",method:"get",meta:{operation:"syllabuses",variables:{page:{value:M,type:"Int",required:!0},key:{value:y,type:"String",required:!1},pageSize:{value:k,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","title","description",{syllabusType:["id","name"]},"year","isActive","isPublished","created","updated","canEdit","canDelete","canManage"]}]}});l(R.page),b(R.total),S(R.hasNext),i(R.results),N(!1)},ye=()=>e.jsx(T,{size:"large",icon:e.jsx(Y,{}),onClick:()=>z(!0),children:"Create/Add"}),he=()=>e.jsx(u,{layout:"vertical",form:F,onFinish:M=>{l(1),a.length=0,oe(1,M.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})});return n.useEffect(()=>{oe(h,"",20)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(A,{style:{marginTop:10},children:[q&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"flex-end"},children:ye()}),e.jsx(I,{span:24,children:he()})]}),!q&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:12,children:he()}),e.jsx(I,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:ye()})]})]}),e.jsx("div",{children:e.jsx(pe,{loading:$,columns:G,dataSource:a,scroll:{x:!0},pagination:{onChange:(M,y)=>{d(y),oe(M,r,y)},total:o,pageSize:m,position:["bottomCenter"],showQuickJumper:!0}})}),e.jsx(_,{title:"Creating/Adding Syllabus",width:q?"100vw":"40vw",open:f,onClose:M=>z(M),children:e.jsx(ct,{onFinish:qe,randKey:Math.random()})}),e.jsx(_,{title:"Edit Syllabus",width:q?"100vw":"40vw",open:E,onClose:M=>C(M),children:e.jsx(ut,{onFinish:Ee,randKey:Math.random(),syllabus:s})}),e.jsx(_,{title:"Syllabus Education Levels Subjects",width:q?"100vw":"80vw",open:V,onClose:M=>Z(M),children:e.jsx(Dt,{syllabus:s,randKey:Math.random()})})]})},Ht=()=>{const{push:t}=X();return n.useEffect(()=>{document.title=re.system_name+": Syllabuses"},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:10},children:e.jsxs(J,{children:[e.jsx(J.Item,{children:e.jsx("a",{onClick:()=>t("/syllabus"),children:"Home"})}),e.jsx(J.Item,{children:"Manage Syllabuses"})]})}),e.jsx(Bt,{})]})},Kt=t=>{const[s,c]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0),[o,b]=n.useState(20),[m,d]=n.useState(""),[r,v]=n.useState(!1),[p,S]=n.useState(!0);X();const[$]=u.useForm(),F=!B.useBreakpoint().lg,P=async C=>{const{data:f}=await j.custom({url:"",method:"post",meta:{operation:"addSyllabusManager",variables:{userId:{value:C,type:"Int",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});f.success?(x.success(f.message),c(s.filter(z=>parseInt(z.id.toString())!==parseInt(C.toString()))),t.onAdd(f.syllabusManager)):x.error(f.message)},q=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(C,f,z)=>e.jsx("span",{children:e.jsx("a",{children:f.fullName})})},{title:"Email",dataIndex:"email",render:(C,f,z)=>e.jsxs("span",{children:[f.email&&e.jsx(D,{color:"green",children:f.email}),f.phone&&e.jsx(D,{color:"green",children:f.phone})]})},{title:"",dataIndex:"action",render:(C,f,z)=>e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(H,{title:"Are you sure to Add this Syllabus Manager?",placement:"left",onConfirm:()=>P(parseInt(f==null?void 0:f.id)),okText:"Yes",cancelText:"No",disabled:!(f!=null&&f.canManage),overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(Y,{}),disabled:!(f!=null&&f.canManage),danger:!0})})})}],E=async(C,f="",z=20)=>{const{data:V}=await j.custom({url:"",method:"get",meta:{operation:"syllabusManagersToAdd",variables:{page:{value:C,type:"Int",required:!0},key:{value:f,type:"String",required:!1},pageSize:{value:z,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}});i(V.page),l(V.total),v(V.hasNext),c(V.results),S(!1)};return n.useEffect(()=>{E(a)},[]),e.jsxs(e.Fragment,{children:[e.jsx(A,{style:{marginTop:10},children:e.jsx(I,{span:F?24:18,children:e.jsx(u,{layout:"vertical",form:$,onFinish:C=>{i(1),s.length=0,E(1,C.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})})}),e.jsx(pe,{loading:p,columns:q,dataSource:s,scroll:{x:!0},pagination:{onChange:(C,f)=>{b(f),E(C,m,f)},total:h,pageSize:o,position:["bottomCenter"],showQuickJumper:!0}})]})},Yt=t=>{n.useState();const[s,c]=n.useState([]),[a,i]=n.useState(1),[h,l]=n.useState(0),[o,b]=n.useState(20),[m,d]=n.useState(""),[r,v]=n.useState(!1),[p,S]=n.useState(!0);X();const[$]=u.useForm(),F=!B.useBreakpoint().lg,[P,q]=n.useState(!1),E=async L=>{const{data:g}=await j.custom({url:"",method:"post",meta:{operation:"removeSyllabusManager",variables:{id:{value:L,type:"Int",required:!0}},fields:["success","message"]}});g.success?(x.success(g.message),c(s.filter(O=>O.id!==L))):x.error(g.message)},C=async(L,g)=>{const{data:O}=await j.custom({url:"",method:"post",meta:{operation:"blockUnblockSyllabusManager",variables:{id:{value:L,type:"Int",required:!0},block:{value:g,type:"Boolean",required:!0}},fields:["success","message",{syllabusManager:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});O.success?(x.success(O.message),c(s.map(G=>G.id===L?O.syllabusManager:G))):x.error(O.message)},f=[{title:"Full Name",dataIndex:"full_name",fixed:!0,render:(L,g,O)=>e.jsx("span",{children:e.jsx("a",{children:g.user.fullName})})},{title:"Email",dataIndex:"email",render:(L,g,O)=>e.jsxs("span",{children:[g.user.email&&e.jsx(D,{color:"green",children:g.user.email}),g.user.phone&&e.jsx(D,{color:"green",children:g.user.phone})]})},{title:"Date Created",dataIndex:"created",render:(L,g,O)=>e.jsx(e.Fragment,{children:e.jsx("span",{children:e.jsx(Te,{date:new Date(g.created)})})})},{title:"Status",dataIndex:"isActive",render:(L,g,O)=>e.jsx("a",{children:g!=null&&g.isActive?e.jsx("span",{style:{color:"green"},children:"Active"}):e.jsx("span",{style:{color:"red"},children:"Inactive"})})},{title:"",dataIndex:"action",render:(L,g,O)=>e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(H,{title:"Are you sure to delete this Syllabus Manager?",placement:"left",onConfirm:()=>E(parseInt(g==null?void 0:g.id)),onCancel:()=>{},okText:"Yes",cancelText:"No",disabled:!(g!=null&&g.canDelete),overlayStyle:{zIndex:9999},children:e.jsx(T,{style:{marginRight:10},icon:e.jsx(se,{}),disabled:!(g!=null&&g.canDelete),danger:!0})}),g.isActive?e.jsx(H,{title:"Blocking Manager???",placement:"left",onConfirm:()=>C(parseInt(g==null?void 0:g.id),!1),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(Be,{}),disabled:!(g!=null&&g.canManage),danger:!0})}):e.jsx(H,{title:"Blocking Manager???",placement:"left",onConfirm:()=>C(parseInt(g==null?void 0:g.id),!0),onCancel:()=>{},okText:"Yes",cancelText:"No",overlayStyle:{zIndex:9999},children:e.jsx(T,{icon:e.jsx(He,{}),disabled:!(g!=null&&g.canEdit),danger:!0})})]})}],z=async(L,g="",O=20)=>{const{data:G}=await j.custom({url:"",method:"get",meta:{operation:"syllabusManagers",variables:{page:{value:L,type:"Int",required:!0},key:{value:g,type:"String",required:!1},pageSize:{value:O,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","created","updated","isActive","canDelete","canManage","canEdit",{user:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]},{createdBy:["id","firstName","lastName","email","middleName","fullName","phone","pic","isActive","isStaff","isAdmin","ldapAuth","created","updated","canEdit","canDelete","canManage"]}]}]}});i(G.page),l(G.total),v(G.hasNext),c(G.results),S(!1)},V=async L=>{c([L,...s])},Z=()=>e.jsx(e.Fragment,{children:e.jsx(u,{layout:"vertical",form:$,onFinish:L=>{i(1),s.length=0,z(1,L.key)},children:e.jsx(u.Item,{name:"key",children:e.jsx(w,{size:"large",placeholder:"Search ...",prefix:e.jsx(Q,{}),autoComplete:"off",allowClear:!0})})})}),ee=()=>e.jsx(T,{size:"large",icon:e.jsx(Y,{}),onClick:()=>q(!0),danger:!0,children:"Add Manager"});return n.useEffect(()=>{z(a)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(A,{style:{marginTop:10},children:[F&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:24,style:{display:"flex",justifyContent:"end"},children:ee()}),e.jsx(I,{span:24,children:Z()})]}),!F&&e.jsxs(e.Fragment,{children:[e.jsx(I,{span:10,children:Z()}),e.jsx(I,{span:14,style:{display:"flex",justifyContent:"end"},children:ee()})]})]}),e.jsx(pe,{loading:p,columns:f,dataSource:s,scroll:{x:!0},pagination:{onChange:(L,g)=>{b(g),z(L,m,g)},total:h,pageSize:o,position:["bottomCenter"],showQuickJumper:!0}}),e.jsx(ie,{title:"Adding Syllabus Manager",width:F?"100vw":"35vw",anchor:"right",onClose:L=>q(L),open:P,children:e.jsx(Kt,{onAdd:V})})]})},_t=()=>(n.useEffect(()=>{document.title=re.system_name+": Syllabuses Managers"},[]),e.jsx("div",{style:{marginTop:10},children:e.jsx(Yt,{})})),as=t=>{const{page:s}=t;return s==="SyllabusesManagersPage"?e.jsx(_t,{}):s==="SyllabusesManagementPage"?e.jsx(Ht,{}):s==="SyllabusesPage"?e.jsx(lt,{}):s==="SyllabusHomePage"?e.jsx(at,{}):e.jsx("div",{children:"Page not found ..."})};export{as as SyllabusPages};
