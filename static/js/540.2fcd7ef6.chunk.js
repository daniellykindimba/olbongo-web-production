"use strict";(self.webpackChunkolbongo=self.webpackChunkolbongo||[]).push([[540],{73362:function(e,t,n){n.d(t,{v:function(){return s}});var r=n(840),a=n(80184),s=function(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.l0,{layout:"vertical",form:e.form,onFinish:function(t){e.onFinish(t)},requiredMark:!1,children:[(0,a.jsx)(r.l0.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input Name"}],children:(0,a.jsx)(r.II,{size:"large",placeholder:"Enter Name ..."})}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,a.jsx)(r.zx,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})}},68141:function(e,t,n){n.d(t,{_:function(){return o}});var r=n(29439),a=n(840),s=n(72791),i=n(80184),o=function(e){var t=(0,s.useState)(e.ward.isActive),n=(0,r.Z)(t,2),o=n[0],c=n[1];return(0,s.useEffect)((function(){e.form.setFieldsValue({name:e.ward.name,isActive:e.ward.isActive})}),[e.form,e.ward]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.l0,{layout:"vertical",form:e.form,onFinish:function(t){t.isActive=o,t.id=parseInt(e.ward.id),e.onFinish(t)},requiredMark:!1,children:[(0,i.jsx)(a.l0.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input Name"}],children:(0,i.jsx)(a.II,{size:"large",placeholder:"Enter Name ..."})}),(0,i.jsx)(a.l0.Item,{name:"isActive",children:(0,i.jsx)(a.XZ,{checked:o,onChange:function(){return c(!o)},children:"Active"})}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(a.zx,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})}},46555:function(e,t,n){n.r(t),n.d(t,{SchoolsTypesPage:function(){return F}});var r=n(78164),a=n(43504),s=n(93433),i=n(74165),o=n(15861),c=n(29439),l=n(92827),u=n(82622),d=n(31752),p=n(11730),h=n(14057),f=n(840),x=n(72518),m=n(87012),v=n(72791),y=n(50333),g=n(73362),j=n(68141),S=n(79286),Z=n(80184),w=function(e){var t=(0,v.useState)(),n=(0,c.Z)(t,2),r=(n[0],n[1],(0,v.useState)([])),a=(0,c.Z)(r,2),s=a[0],l=a[1],u=(0,v.useState)(1),d=(0,c.Z)(u,2),h=d[0],y=d[1],g=(0,v.useState)(0),j=(0,c.Z)(g,2),w=j[0],I=j[1],C=(0,v.useState)(20),T=(0,c.Z)(C,2),k=T[0],b=T[1],A=(0,v.useState)(""),q=(0,c.Z)(A,2),z=q[0],D=(q[1],(0,v.useState)(!1)),E=(0,c.Z)(D,2),F=(E[0],E[1]),M=(0,v.useState)(!0),N=(0,c.Z)(M,2),_=N[0],P=N[1],G=((0,x.HJ)().push,f.l0.useForm()),J=(0,c.Z)(G,1)[0],O=(f.rj.useBreakpoint(),function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.yw.destroy(),t.next=3,m.E.custom({url:"",method:"post",metaData:{operation:"addSchoolTypeCurriculum",variables:{schoolTypeId:{value:parseInt(e.schoolType.id.toString()),type:"Int",required:!0},curriculumId:{value:n,type:"Int",required:!0}},fields:["success","message",{schoolTypeCurriculum:["id",{schoolType:["id"]},{curriculum:["id","name","code","description"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 3:r=t.sent,(a=r.data).success?(f.yw.success(a.message),e.onAdd(a.schoolTypeCurriculum),l(s.filter((function(e){return e.id!==n})))):f.yw.error(a.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),X=[{title:"Name",dataIndex:"name",fixed:!0,render:function(e,t){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.name})})}},{title:"Code",dataIndex:"code",fixed:!0,render:function(e,t){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.code})})}},{title:"",dataIndex:"action",render:function(e,t){return(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.gn,{title:"Are you sure to Add this School Type Curriculum?",placement:"left",onConfirm:function(){return O(null===t||void 0===t?void 0:t.id)},onCancel:function(){},okText:"Yes",cancelText:"No",disabled:!(null!==t&&void 0!==t&&t.canManage),children:(0,Z.jsx)(f.zx,{icon:(0,Z.jsx)(S.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canManage)})})})}}],B=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,a,s,o,c=arguments;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",a=c.length>2&&void 0!==c[2]?c[2]:20,t.next=4,m.E.custom({url:"",method:"get",metaData:{operation:"schoolTypeCurriculumsToAdd",variables:{page:{value:n,type:"Int",required:!0},key:{value:r,type:"String",required:!1},pageSize:{value:a,type:"Int",required:!1},schoolTypeId:{value:parseInt(e.schoolType.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 4:s=t.sent,o=s.data,y(o.page),I(o.total),F(o.hasNext),l(o.results),P(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,v.useEffect)((function(){B(h,"",20)}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(f.X2,{style:{marginTop:10},children:(0,Z.jsx)(f.JX,{span:24,children:(0,Z.jsx)(f.l0,{layout:"vertical",form:J,onFinish:function(e){y(1),s.length=0,B(1,e.key)},children:(0,Z.jsx)(f.l0.Item,{name:"key",children:(0,Z.jsx)(f.II,{size:"large",placeholder:"Search ...",prefix:(0,Z.jsx)(p.Z,{}),autoComplete:"off",allowClear:!0})})})})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(f.iA,{loading:_,columns:X,dataSource:s,scroll:{x:!0},pagination:{onChange:function(e,t){b(t),B(e,z,t)},total:w,pageSize:k,position:["bottomCenter"],showQuickJumper:!0}})})]})},I=function(e){var t=(0,v.useState)(),n=(0,c.Z)(t,2),r=(n[0],n[1],(0,v.useState)([])),a=(0,c.Z)(r,2),l=a[0],d=a[1],h=(0,v.useState)(1),g=(0,c.Z)(h,2),j=g[0],I=g[1],C=(0,v.useState)(0),T=(0,c.Z)(C,2),k=T[0],b=T[1],A=(0,v.useState)(20),q=(0,c.Z)(A,2),z=q[0],D=q[1],E=(0,v.useState)(""),F=(0,c.Z)(E,2),M=F[0],N=(F[1],(0,v.useState)(!1)),_=(0,c.Z)(N,2),P=(_[0],_[1]),G=(0,v.useState)(!0),J=(0,c.Z)(G,2),O=J[0],X=J[1],B=((0,x.HJ)().push,f.l0.useForm()),R=(0,c.Z)(B,1)[0],H=(f.rj.useBreakpoint().lg,(0,v.useState)(!1)),Q=(0,c.Z)(H,2),V=(Q[0],Q[1],(0,v.useState)(!1)),Y=(0,c.Z)(V,2),L=Y[0],U=Y[1],K=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"removeSchoolTypeCurriculum",variables:{schoolTypeCurriculumId:{value:parseInt(t.toString()),type:"Int",required:!0}},fields:["success","message"]}});case 2:n=e.sent,(r=n.data).success?(f.yw.success(r.message),d(l.filter((function(e){return e.id!==t})))):f.yw.error(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){f.yw.info("Canceled")},$=[{title:"Name",dataIndex:"name",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.curriculum.name})})}},{title:"Code",dataIndex:"code",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.curriculum.code})})}},{title:"Created",dataIndex:"created",render:function(e,t,n){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("span",{children:(0,Z.jsx)(y.Z,{date:new Date(t.created)})})})}},{title:"Status",dataIndex:"isActive",render:function(e,t,n){return(0,Z.jsx)("a",{children:null!==t&&void 0!==t&&t.isActive?(0,Z.jsx)("span",{style:{color:"green"},children:"Active"}):(0,Z.jsx)("span",{style:{color:"red"},children:"Inactive"})})}},{title:"",dataIndex:"action",render:function(e,t,n){return(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.gn,{title:"Are you sure to delete this School Type Curriculum?",onConfirm:function(){return K(null===t||void 0===t?void 0:t.id)},onCancel:function(){return W},okText:"Yes",cancelText:"No",disabled:!(null!==t&&void 0!==t&&t.canDelete),children:(0,Z.jsx)(f.zx,{icon:(0,Z.jsx)(u.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canDelete)})})})}}],ee=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,a,s,o,c=arguments;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",a=c.length>2&&void 0!==c[2]?c[2]:20,t.next=4,m.E.custom({url:"",method:"get",metaData:{operation:"schoolTypeCurriculums",variables:{page:{value:n,type:"Int",required:!0},key:{value:r,type:"String",required:!1},pageSize:{value:a,type:"Int",required:!1},schoolTypeId:{value:parseInt(e.schoolType.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id",{schoolType:["id"]},{curriculum:["id","name","code","description"]},"isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 4:s=t.sent,o=s.data,I(o.page),b(o.total),P(o.hasNext),d(o.results),X(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d([t].concat((0,s.Z)(l)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){ee(j,"",20)}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.X2,{style:{marginTop:10},children:[(0,Z.jsx)(f.JX,{span:12,children:(0,Z.jsx)(f.l0,{layout:"vertical",form:R,onFinish:function(e){I(1),l.length=0,ee(1,e.key)},children:(0,Z.jsx)(f.l0.Item,{name:"key",children:(0,Z.jsx)(f.II,{size:"large",placeholder:"Search ...",prefix:(0,Z.jsx)(p.Z,{}),autoComplete:"off",allowClear:!0})})})}),(0,Z.jsx)(f.JX,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.zx,{size:"large",icon:(0,Z.jsx)(S.Z,{}),onClick:function(){U(!0)},children:"Add"})})]}),(0,Z.jsx)("div",{children:(0,Z.jsx)(f.iA,{loading:O,columns:$,dataSource:l,scroll:{x:!0,y:"50vh"},pagination:{onChange:function(e,t){D(t),ee(e,M,t)},total:k,pageSize:z,position:["bottomCenter"],showQuickJumper:!0}})}),(0,Z.jsx)(f.dy,{title:"Adding Curriculums",placement:"right",width:"35vw",destroyOnClose:!0,visible:L,onClose:function(){U(!1)},children:(0,Z.jsx)(w,{schoolType:e.schoolType,onAdd:te})})]})},C=n(65323),T=f.Ph.Option,k=function(e){var t=(0,v.useState)(!1),n=(0,c.Z)(t,2),r=n[0],a=n[1],s=(0,v.useState)([]),l=(0,c.Z)(s,2),u=l[0],d=l[1],p=f.l0.useForm(),h=(0,c.Z)(p,1)[0],x=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"createSchoolTypeGrade",variables:{schoolTypeId:{value:n.school_type_id,type:"Int",required:!0},gradeId:{value:n.grade_id,type:"Int",required:!0},minScore:{value:n.min_score,type:"Int",required:!0},maxScore:{value:n.max_score,type:"Int",required:!0}},fields:["success","message",{schoolTypeGrade:["id",{grade:["id","name"]},"minScore","maxScore","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 2:r=t.sent,(a=r.data).success?(f.yw.success(a.message),h.resetFields(),y(1,"",20),e.onFinish(a.schoolTypeGrade)):f.yw.error(a.message);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,s,o,c,l=arguments;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",s=l.length>2&&void 0!==l[2]?l[2]:20,a(!0),t.next=5,m.E.custom({url:"",method:"get",metaData:{operation:"schoolTypeGradesToAdd",variables:{page:{value:n,type:"Int",required:!0},key:{value:r,type:"String",required:!1},pageSize:{value:s,type:"Int",required:!1},schoolTypeId:{value:parseInt(e.schoolType.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 5:o=t.sent,c=o.data,d(c.results),a(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,v.useEffect)((function(){y(1,"",20)}),[e.schoolType]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(f.l0,{layout:"vertical",form:h,onFinish:function(t){t.school_type_id=parseInt(e.schoolType.id.toString()),x(t)},requiredMark:!1,initialValues:{remember:!1,email:"",password:""},children:[(0,Z.jsx)(f.l0.Item,{name:"grade_id",label:"Grade",rules:[{required:!0,type:"number",message:"Please select Grade"}],children:(0,Z.jsx)(f.Ph,{size:"large",children:u.map((function(e){return(0,Z.jsx)(T,{value:e.id,children:e.name},e.id)}))})}),(0,Z.jsx)(f.l0.Item,{name:"min_score",label:"Min Score (%)",rules:[{required:!0,type:"number",message:"Please input Min Score"},{validator:function(e,t){return t&&t>h.getFieldValue("max_score")?Promise.reject("Min Score must be less than Max Score"):Promise.resolve()}}],children:(0,Z.jsx)(f.Rn,{size:"large",min:0,max:100,style:{width:"50%"}})}),(0,Z.jsx)(f.l0.Item,{name:"max_score",label:"Max Score (%)",rules:[{required:!0,type:"number",message:"Please input Max Score"},{validator:function(e,t){return t&&t<h.getFieldValue("min_score")?Promise.reject("Max Score must be greater than Min Score"):Promise.resolve()}}],children:(0,Z.jsx)(f.Rn,{size:"large",min:0,max:100,style:{width:"50%"}})}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.zx,{size:"large",htmlType:"submit",icon:(0,Z.jsx)(C.Z,{}),disabled:r,danger:!0,children:"Save"})})]})})},b=function(e){var t=(0,v.useState)([]),n=(0,c.Z)(t,2),r=n[0],a=n[1],l=(0,v.useState)(1),d=(0,c.Z)(l,2),h=d[0],g=d[1],j=(0,v.useState)(0),w=(0,c.Z)(j,2),I=w[0],C=w[1],T=(0,v.useState)(20),b=(0,c.Z)(T,2),A=b[0],q=b[1],z=(0,v.useState)(""),D=(0,c.Z)(z,2),E=D[0],F=(D[1],(0,v.useState)(!1)),M=(0,c.Z)(F,2),N=(M[0],M[1]),_=(0,v.useState)(!0),P=(0,c.Z)(_,2),G=P[0],J=P[1],O=((0,x.HJ)().push,f.l0.useForm()),X=(0,c.Z)(O,1)[0],B=(f.rj.useBreakpoint().lg,(0,v.useState)(!1)),R=(0,c.Z)(B,2),H=(R[0],R[1],(0,v.useState)(!1)),Q=(0,c.Z)(H,2),V=Q[0],Y=Q[1],L=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"deleteSchoolTypeGrade",variables:{id:{value:parseInt(t.toString()),type:"Int",required:!0}},fields:["success","message"]}});case 2:n=e.sent,(s=n.data).success?(f.yw.success(s.message),a(r.filter((function(e){return e.id!==t})))):f.yw.error(s.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){f.yw.info("Canceled")},K=[{title:"Name",dataIndex:"name",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.grade.name})})}},{title:"Min Score",dataIndex:"minScore",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.minScore})})}},{title:"Max Score",dataIndex:"maxScore",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.maxScore})})}},{title:"Created",dataIndex:"created",render:function(e,t,n){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("span",{children:(0,Z.jsx)(y.Z,{date:new Date(t.created)})})})}},{title:"Status",dataIndex:"isActive",render:function(e,t,n){return(0,Z.jsx)("a",{children:null!==t&&void 0!==t&&t.isActive?(0,Z.jsx)("span",{style:{color:"green"},children:"Active"}):(0,Z.jsx)("span",{style:{color:"red"},children:"Inactive"})})}},{title:"",dataIndex:"action",render:function(e,t,n){return(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.gn,{title:"Are you sure to delete this School Grade?",onConfirm:function(){return L(null===t||void 0===t?void 0:t.id)},onCancel:function(){return U},okText:"Yes",cancelText:"No",disabled:!(null!==t&&void 0!==t&&t.canDelete),children:(0,Z.jsx)(f.zx,{icon:(0,Z.jsx)(u.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canDelete),danger:!0})})})}}],W=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){var r,s,o,c,l=arguments;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",s=l.length>2&&void 0!==l[2]?l[2]:20,t.next=4,m.E.custom({url:"",method:"get",metaData:{operation:"schoolTypeGrades",variables:{page:{value:n,type:"Int",required:!0},key:{value:r,type:"String",required:!1},pageSize:{value:s,type:"Int",required:!1},schoolTypeId:{value:parseInt(e.schoolType.id.toString()),type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id",{grade:["id","name"]},"minScore","maxScore","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 4:o=t.sent,c=o.data,g(c.page),C(c.total),N(c.hasNext),a(c.results),J(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a([t].concat((0,s.Z)(r)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){W(h,"",20)}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.X2,{style:{marginTop:10},children:[(0,Z.jsx)(f.JX,{span:12,children:(0,Z.jsx)(f.l0,{layout:"vertical",form:X,onFinish:function(e){g(1),r.length=0,W(1,e.key)},children:(0,Z.jsx)(f.l0.Item,{name:"key",children:(0,Z.jsx)(f.II,{size:"large",placeholder:"Search ...",prefix:(0,Z.jsx)(p.Z,{}),autoComplete:"off",allowClear:!0})})})}),(0,Z.jsx)(f.JX,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(f.zx,{size:"large",icon:(0,Z.jsx)(S.Z,{}),onClick:function(){Y(!0)},danger:!0,children:"Add"})})]}),(0,Z.jsx)("div",{children:(0,Z.jsx)(f.iA,{loading:G,columns:K,dataSource:r,scroll:{x:!0,y:"50vh"},pagination:{onChange:function(e,t){q(t),W(e,E,t)},total:I,pageSize:A,position:["bottomCenter"],showQuickJumper:!0}})}),(0,Z.jsx)(f.u_,{title:"Adding Grade",destroyOnClose:!0,width:"30vw",footer:[],visible:V,onOk:function(){return Y(!1)},onCancel:function(){return Y(!1)},children:(0,Z.jsx)(k,{schoolType:e.schoolType,onFinish:$})})]})},A=function(e){var t=(0,v.useState)(),n=(0,c.Z)(t,2),r=n[0],a=n[1],S=(0,v.useState)([]),w=(0,c.Z)(S,2),C=w[0],T=w[1],k=(0,v.useState)(25),A=(0,c.Z)(k,2),q=A[0],z=A[1],D=(0,v.useState)(""),E=(0,c.Z)(D,2),F=E[0],M=(E[1],(0,v.useState)(1)),N=(0,c.Z)(M,2),_=N[0],P=N[1],G=(0,v.useState)(0),J=(0,c.Z)(G,2),O=J[0],X=J[1],B=(0,v.useState)(!1),R=(0,c.Z)(B,2),H=(R[0],R[1]),Q=(0,v.useState)(!0),V=(0,c.Z)(Q,2),Y=V[0],L=V[1],U=((0,x.HJ)().push,f.l0.useForm()),K=(0,c.Z)(U,1)[0],W=f.l0.useForm(),$=(0,c.Z)(W,1)[0],ee=(f.rj.useBreakpoint().lg,(0,v.useState)(!1)),te=(0,c.Z)(ee,2),ne=te[0],re=te[1],ae=(0,v.useState)(!1),se=(0,c.Z)(ae,2),ie=se[0],oe=se[1],ce=(0,v.useState)(!1),le=(0,c.Z)(ce,2),ue=le[0],de=le[1],pe=(0,v.useState)(!1),he=(0,c.Z)(pe,2),fe=he[0],xe=he[1],me=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"updateSchoolsTypes",variables:{id:{value:t.id,type:"Int",required:!0},name:{value:t.name,type:"String",required:!0},isActive:{value:t.isActive,type:"Boolean",required:!0}},fields:["success","message",{schoolType:["id","name","code","created","updated","isActive","canDelete","canEdit","canManage"]}]}});case 2:n=e.sent,(r=n.data).success?(f.yw.success(r.message),$.resetFields(),oe(!1),T(C.map((function(e){return parseInt(e.id.toString())===parseInt(t.id)?r.schoolType:e})))):f.yw.error(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"updateSchoolOwnership",variables:{id:{value:t.id,type:"Int",required:!0},name:{value:t.name,type:"String",required:!0},isActive:{value:t.isActive,type:"Boolean",required:!0}},fields:["success","message",{ownership:["id","name","created","updated","isActive","canDelete","canEdit","canManage"]}]}});case 2:n=e.sent,(r=n.data).success?(f.yw.success(r.message),$.resetFields(),oe(!1),T(C.map((function(e){return e.id===r.schoolType.id?r.level:e})))):f.yw.error(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"deleteSchoolsEducationLevel",variables:{id:{value:parseInt(t.toString()),type:"Int",required:!0}},fields:["success","message"]}});case 2:n=e.sent,(r=n.data).success?(f.yw.success(r.message),T(C.filter((function(e){return e.id!==t})))):f.yw.error(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){f.yw.info("Canceled")},je=[{title:"Name",dataIndex:"name",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:t.name})})}},{title:"Code",dataIndex:"code",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsx)("a",{children:e})})}},{title:"Grading System",dataIndex:"code",fixed:!0,render:function(e,t,n){return(0,Z.jsx)("span",{children:(0,Z.jsxs)(f.zx,{onClick:function(){return function(e){a(e),xe(!0)}(t)},danger:!0,children:[(0,Z.jsx)(l.Z,{}),"Configure"]})})}},{title:"Created",dataIndex:"created",render:function(e,t,n){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("span",{children:(0,Z.jsx)(y.Z,{date:new Date(t.created)})})})}},{title:"Status",dataIndex:"isActive",render:function(e,t,n){return(0,Z.jsx)("a",{children:null!==t&&void 0!==t&&t.isActive?(0,Z.jsx)("span",{style:{color:"green"},children:"Active"}):(0,Z.jsx)("span",{style:{color:"red"},children:"Inactive"})})}},{title:"",dataIndex:"action",render:function(e,t,n){return(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,Z.jsx)(f.u,{title:"View/Manage Application Curriculums",placement:"left",color:"green",children:(0,Z.jsx)(f.zx,{style:{marginRight:3},onClick:function(){return function(e){a(e),de(!0)}(t)},icon:(0,Z.jsx)(l.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canManage),danger:!0})}),(0,Z.jsx)(f.gn,{title:"Are you sure to delete this School Ownership?",onConfirm:function(){return ye(null===t||void 0===t?void 0:t.id)},onCancel:function(){return ge},okText:"Yes",cancelText:"No",disabled:!(null!==t&&void 0!==t&&t.canDelete),children:(0,Z.jsx)(f.zx,{style:{marginRight:3},icon:(0,Z.jsx)(u.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canDelete),danger:!0})}),(0,Z.jsx)(f.u,{title:"Edit "+(null===t||void 0===t?void 0:t.name)+" Ownership",color:"green",placement:"left",children:(0,Z.jsx)(f.zx,{style:{marginRight:3},icon:(0,Z.jsx)(d.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canEdit),onClick:function(){return function(e){a(e),oe(!0)}(t)},danger:!0})})]})}}],Se=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,a,o,c=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]?c[2]:25,e.next=4,m.E.custom({url:"",method:"get",metaData:{operation:"schoolsTypes",variables:{page:{value:t,type:"Int",required:!0},key:{value:n,type:"String",required:!1},pageSize:{value:r,type:"Int",required:!0}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","code","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 4:a=e.sent,o=a.data,P(o.page),X(o.total),H(o.hasNext),T((0,s.Z)(o.results)),L(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"syncSchoolsTypes",variables:{},fields:["success","message"]}});case 2:t=e.sent,(n=t.data).success?(f.yw.success(n.message),C.length=0,T([]),Se(1)):f.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.E.custom({url:"",method:"post",metaData:{operation:"syncDefaultGrading",variables:{},fields:["success","message"]}});case 2:t=e.sent,(n=t.data).success?f.yw.success(n.message):f.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){Se(_)}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.X2,{style:{marginTop:10},children:[(0,Z.jsx)(f.JX,{span:8,children:(0,Z.jsx)(f.l0,{layout:"vertical",form:K,onFinish:function(e){P(1),C.length=0,Se(1,e.key)},children:(0,Z.jsx)(f.l0.Item,{name:"key",children:(0,Z.jsx)(f.II,{size:"large",placeholder:"Search ...",prefix:(0,Z.jsx)(p.Z,{}),autoComplete:"off",allowClear:!0})})})}),(0,Z.jsxs)(f.JX,{span:16,style:{display:"flex",justifyContent:"flex-end"},children:[(0,Z.jsx)(f.u,{title:"Synchronize Defualt Grading",color:"green",children:(0,Z.jsx)(f.zx,{style:{marginRight:3},size:"large",icon:(0,Z.jsx)(h.Z,{}),onClick:function(){return we()},danger:!0,children:"Default Grading"})}),(0,Z.jsx)(f.u,{title:"Synchronize Default School Ownerships",color:"green",children:(0,Z.jsx)(f.zx,{size:"large",icon:(0,Z.jsx)(h.Z,{}),onClick:function(){return Ze()},danger:!0,children:"Types"})})]})]}),(0,Z.jsx)(f.iA,{loading:Y,columns:je,dataSource:C,scroll:{x:!0},pagination:{onChange:function(e,t){z(t),Se(e,F,t)},total:O,pageSize:q,position:["bottomCenter"],showQuickJumper:!1}}),(0,Z.jsx)(f.u_,{title:"Edit School Type Informations",width:"60vw",visible:ie,onOk:function(){oe(!1)},onCancel:function(){oe(!1)},footer:[],children:(0,Z.jsx)(j._,{form:$,ward:r,onFinish:me})}),(0,Z.jsx)(f.u_,{title:"Create School Type Informations",width:"60vw",visible:ne,onOk:function(){re(!1)},onCancel:function(){re(!1)},footer:[],children:(0,Z.jsx)(g.v,{form:$,onFinish:ve})}),(0,Z.jsx)(f.u_,{title:"Applicable Curriculums for "+(null===r||void 0===r?void 0:r.name),width:"60vw",destroyOnClose:!0,visible:ue,onOk:function(){de(!1)},onCancel:function(){de(!1)},footer:[],children:(0,Z.jsx)(I,{schoolType:r})}),(0,Z.jsx)(f.u_,{title:(null===r||void 0===r?void 0:r.name)+" Grading System",width:"60vw",destroyOnClose:!0,visible:fe,onOk:function(){xe(!1)},onCancel:function(){xe(!1)},footer:[],children:(0,Z.jsx)(b,{schoolType:r})})]})},q=n(20852),z=n(59174),D=n(5397),E=function(){return(0,Z.jsxs)("div",{style:{marginTop:10},children:[(0,Z.jsxs)(r.Z,{children:[(0,Z.jsx)(r.Z.Item,{children:(0,Z.jsx)(a.rU,{to:"/control/analytics",children:"Home"})}),(0,Z.jsx)(r.Z.Item,{children:"Schools Types"})]}),(0,Z.jsx)(A,{height:80})]})},F=function(){return(0,v.useEffect)((function(){window.history.pushState({},"",(0,z.Z)())}),[]),(0,Z.jsx)(q.u,{children:(0,Z.jsx)(D.Q,{children:(0,Z.jsx)(E,{})})})}}}]);
//# sourceMappingURL=540.2fcd7ef6.chunk.js.map