"use strict";(self.webpackChunkolbongo=self.webpackChunkolbongo||[]).push([[675],{81746:function(e,t,n){n.r(t),n.d(t,{SyllabusTypesPage:function(){return w}});var s=n(78164),r=n(43504),i=n(74165),a=n(15861),l=n(29439),c=n(82622),u=n(31752),o=n(11730),d=n(14057),p=n(840),f=n(69239),y=n(87012),x=n(72791),m=n(50333),h=n(80184),v=p.II.TextArea,j=function(e){var t=(0,x.useState)(e.syllabusType.isActive),n=(0,l.Z)(t,2),s=n[0],r=n[1];return(0,x.useEffect)((function(){e.form.setFieldsValue({name:e.syllabusType.name,description:e.syllabusType.description,isActive:e.syllabusType.isActive})}),[e.form,e.syllabusType]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(p.l0,{layout:"vertical",form:e.form,onFinish:function(t){t.isActive=s,t.id=parseInt(e.syllabusType.id),e.onFinish(t)},requiredMark:!1,children:[(0,h.jsx)(p.l0.Item,{name:"name",label:"Name",rules:[{required:!0,type:"string",message:"Please input Name"}],children:(0,h.jsx)(p.II,{size:"large",placeholder:"Enter Name ..."})}),(0,h.jsx)(p.l0.Item,{name:"description",label:"Description",rules:[{required:!0,type:"string",message:"Please input Name"}],children:(0,h.jsx)(v,{rows:4,placeholder:"Please write Description ..."})}),(0,h.jsx)(p.l0.Item,{name:"isActive",children:(0,h.jsx)(p.XZ,{checked:s,onChange:function(){return r(!s)},children:"Active"})}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,h.jsx)(p.zx,{type:"primary",size:"large",htmlType:"submit",children:"Save"})})]})})},g=function(e){var t=(0,x.useState)(),n=(0,l.Z)(t,2),s=n[0],r=n[1],v=(0,x.useState)([]),g=(0,l.Z)(v,2),b=g[0],Z=g[1],S=(0,x.useState)(1),T=(0,l.Z)(S,2),w=T[0],I=T[1],k=(0,x.useState)(0),C=(0,l.Z)(k,2),A=C[0],D=C[1],E=(0,x.useState)(20),F=(0,l.Z)(E,2),q=F[0],z=F[1],N=(0,x.useState)(""),P=(0,l.Z)(N,2),J=P[0],X=(P[1],(0,x.useState)(!1)),B=(0,l.Z)(X,2),M=(B[0],B[1]),H=(0,x.useState)(!0),Q=(0,l.Z)(H,2),Y=Q[0],O=Q[1],U=((0,f.HJ)().push,p.l0.useForm()),V=(0,l.Z)(U,1)[0],_=p.l0.useForm(),G=(0,l.Z)(_,1)[0],K=(p.rj.useBreakpoint().lg,(0,x.useState)(!1)),L=(0,l.Z)(K,2),R=L[0],W=L[1],$=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.E.custom({url:"",method:"post",metaData:{operation:"updateSyllabusType",variables:{id:{value:t.id,type:"Int",required:!0},name:{value:t.name,type:"String",required:!0},description:{value:t.description,type:"String",required:!1},isActive:{value:t.isActive,type:"Boolean",required:!1}},fields:["success","message",{syllabusType:["id","name","description","created","updated","isActive","canDelete","canEdit","canManage"]}]}});case 2:n=e.sent,(s=n.data).success?(p.yw.success(s.message),G.resetFields(),W(!1),Z(b.map((function(e){return e.id===s.syllabusType.id?s.syllabusType:e})))):p.yw.error(s.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.E.custom({url:"",method:"post",metaData:{operation:"deleteSyllabusType",variables:{id:{value:t,type:"Int",required:!0}},fields:["success","message"]}});case 2:n=e.sent,(s=n.data).success?(p.yw.success(s.message),Z(b.filter((function(e){return e.id!==t})))):p.yw.error(s.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.E.custom({url:"",method:"post",metaData:{operation:"synchronizeDefaultSyllabusTypes",variables:{},fields:["success","message"]}});case 2:t=e.sent,(n=t.data).success?(p.yw.success(n.message),re(1)):p.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){p.yw.info("Canceled")},se=[{title:"Name",dataIndex:"name",fixed:!0,render:function(e,t,n){return(0,h.jsx)("span",{children:(0,h.jsx)("a",{children:t.name})})}},{title:"Description",dataIndex:"description",fixed:!0,render:function(e,t,n){return(0,h.jsx)("span",{children:(0,h.jsx)("a",{children:t.description})})}},{title:"Created",dataIndex:"created",render:function(e,t,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("span",{children:(0,h.jsx)(m.Z,{date:new Date(t.created)})})})}},{title:"Status",dataIndex:"isActive",render:function(e,t,n){return(0,h.jsx)("a",{children:null!==t&&void 0!==t&&t.isActive?(0,h.jsx)("span",{style:{color:"green"},children:"Active"}):(0,h.jsx)("span",{style:{color:"red"},children:"Inactive"})})}},{title:"",dataIndex:"action",render:function(e,t,n){return(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,h.jsx)(p.gn,{title:"Are you sure to delete this Syllabus Type?",onConfirm:function(){return ee(null===t||void 0===t?void 0:t.id)},onCancel:function(){return ne},okText:"Yes",cancelText:"No",disabled:!(null!==t&&void 0!==t&&t.canDelete),children:(0,h.jsx)(p.zx,{icon:(0,h.jsx)(c.Z,{}),disabled:!(null!==t&&void 0!==t&&t.canDelete)})}),(0,h.jsx)(p.zx,{disabled:!(null!==t&&void 0!==t&&t.canEdit),icon:(0,h.jsx)(u.Z,{}),onClick:function(){return function(e){r(e),W(!0)}(t)}})]})}}],re=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,s,r,a,l=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"",s=l.length>2&&void 0!==l[2]?l[2]:20,e.next=4,y.E.custom({url:"",method:"get",metaData:{operation:"syllabusTypes",variables:{page:{value:t,type:"Int",required:!0},key:{value:n,type:"String",required:!1},pageSize:{value:s,type:"Int",required:!1}},fields:["total","page","pages","hasNext","hasPrev",{results:["id","name","description","isActive","created","updated","canEdit","canDelete","canManage"]}]}});case 4:r=e.sent,a=r.data,I(a.page),D(a.total),M(a.hasNext),Z(a.results),O(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){re(w)}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(p.X2,{style:{marginTop:10},children:[(0,h.jsx)(p.JX,{span:12,children:(0,h.jsx)(p.l0,{layout:"vertical",form:V,onFinish:function(e){I(1),b.length=0,re(1,e.key)},children:(0,h.jsx)(p.l0.Item,{name:"key",children:(0,h.jsx)(p.II,{size:"large",placeholder:"Search ...",prefix:(0,h.jsx)(o.Z,{}),autoComplete:"off",allowClear:!0})})})}),(0,h.jsx)(p.JX,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:(0,h.jsx)(p.gn,{title:"Are you sure to sync default syllabus types?",placement:"left",onConfirm:function(){te()},onCancel:function(){},okText:"Yes",cancelText:"No",children:(0,h.jsx)(p.zx,{icon:(0,h.jsx)(d.Z,{}),size:"large",children:"Sync Default Syllabus Types"})})})]}),(0,h.jsx)("div",{children:(0,h.jsx)(p.iA,{loading:Y,columns:se,dataSource:b,scroll:{x:!0},pagination:{onChange:function(e,t){z(t),re(e,J,t)},total:A,pageSize:q,position:["bottomCenter"],showQuickJumper:!1}})}),(0,h.jsx)(p.u_,{title:"Edit Syllabus Type Informations",width:"45vw",visible:R,onOk:function(){W(!1)},onCancel:function(){W(!1)},footer:[],children:(0,h.jsx)(j,{form:G,syllabusType:s,onFinish:$})})]})},b=n(20852),Z=n(59174),S=n(5397),T=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{marginTop:10,marginBottom:10},children:(0,h.jsxs)(s.Z,{children:[(0,h.jsx)(s.Z.Item,{children:(0,h.jsx)(r.rU,{to:"/control/analytics",children:"Home"})}),(0,h.jsx)(s.Z.Item,{children:"Syllabus Types"})]})}),(0,h.jsx)(g,{height:80})]})},w=function(){return(0,x.useEffect)((function(){window.history.pushState({},"",(0,Z.Z)())}),[]),(0,h.jsx)(b.u,{children:(0,h.jsx)(S.Q,{children:(0,h.jsx)(T,{})})})}}}]);
//# sourceMappingURL=675.d406cf16.chunk.js.map