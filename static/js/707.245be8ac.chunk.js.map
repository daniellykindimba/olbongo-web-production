{"version":3,"file":"static/js/707.245be8ac.chunk.js","mappings":"qWAyCaA,EAAyC,SAACC,GACrD,IAAAC,GAA8BC,EAAAA,EAAAA,UAA4B,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtDI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAA0BL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA9BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA0BT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA9BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA0Bb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCjB,EAAAA,EAAAA,UAAS,IAAGkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAAvCE,EAASD,EAAA,GAChBE,GAD8BF,EAAA,IACAlB,EAAAA,EAAAA,WAAS,IAAMqB,GAAAnB,EAAAA,EAAAA,GAAAkB,EAAA,GAA7BE,GAAFD,EAAA,GAAYA,EAAA,IAC1BE,GAA8BvB,EAAAA,EAAAA,WAAS,GAAKwB,GAAAtB,EAAAA,EAAAA,GAAAqB,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAE1BG,IADeC,EAAAA,EAAAA,MAARC,KACcC,EAAAA,GAAAA,WAAdC,GAAkD7B,EAAAA,EAAAA,GAAAyB,EAAA,GAAxC,GACjBK,EAAeF,EAAAA,GAAAA,UAARG,GAAsC/B,EAAAA,EAAAA,GAAA8B,EAAA,GAAlC,GAGXE,GAFmBC,EAAAA,GAAAA,gBACUC,IACSpC,EAAAA,EAAAA,WAAS,IAAMqC,GAAAnC,EAAAA,EAAAA,GAAAgC,EAAA,GAA9CI,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAE5BG,EAAqB,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAW,IAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzBC,EAAAA,EAAAA,OAAwB,CAC3CC,IAAK,GACLC,OAAQ,OACRC,SAAU,CACRC,UAAW,wBACXC,UAAW,CACTC,MAAO,CACLC,MAAOd,EAAOa,MACdE,KAAM,SACNC,UAAU,GAEZC,mBAAoB,CAClBH,MAAOd,EAAOiB,mBACdF,KAAM,SACNC,UAAU,GAEZE,MAAO,CAACJ,MAAOd,EAAOkB,MAAOH,KAAM,SAAUC,UAAU,IAEzDG,OAAQ,CACN,UACA,UACA,CACEC,gBAAiB,CACf,KACA,OACA,QACA,qBACA,CACEC,KAAM,CACJ,KACA,YACA,aACA,WACA,WACA,QACA,QAGJ,UACA,UACA,WACA,SACA,YACA,UACA,kBAMPC,OAAM,SAACC,GAEN,OADAC,EAAAA,GAAAA,MAAc,sCACP,CAACtB,KAAM,KAChB,IACCuB,MAAK,SAACC,GACL,OAAOA,CACT,IAAG,KAAD,EAAAzB,EAAAG,EAAAuB,MAxDGzB,EAAID,EAAJC,QA2DDA,EAAK0B,SACPJ,EAAAA,GAAAA,QAAgBtB,EAAKsB,SACrBlE,EAAW,CAAC4C,EAAKkB,iBAAeS,QAAAC,EAAAA,EAAAA,GAAKzE,KACrC8B,EAAK4C,eAELP,EAAAA,GAAAA,MAActB,EAAKsB,UAEtB,wBAAApB,EAAA4B,OAAA,GAAAjC,EAAA,KACF,gBApE0BkC,GAAA,OAAAtC,EAAAuC,MAAA,KAAAC,UAAA,KAsErBC,EAAgB,eAAAC,GAAAzC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAwC,EAAOC,GAAU,IAAAC,EAAAtC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAsC,GAAA,cAAAA,EAAApC,KAAAoC,EAAAnC,MAAA,cAAAmC,EAAAnC,KAAA,EACnBC,EAAAA,EAAAA,OAAwB,CAC3CC,IAAK,GACLC,OAAQ,OACRC,SAAU,CACRC,UAAW,wBACXC,UAAW,CACT2B,GAAI,CACFzB,MAAOyB,EACPxB,KAAM,MACNC,UAAU,IAGdG,OAAQ,CAAC,UAAW,cAGrBG,OAAM,SAACoB,GAEN,OADAlB,EAAAA,GAAAA,MAAc,sCACP,CAACtB,KAAM,KAChB,IACCuB,MAAK,SAACC,GACL,OAAOA,CACT,IAAG,KAAD,EAAAc,EAAAC,EAAAd,MArBGzB,EAAIsC,EAAJtC,QAwBDA,EAAK0B,QACPJ,EAAAA,GAAAA,QAAgBtB,EAAKsB,SAErBA,EAAAA,GAAAA,MAActB,EAAKsB,UAEtB,wBAAAiB,EAAAT,OAAA,GAAAM,EAAA,KACF,gBA/BqBK,GAAA,OAAAN,EAAAH,MAAA,KAAAC,UAAA,KAiChBS,EAAa,eAAAC,GAAAjD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgD,EAAOP,GAAU,IAAAQ,EAAA7C,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAA6C,GAAA,cAAAA,EAAA3C,KAAA2C,EAAA1C,MAAA,cAAA0C,EAAA1C,KAAA,EAChBC,EAAAA,EAAAA,OAAwB,CAC3CC,IAAK,GACLC,OAAQ,OACRC,SAAU,CACRC,UAAW,wBACXC,UAAW,CACT2B,GAAI,CACFzB,MAAOyB,EACPxB,KAAM,MACNC,UAAU,IAGdG,OAAQ,CAAC,UAAW,cAGrBG,OAAM,SAACoB,GAEN,OADAlB,EAAAA,GAAAA,MAAc,sCACP,CAACtB,KAAM,KAChB,IACCuB,MAAK,SAACC,GACL,OAAOA,CACT,IAAG,KAAD,EAAAqB,EAAAC,EAAArB,MArBGzB,EAAI6C,EAAJ7C,QAwBDA,EAAK0B,SACPJ,EAAAA,GAAAA,QAAgBtB,EAAKsB,SACrBlE,EAAWD,EAAQ4F,QAAO,SAACC,GAAI,OAAKA,EAAKX,KAAOA,CAAE,MAElDf,EAAAA,GAAAA,MAActB,EAAKsB,UAEtB,wBAAAwB,EAAAhB,OAAA,GAAAc,EAAA,KACF,gBAhCkBK,GAAA,OAAAN,EAAAX,MAAA,KAAAC,UAAA,KAkCbiB,GAAe,WACnB5B,EAAAA,GAAAA,KAAa,WACf,EAEM6B,GAAU,CACd,CACEC,MAAO,cACPC,UAAW,OACXC,OAAO,EACPC,OAAQ,SAACC,EAAWC,EAAUC,GAAU,OACtCC,EAAAA,EAAAA,KAAA,QAAAC,UACED,EAAAA,EAAAA,KAAA,KAAAC,SAAIH,EAAII,QACH,GAGX,CACET,MAAO,OACPC,UAAW,OACXE,OAAQ,SAACC,EAAWC,EAAUC,GAAU,IAAAI,EAAAC,EAAAC,EAAA,OACtCC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAN,SAAA,EACED,EAAAA,EAAAA,KAAA,QAAAC,UACM,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKtC,QACJ8C,EAAAA,EAAAA,MAAA,QAAAL,SAAA,CAAM,cACW,OAAHH,QAAG,IAAHA,GAAS,QAANK,EAAHL,EAAKtC,YAAI,IAAA2C,OAAN,EAAHA,EAAWK,UAAU,IAAK,OAAHV,QAAG,IAAHA,GAAS,QAANM,EAAHN,EAAKtC,YAAI,IAAA4C,OAAN,EAAHA,EAAWK,WAAY,IACtD,OAAHX,QAAG,IAAHA,GAAS,QAANO,EAAHP,EAAKtC,YAAI,IAAA6C,OAAN,EAAHA,EAAWK,eAIlBV,EAAAA,EAAAA,KAAA,QAAAC,UAAU,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKzC,SAASiD,EAAAA,EAAAA,MAACK,EAAAA,GAAG,CAAAV,SAAA,CAAC,UAAW,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKzC,YACvC2C,EAAAA,EAAAA,KAAA,QAAAC,UACM,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAK1C,sBACJkD,EAAAA,EAAAA,MAACK,EAAAA,GAAG,CAAAV,SAAA,CAAC,SAAU,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAK1C,0BAGpB,GAGP,CACEqC,MAAO,eACPC,UAAW,QACXC,OAAO,EACPC,OAAQ,SAACC,EAAWC,EAAUC,GAAU,OACtCC,EAAAA,EAAAA,KAAA,QAAAC,UACED,EAAAA,EAAAA,KAAA,KAAAC,SAAIH,EAAI9C,SACH,GAGX,CACEyC,MAAO,UACPC,UAAW,SACXE,OAAQ,SAACC,EAAWC,EAAUC,GAAU,OACtCC,EAAAA,EAAAA,KAAA,KAAAC,SACM,OAAHH,QAAG,IAAHA,GAAAA,EAAKc,QACJZ,EAAAA,EAAAA,KAAA,QAAMa,MAAO,CAACC,MAAO,SAASb,SAAC,UAE/BD,EAAAA,EAAAA,KAAA,QAAMa,MAAO,CAACC,MAAO,OAAOb,SAAC,cAE7B,GAGR,CACER,MAAO,SACPC,UAAW,WACXE,OAAQ,SAACC,EAAWC,EAAUC,GAAU,OACtCC,EAAAA,EAAAA,KAAA,KAAAC,SACM,OAAHH,QAAG,IAAHA,GAAAA,EAAKiB,UACJf,EAAAA,EAAAA,KAAA,QAAMa,MAAO,CAACC,MAAO,SAASb,SAAC,YAE/BD,EAAAA,EAAAA,KAAA,QAAMa,MAAO,CAACC,MAAO,OAAOb,SAAC,cAE7B,GAGR,CACER,MAAO,GACPC,UAAW,SACXE,OAAQ,SAACC,EAAWC,EAAUC,GAAU,OACtCO,EAAAA,EAAAA,MAAA,OAAKO,MAAO,CAACG,QAAS,OAAQC,eAAgB,YAAYhB,SAAA,EACxDD,EAAAA,EAAAA,KAACkB,EAAAA,GAAU,CACTzB,MAAO,2BACP0B,UAAW,kBAAM5C,EAAoB,OAAHuB,QAAG,IAAHA,OAAG,EAAHA,EAAKpB,GAAG,EAC1C0C,SAAU,WAAO,EACjBC,OAAO,MACPC,WAAW,KACXC,WAAc,OAAHzB,QAAG,IAAHA,GAAAA,EAAK0B,WAAUvB,UAE1BD,EAAAA,EAAAA,KAACyB,EAAAA,GAAM,CACLC,KAAK,QACLC,MAAM3B,EAAAA,EAAAA,KAAC4B,EAAAA,EAAY,IACnBL,WAAc,OAAHzB,QAAG,IAAHA,GAAAA,EAAK+B,gBAGpB7B,EAAAA,EAAAA,KAACkB,EAAAA,GAAU,CACTzB,MAAO,2CACP0B,UAAW,kBAAMpC,EAAiB,OAAHe,QAAG,IAAHA,OAAG,EAAHA,EAAKpB,GAAG,EACvC0C,SAAU,kBAAM7B,EAAY,EAC5B8B,OAAO,MACPC,WAAW,KACXC,WAAc,OAAHzB,QAAG,IAAHA,GAAAA,EAAK+B,WAAU5B,UAE1BD,EAAAA,EAAAA,KAACyB,EAAAA,GAAM,CACLC,KAAK,QACLC,MAAM3B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAc,IACrBP,WAAc,OAAHzB,QAAG,IAAHA,GAAAA,EAAK+B,iBAGhB,IAKNE,GAAc,eAAAC,GAAAjG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgG,EACrBrI,GAAa,IAAAsI,EAAA9H,EAAA+H,EAAA9F,EAAA+F,EAAA9D,UAAA,OAAAtC,EAAAA,EAAAA,KAAAM,MAAA,SAAA+F,GAAA,cAAAA,EAAA7F,KAAA6F,EAAA5F,MAAA,OAEK,OADlByF,EAAWE,EAAAE,OAAA,QAAAC,IAAAH,EAAA,GAAAA,EAAA,GAAG,GACdhI,EAAagI,EAAAE,OAAA,QAAAC,IAAAH,EAAA,GAAAA,EAAA,GAAG,GAAEC,EAAA5F,KAAA,EAEGC,EAAAA,EAAAA,OAAwB,CAC3CC,IAAK,GACLC,OAAQ,MACRC,SAAU,CACRC,UAAW,eACXC,UAAW,CACTyF,KAAM,CAACvF,MAAOrD,EAAOsD,KAAM,MAAOC,UAAU,GAC5C+E,IAAK,CAACjF,MAAOiF,EAAKhF,KAAM,SAAUC,UAAU,GAC5CsF,SAAU,CAACxF,MAAO7C,EAAO8C,KAAM,MAAOC,UAAU,IAElDG,OAAQ,CACN,QACA,OACA,QACA,UACA,UACA,CACEoF,QAAS,CACP,KACA,OACA,QACA,CACElF,KAAM,CACJ,KACA,YACA,WACA,QACA,aACA,WACA,MACA,WACA,UACA,YAIJ,UACA,UACA,UACA,YACA,YACA,WACA,eAKP,KAAD,EAAA2E,EAAAE,EAAAvE,KA/CKzB,EAAI8F,EAAJ9F,KAgDPxC,EAASwC,EAAKmG,MACdvI,EAASoC,EAAKrC,OACdW,EAAW0B,EAAKsG,SAChBlJ,EAAW4C,EAAKqG,SAChB3H,GAAW,GAAO,yBAAAsH,EAAAlE,OAAA,GAAA8D,EAAA,KACnB,gBA1DmBW,GAAA,OAAAZ,EAAA3D,MAAA,KAAAC,UAAA,KAgEpB,OAJAuE,EAAAA,EAAAA,YAAU,WACRd,GAAenI,EACjB,GAAG,KAGD0G,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAN,SAAA,EACEK,EAAAA,EAAAA,MAACwC,EAAAA,GAAG,CAACjC,MAAO,CAACkC,UAAW,IAAI9C,SAAA,EAC1BD,EAAAA,EAAAA,KAACgD,EAAAA,GAAG,CAACC,KAAM,GAAGhD,UACZD,EAAAA,EAAAA,KAAC7E,EAAAA,GAAI,CACH+H,OAAO,WACP5H,KAAMF,EACN+H,SAAU,SAAChH,GACTtC,EAAS,GACTL,EAAQ8I,OAAS,EACjBP,GAAe,EAAG5F,EAAO+F,IAC3B,EAAEjC,UAEFD,EAAAA,EAAAA,KAAC7E,EAAAA,GAAAA,KAAS,CAACiI,KAAK,MAAKnD,UACnBD,EAAAA,EAAAA,KAACqD,EAAAA,GAAK,CACJ3B,KAAK,QACL4B,YAAY,aACZC,QAAQvD,EAAAA,EAAAA,KAACwD,EAAAA,EAAc,IACvBC,aAAa,MACbC,YAAU,WAKlB1D,EAAAA,EAAAA,KAACgD,EAAAA,GAAG,CAACC,KAAM,GAAIpC,MAAO,CAACG,QAAS,OAAQC,eAAgB,OAAOhB,UAC7DD,EAAAA,EAAAA,KAACyB,EAAAA,GAAM,CACLE,MAAM3B,EAAAA,EAAAA,KAAC2D,EAAAA,EAAgB,IACvBjC,KAAK,QACLkC,QAAS,kBAAMhI,GAAe,EAAK,EAACqE,SACrC,iBAMLD,EAAAA,EAAAA,KAAC6D,EAAAA,GAAK,CACJ/I,QAASA,EACT0E,QAASA,GACTsE,WAAYtK,EACZuK,OAAQ,CAACC,GAAG,GACZC,WAAY,CACVC,SAAU,SAAC1B,EAAMC,GACfpI,EAASoI,GACTV,GAAeS,EAAMhI,EAAWiI,EAClC,EACAzI,MAAOA,EACPyI,SAAUrI,EACV+J,SAAU,CAAC,gBACXC,iBAAiB,MAIrB9D,EAAAA,EAAAA,MAAC+D,EAAAA,GAAK,CACJ5E,MAAM,uBACN6E,MAAO,OACPC,QAAS5I,EACT6I,KAAM,WAAO,EACbpD,SAAU,kBAAMxF,GAAe,EAAM,EACrC6I,OAAQ,GAAGxE,SAAA,EAEXK,EAAAA,EAAAA,MAACnF,EAAAA,GAAI,CACH+H,OAAO,WACP5H,KAAMA,EACN6H,SAAU,SAAChH,GACTN,EAAsBM,EACxB,EAAE8D,SAAA,EAEFD,EAAAA,EAAAA,KAAC7E,EAAAA,GAAAA,KAAS,CACRiI,KAAK,QACLsB,MAAM,eACNC,MAAO,CACL,CACExH,UAAU,EACVD,KAAM,SACNS,QAAS,8BAEXsC,UAEFD,EAAAA,EAAAA,KAACqD,EAAAA,GAAK,CACJ3B,KAAK,QACL4B,YAAY,mBACZC,QAAQvD,EAAAA,EAAAA,KAAC4E,EAAAA,EAAW,IACpBnB,aAAa,WAGjBzD,EAAAA,EAAAA,KAAC7E,EAAAA,GAAAA,KAAS,CAACiI,KAAK,QAAQsB,MAAM,gBAAezE,UAC3CD,EAAAA,EAAAA,KAACqD,EAAAA,GAAK,CACJ3B,KAAK,QACL4B,YAAY,oBACZC,QAAQvD,EAAAA,EAAAA,KAAC6E,EAAAA,EAAY,IACrBpB,aAAa,MACbC,YAAU,OAGd1D,EAAAA,EAAAA,KAAC7E,EAAAA,GAAAA,KAAS,CAACiI,KAAK,qBAAqBsB,MAAM,sBAAqBzE,UAC9DD,EAAAA,EAAAA,KAACqD,EAAAA,GAAK,CACJ3B,KAAK,QACL4B,YAAY,0BACZC,QAAQvD,EAAAA,EAAAA,KAAC8E,EAAAA,EAAc,IACvBrB,aAAa,MACbC,YAAU,UAIhB1D,EAAAA,EAAAA,KAAA,OAAKa,MAAO,CAACG,QAAS,OAAQC,eAAgB,OAAOhB,UACnDD,EAAAA,EAAAA,KAACyB,EAAAA,GAAM,CAACC,KAAK,QAAQkC,QAAS,kBAAMtI,EAAKyJ,QAAQ,EAAC9E,SAAC,kBAO7D,E,gCCxdM+E,EAAwB,WAC5B,OACE1E,EAAAA,EAAAA,MAAA,OAAKO,MAAO,CAACkC,UAAW,IAAI9C,SAAA,EAC1BK,EAAAA,EAAAA,MAAC2E,EAAAA,EAAU,CAAAhF,SAAA,EACTD,EAAAA,EAAAA,KAACiF,EAAAA,EAAAA,KAAe,CAAAhF,UACdD,EAAAA,EAAAA,KAACkF,EAAAA,GAAI,CAACC,GAAI,qBAAqBlF,SAAC,YAElCD,EAAAA,EAAAA,KAACiF,EAAAA,EAAAA,KAAe,CAAAhF,SAAC,sBAEnBD,EAAAA,EAAAA,KAAC9G,EAAqB,CAACkM,OAAQ,OAGrC,EAEaC,EAAkB,WAI7B,OAHAxC,EAAAA,EAAAA,YAAU,WACRyC,OAAOC,QAAQC,UAAU,CAAC,EAAG,IAAIC,EAAAA,EAAAA,KACnC,GAAG,KAEDzF,EAAAA,EAAAA,KAAC0F,EAAAA,EAAa,CAAAzF,UACZD,EAAAA,EAAAA,KAAC2F,EAAAA,EAAgB,CAAA1F,UACfD,EAAAA,EAAAA,KAACgF,EAAW,OAIpB,C","sources":["apps/control/components/login_reedems_component.tsx","apps/control/pages/login_reedems_page.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  SearchOutlined,\n  DeleteOutlined,\n  PlusCircleFilled,\n  PhoneFilled,\n  MailOutlined,\n  NumberOutlined,\n  SendOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Input,\n  Popconfirm,\n  Table,\n  Tag,\n} from \"@pankod/refine-antd\";\nimport {useNavigation} from \"@pankod/refine-core\";\nimport {Col, message, Modal, Row} from \"@pankod/refine-antd\";\nimport {gqlDataProvider} from \"api\";\nimport {LoginReedemData} from \"apps/core/interfaces\";\nimport {useEffect, useState} from \"react\";\n\ninterface reedemSearchFormData {\n  key: string;\n}\n\ninterface reedemFormData {\n  phone: string;\n  email: string;\n  registrationNumber: string;\n}\n\ninterface Props {\n  height?: any;\n  canAdd?: boolean;\n}\n\nexport const LoginReedemsComponent: React.FC<Props> = (props: Props) => {\n  const [reedems, setReedems] = useState<LoginReedemData[]>([]);\n  const [start, setStart] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [limit, setLimit] = useState(20);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [hasNext, setHasNext] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const {push} = useNavigation();\n  const [searchForm] = Form.useForm<reedemSearchFormData>();\n  const [form] = Form.useForm<reedemFormData>();\n  const breakpoint = Grid.useBreakpoint();\n  const isMobile = !breakpoint.lg;\n  const [reedemModal, setReedemModal] = useState(false);\n\n  const createLoginReedemCode = async (values: any) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"createLoginReedemCode\",\n        variables: {\n          phone: {\n            value: values.phone,\n            type: \"String\",\n            required: true,\n          },\n          registrationNumber: {\n            value: values.registrationNumber,\n            type: \"String\",\n            required: false,\n          },\n          email: {value: values.email, type: \"String\", required: false},\n        },\n        fields: [\n          \"success\",\n          \"message\",\n          {\n            loginReedemCode: [\n              \"id\",\n              \"code\",\n              \"phone\",\n              \"registrationNumber\",\n              {\n                user: [\n                  \"id\",\n                  \"firstName\",\n                  \"middleName\",\n                  \"lastName\",\n                  \"fullName\",\n                  \"email\",\n                  \"pic\",\n                ],\n              },\n              \"created\",\n              \"updated\",\n              \"isActive\",\n              \"isUsed\",\n              \"canDelete\",\n              \"canEdit\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    })\n      .catch((err) => {\n        message.error(\"Failed, creating Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n        setReedems([data.loginReedemCode, ...reedems]);\n        form.resetFields();\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const resendReedemCode = async (id: number) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"resendLoginReedemCode\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    })\n      .catch((error) => {\n        message.error(\"Failed, deleting Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const confirmDelete = async (id: number) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"deleteLoginReedemCode\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    })\n      .catch((error) => {\n        message.error(\"Failed, deleting Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n        setReedems(reedems.filter((item) => item.id !== id));\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const cancelDelete = () => {\n    message.info(\"Canceled\");\n  };\n\n  const columns = [\n    {\n      title: \"Reedem Code\",\n      dataIndex: \"code\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.code}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"User\",\n      dataIndex: \"user\",\n      render: (text: any, row: any, index: any) => (\n        <>\n          <span>\n            {row?.user && (\n              <span>\n                Full Name: {row?.user?.firstName} {row?.user?.middleName}{\" \"}\n                {row?.user?.lastName}\n              </span>\n            )}\n          </span>\n          <span>{row?.email && <Tag>Email: {row?.email}</Tag>}</span>\n          <span>\n            {row?.registrationNumber && (\n              <Tag>Reg#: {row?.registrationNumber}</Tag>\n            )}\n          </span>\n        </>\n      ),\n    },\n    {\n      title: \"Phone Number\",\n      dataIndex: \"phone\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.phone}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Is Used\",\n      dataIndex: \"isUsed\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isUsed ? (\n            <span style={{color: \"green\"}}>Used</span>\n          ) : (\n            <span style={{color: \"red\"}}>Not Used</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"isActive\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isActive ? (\n            <span style={{color: \"green\"}}>Active</span>\n          ) : (\n            <span style={{color: \"red\"}}>Inactive</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"\",\n      dataIndex: \"action\",\n      render: (text: any, row: any, index: any) => (\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Popconfirm\n            title={\"Resend this Reedem Code?\"}\n            onConfirm={() => resendReedemCode(row?.id)}\n            onCancel={() => {}}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canManage}\n          >\n            <Button\n              size=\"large\"\n              icon={<SendOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n          <Popconfirm\n            title={\"Are you sure to delete this Reedem Code?\"}\n            onConfirm={() => confirmDelete(row?.id)}\n            onCancel={() => cancelDelete}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canDelete}\n          >\n            <Button\n              size=\"large\"\n              icon={<DeleteOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n        </div>\n      ),\n    },\n  ];\n\n  const getReedemCodes = async (\n    start: number,\n    key: string = \"\",\n    limit: number = 20\n  ) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"get\",\n      metaData: {\n        operation: \"loginReedems\",\n        variables: {\n          page: {value: start, type: \"Int\", required: true},\n          key: {value: key, type: \"String\", required: false},\n          pageSize: {value: limit, type: \"Int\", required: false},\n        },\n        fields: [\n          \"total\",\n          \"page\",\n          \"pages\",\n          \"hasNext\",\n          \"hasPrev\",\n          {\n            results: [\n              \"id\",\n              \"code\",\n              \"phone\",\n              {\n                user: [\n                  \"id\",\n                  \"firstName\",\n                  \"lastName\",\n                  \"email\",\n                  \"middleName\",\n                  \"fullName\",\n                  \"pic\",\n                  \"isActive\",\n                  \"isStaff\",\n                  \"isAdmin\",\n                ],\n              },\n\n              \"created\",\n              \"updated\",\n              \"canEdit\",\n              \"canDelete\",\n              \"canManage\",\n              \"isActive\",\n              \"isUsed\"\n            ],\n          },\n        ],\n      },\n    });\n    setStart(data.page);\n    setTotal(data.total);\n    setHasNext(data.hasNext);\n    setReedems(data.results);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getReedemCodes(start);\n  }, []);\n\n  return (\n    <>\n      <Row style={{marginTop: 10}}>\n        <Col span={10}>\n          <Form<reedemSearchFormData>\n            layout=\"vertical\"\n            form={searchForm}\n            onFinish={(values) => {\n              setStart(1);\n              reedems.length = 0;\n              getReedemCodes(1, values.key);\n            }}\n          >\n            <Form.Item name=\"key\">\n              <Input\n                size=\"large\"\n                placeholder=\"Search ...\"\n                prefix={<SearchOutlined />}\n                autoComplete=\"off\"\n                allowClear\n              />\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col span={14} style={{display: \"flex\", justifyContent: \"end\"}}>\n          <Button\n            icon={<PlusCircleFilled />}\n            size=\"large\"\n            onClick={() => setReedemModal(true)}\n          >\n            Reedem\n          </Button>\n        </Col>\n      </Row>\n\n      <Table\n        loading={loading}\n        columns={columns}\n        dataSource={reedems}\n        scroll={{x: true}}\n        pagination={{\n          onChange: (page, pageSize) => {\n            setLimit(pageSize);\n            getReedemCodes(page, searchKey, pageSize);\n          },\n          total: total,\n          pageSize: limit,\n          position: [\"bottomCenter\"],\n          showQuickJumper: true,\n        }}\n      />\n\n      <Modal\n        title=\"Creating Reedem Code\"\n        width={\"45vw\"}\n        visible={reedemModal}\n        onOk={() => {}}\n        onCancel={() => setReedemModal(false)}\n        footer={[]}\n      >\n        <Form<reedemFormData>\n          layout=\"vertical\"\n          form={form}\n          onFinish={(values) => {\n            createLoginReedemCode(values);\n          }}\n        >\n          <Form.Item\n            name=\"phone\"\n            label=\"Phone Number\"\n            rules={[\n              {\n                required: true,\n                type: \"string\",\n                message: \"Please input Phone Number\",\n              },\n            ]}\n          >\n            <Input\n              size=\"large\"\n              placeholder=\"Phone Number ...\"\n              prefix={<PhoneFilled />}\n              autoComplete=\"off\"\n            />\n          </Form.Item>\n          <Form.Item name=\"email\" label=\"Email Address\">\n            <Input\n              size=\"large\"\n              placeholder=\"Email Address ...\"\n              prefix={<MailOutlined />}\n              autoComplete=\"off\"\n              allowClear\n            />\n          </Form.Item>\n          <Form.Item name=\"registrationNumber\" label=\"Registration Number\">\n            <Input\n              size=\"large\"\n              placeholder=\"Registration Number ...\"\n              prefix={<NumberOutlined />}\n              autoComplete=\"off\"\n              allowClear\n            />\n          </Form.Item>\n        </Form>\n        <div style={{display: \"flex\", justifyContent: \"end\"}}>\n          <Button size=\"large\" onClick={() => form.submit()}>\n            Reedem\n          </Button>\n        </div>\n      </Modal>\n    </>\n  );\n};\n","import {Breadcrumb} from \"antd\";\nimport {Link} from \"react-router-dom\";\nimport {LoginReedemsComponent} from \"../components/login_reedems_component\";\nimport {ControlLayout} from \"../control_layout\";\nimport {useEffect} from \"react\";\nimport urlAppendString from \"services/url_append_string\";\nimport {ControlPermitted} from \"../components/permissions/control_permission\";\n\nconst LoginReedem: React.FC = () => {\n  return (\n    <div style={{marginTop: 10}}>\n      <Breadcrumb>\n        <Breadcrumb.Item>\n          <Link to={\"/control/analytics\"}>Home</Link>\n        </Breadcrumb.Item>\n        <Breadcrumb.Item>Login Reedems</Breadcrumb.Item>\n      </Breadcrumb>\n      <LoginReedemsComponent height={80} />\n    </div>\n  );\n};\n\nexport const LoginReedemPage = () => {\n  useEffect(() => {\n    window.history.pushState({}, \"\", urlAppendString());\n  }, []);\n  return (\n    <ControlLayout>\n      <ControlPermitted>\n        <LoginReedem />\n      </ControlPermitted>\n    </ControlLayout>\n  );\n};\n"],"names":["LoginReedemsComponent","props","_useState","useState","_useState2","_slicedToArray","reedems","setReedems","_useState3","_useState4","start","setStart","_useState5","_useState6","total","setTotal","_useState7","_useState8","limit","setLimit","_useState9","_useState10","searchKey","_useState11","_useState12","setHasNext","_useState13","_useState14","loading","setLoading","_Form$useForm","useNavigation","push","Form","searchForm","_Form$useForm3","form","_useState15","Grid","lg","_useState16","reedemModal","setReedemModal","createLoginReedemCode","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","_yield$catch$then","data","wrap","_context","prev","next","gqlDataProvider","url","method","metaData","operation","variables","phone","value","type","required","registrationNumber","email","fields","loginReedemCode","user","catch","err","message","then","res","sent","success","concat","_toConsumableArray","resetFields","stop","_x","apply","arguments","resendReedemCode","_ref2","_callee2","id","_yield$catch$then2","_context2","error","_x2","confirmDelete","_ref3","_callee3","_yield$catch$then3","_context3","filter","item","_x3","cancelDelete","columns","title","dataIndex","fixed","render","text","row","index","_jsx","children","code","_row$user","_row$user2","_row$user3","_jsxs","_Fragment","firstName","middleName","lastName","Tag","isUsed","style","color","isActive","display","justifyContent","Popconfirm","onConfirm","onCancel","okText","cancelText","disabled","canManage","Button","size","icon","SendOutlined","canDelete","DeleteOutlined","getReedemCodes","_ref4","_callee4","key","_yield","_args4","_context4","length","undefined","page","pageSize","results","hasNext","_x4","useEffect","Row","marginTop","Col","span","layout","onFinish","name","Input","placeholder","prefix","SearchOutlined","autoComplete","allowClear","PlusCircleFilled","onClick","Table","dataSource","scroll","x","pagination","onChange","position","showQuickJumper","Modal","width","visible","onOk","footer","label","rules","PhoneFilled","MailOutlined","NumberOutlined","submit","LoginReedem","Breadcrumb","Link","to","height","LoginReedemPage","window","history","pushState","urlAppendString","ControlLayout","ControlPermitted"],"sourceRoot":""}