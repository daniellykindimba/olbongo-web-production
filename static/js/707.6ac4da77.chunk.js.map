{"version":3,"file":"static/js/707.6ac4da77.chunk.js","mappings":"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","sources":["apps/control/components/login_reedems_component.tsx","apps/control/pages/login_reedems_page.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  SearchOutlined,\n  DeleteOutlined,\n  PlusCircleFilled,\n  PhoneFilled,\n  MailOutlined,\n  NumberOutlined,\n  SendOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Input,\n  Popconfirm,\n  Table,\n  Tag,\n} from \"@pankod/refine-antd\";\nimport {useNavigation} from \"@pankod/refine-core\";\nimport {Col, message, Modal, Row} from \"@pankod/refine-antd\";\nimport {gqlDataProvider} from \"api\";\nimport {LoginReedemData} from \"apps/core/interfaces\";\nimport {useEffect, useState} from \"react\";\n\ninterface reedemSearchFormData {\n  key: string;\n}\n\ninterface reedemFormData {\n  phone: string;\n  email: string;\n  registrationNumber: string;\n}\n\ninterface Props {\n  height?: any;\n  canAdd?: boolean;\n}\n\nexport const LoginReedemsComponent: React.FC<Props> = (props: Props) => {\n  const [reedems, setReedems] = useState<LoginReedemData[]>([]);\n  const [start, setStart] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [limit, setLimit] = useState(20);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [hasNext, setHasNext] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const {push} = useNavigation();\n  const [searchForm] = Form.useForm<reedemSearchFormData>();\n  const [form] = Form.useForm<reedemFormData>();\n  const breakpoint = Grid.useBreakpoint();\n  const isMobile = !breakpoint.lg;\n  const [reedemModal, setReedemModal] = useState(false);\n\n  const createLoginReedemCode = async (values: any) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"createLoginReedemCode\",\n        variables: {\n          phone: {\n            value: values.phone,\n            type: \"String\",\n            required: true,\n          },\n          registrationNumber: {\n            value: values.registrationNumber,\n            type: \"String\",\n            required: false,\n          },\n          email: {value: values.email, type: \"String\", required: false},\n        },\n        fields: [\n          \"success\",\n          \"message\",\n          {\n            loginReedemCode: [\n              \"id\",\n              \"code\",\n              \"phone\",\n              \"registrationNumber\",\n              {\n                user: [\n                  \"id\",\n                  \"firstName\",\n                  \"middleName\",\n                  \"lastName\",\n                  \"fullName\",\n                  \"email\",\n                  \"pic\",\n                ],\n              },\n              \"created\",\n              \"updated\",\n              \"isActive\",\n              \"isUsed\",\n              \"canDelete\",\n              \"canEdit\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    })\n      .catch((err) => {\n        message.error(\"Failed, creating Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n        setReedems([data.loginReedemCode, ...reedems]);\n        form.resetFields();\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const resendReedemCode = async (id: number) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"resendLoginReedemCode\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    })\n      .catch((error) => {\n        message.error(\"Failed, deleting Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const confirmDelete = async (id: number) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"deleteLoginReedemCode\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    })\n      .catch((error) => {\n        message.error(\"Failed, deleting Login Reedem Code\");\n        return {data: null};\n      })\n      .then((res) => {\n        return res;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n        setReedems(reedems.filter((item) => item.id !== id));\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const cancelDelete = () => {\n    message.info(\"Canceled\");\n  };\n\n  const columns = [\n    {\n      title: \"Reedem Code\",\n      dataIndex: \"code\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.code}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"User\",\n      dataIndex: \"user\",\n      render: (text: any, row: any, index: any) => (\n        <>\n          <span>\n            {row?.user && (\n              <span>\n                Full Name: {row?.user?.firstName} {row?.user?.middleName}{\" \"}\n                {row?.user?.lastName}\n              </span>\n            )}\n          </span>\n          <span>{row?.email && <Tag>Email: {row?.email}</Tag>}</span>\n          <span>\n            {row?.registrationNumber && (\n              <Tag>Reg#: {row?.registrationNumber}</Tag>\n            )}\n          </span>\n        </>\n      ),\n    },\n    {\n      title: \"Phone Number\",\n      dataIndex: \"phone\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.phone}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Is Used\",\n      dataIndex: \"isUsed\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isUsed ? (\n            <span style={{color: \"green\"}}>Used</span>\n          ) : (\n            <span style={{color: \"red\"}}>Not Used</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"isActive\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isActive ? (\n            <span style={{color: \"green\"}}>Active</span>\n          ) : (\n            <span style={{color: \"red\"}}>Inactive</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"\",\n      dataIndex: \"action\",\n      render: (text: any, row: any, index: any) => (\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Popconfirm\n            title={\"Resend this Reedem Code?\"}\n            onConfirm={() => resendReedemCode(row?.id)}\n            onCancel={() => {}}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canManage}\n          >\n            <Button\n              size=\"large\"\n              icon={<SendOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n          <Popconfirm\n            title={\"Are you sure to delete this Reedem Code?\"}\n            onConfirm={() => confirmDelete(row?.id)}\n            onCancel={() => cancelDelete}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canDelete}\n          >\n            <Button\n              size=\"large\"\n              icon={<DeleteOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n        </div>\n      ),\n    },\n  ];\n\n  const getReedemCodes = async (\n    start: number,\n    key: string = \"\",\n    limit: number = 20\n  ) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"get\",\n      metaData: {\n        operation: \"loginReedems\",\n        variables: {\n          page: {value: start, type: \"Int\", required: true},\n          key: {value: key, type: \"String\", required: false},\n          pageSize: {value: limit, type: \"Int\", required: false},\n        },\n        fields: [\n          \"total\",\n          \"page\",\n          \"pages\",\n          \"hasNext\",\n          \"hasPrev\",\n          {\n            results: [\n              \"id\",\n              \"code\",\n              \"phone\",\n              {\n                user: [\n                  \"id\",\n                  \"firstName\",\n                  \"lastName\",\n                  \"email\",\n                  \"middleName\",\n                  \"fullName\",\n                  \"pic\",\n                  \"isActive\",\n                  \"isStaff\",\n                  \"isAdmin\",\n                ],\n              },\n\n              \"created\",\n              \"updated\",\n              \"canEdit\",\n              \"canDelete\",\n              \"canManage\",\n              \"isActive\",\n              \"isUsed\"\n            ],\n          },\n        ],\n      },\n    });\n    setStart(data.page);\n    setTotal(data.total);\n    setHasNext(data.hasNext);\n    setReedems(data.results);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getReedemCodes(start);\n  }, []);\n\n  return (\n    <>\n      <Row style={{marginTop: 10}}>\n        <Col span={10}>\n          <Form<reedemSearchFormData>\n            layout=\"vertical\"\n            form={searchForm}\n            onFinish={(values) => {\n              setStart(1);\n              reedems.length = 0;\n              getReedemCodes(1, values.key);\n            }}\n          >\n            <Form.Item name=\"key\">\n              <Input\n                size=\"large\"\n                placeholder=\"Search ...\"\n                prefix={<SearchOutlined />}\n                autoComplete=\"off\"\n                allowClear\n              />\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col span={14} style={{display: \"flex\", justifyContent: \"end\"}}>\n          <Button\n            icon={<PlusCircleFilled />}\n            size=\"large\"\n            onClick={() => setReedemModal(true)}\n          >\n            Reedem\n          </Button>\n        </Col>\n      </Row>\n\n      <Table\n        loading={loading}\n        columns={columns}\n        dataSource={reedems}\n        scroll={{x: true}}\n        pagination={{\n          onChange: (page, pageSize) => {\n            setLimit(pageSize);\n            getReedemCodes(page, searchKey, pageSize);\n          },\n          total: total,\n          pageSize: limit,\n          position: [\"bottomCenter\"],\n          showQuickJumper: true,\n        }}\n      />\n\n      <Modal\n        title=\"Creating Reedem Code\"\n        width={\"45vw\"}\n        visible={reedemModal}\n        onOk={() => {}}\n        onCancel={() => setReedemModal(false)}\n        footer={[]}\n      >\n        <Form<reedemFormData>\n          layout=\"vertical\"\n          form={form}\n          onFinish={(values) => {\n            createLoginReedemCode(values);\n          }}\n        >\n          <Form.Item\n            name=\"phone\"\n            label=\"Phone Number\"\n            rules={[\n              {\n                required: true,\n                type: \"string\",\n                message: \"Please input Phone Number\",\n              },\n            ]}\n          >\n            <Input\n              size=\"large\"\n              placeholder=\"Phone Number ...\"\n              prefix={<PhoneFilled />}\n              autoComplete=\"off\"\n            />\n          </Form.Item>\n          <Form.Item name=\"email\" label=\"Email Address\">\n            <Input\n              size=\"large\"\n              placeholder=\"Email Address ...\"\n              prefix={<MailOutlined />}\n              autoComplete=\"off\"\n              allowClear\n            />\n          </Form.Item>\n          <Form.Item name=\"registrationNumber\" label=\"Registration Number\">\n            <Input\n              size=\"large\"\n              placeholder=\"Registration Number ...\"\n              prefix={<NumberOutlined />}\n              autoComplete=\"off\"\n              allowClear\n            />\n          </Form.Item>\n        </Form>\n        <div style={{display: \"flex\", justifyContent: \"end\"}}>\n          <Button size=\"large\" onClick={() => form.submit()}>\n            Reedem\n          </Button>\n        </div>\n      </Modal>\n    </>\n  );\n};\n","import {Breadcrumb} from \"antd\";\nimport {Link} from \"react-router-dom\";\nimport {LoginReedemsComponent} from \"../components/login_reedems_component\";\nimport {ControlLayout} from \"../control_layout\";\nimport {useEffect} from \"react\";\nimport urlAppendString from \"services/url_append_string\";\nimport {ControlPermitted} from \"../components/permissions/control_permission\";\n\nconst LoginReedem: React.FC = () => {\n  return (\n    <div style={{marginTop: 10}}>\n      <Breadcrumb>\n        <Breadcrumb.Item>\n          <Link to={\"/control/analytics\"}>Home</Link>\n        </Breadcrumb.Item>\n        <Breadcrumb.Item>Login Reedems</Breadcrumb.Item>\n      </Breadcrumb>\n      <LoginReedemsComponent height={80} />\n    </div>\n  );\n};\n\nexport const LoginReedemPage = () => {\n  useEffect(() => {\n    window.history.pushState({}, \"\", urlAppendString());\n  }, []);\n  return (\n    <ControlLayout>\n      <ControlPermitted>\n        <LoginReedem />\n      </ControlPermitted>\n    </ControlLayout>\n  );\n};\n"],"names":["LoginReedemsComponent","props","useState","reedems","setReedems","start","setStart","total","setTotal","limit","setLimit","searchKey","setHasNext","loading","setLoading","useNavigation","push","Form","searchForm","form","Grid","lg","reedemModal","setReedemModal","createLoginReedemCode","values","gqlDataProvider","url","method","metaData","operation","variables","phone","value","type","required","registrationNumber","email","fields","loginReedemCode","user","catch","err","message","data","then","res","success","resetFields","resendReedemCode","id","error","confirmDelete","filter","item","cancelDelete","columns","title","dataIndex","fixed","render","text","row","index","code","firstName","middleName","lastName","isUsed","style","color","isActive","display","justifyContent","onConfirm","onCancel","okText","cancelText","disabled","canManage","size","icon","SendOutlined","canDelete","DeleteOutlined","getReedemCodes","key","page","pageSize","results","hasNext","useEffect","marginTop","span","layout","onFinish","length","name","placeholder","prefix","SearchOutlined","autoComplete","allowClear","PlusCircleFilled","onClick","dataSource","scroll","x","pagination","onChange","position","showQuickJumper","width","visible","onOk","footer","label","rules","PhoneFilled","MailOutlined","NumberOutlined","submit","LoginReedem","to","height","LoginReedemPage","window","history","pushState","urlAppendString"],"sourceRoot":""}