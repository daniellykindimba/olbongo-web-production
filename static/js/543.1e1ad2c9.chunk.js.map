{"version":3,"file":"static/js/543.1e1ad2c9.chunk.js","mappings":"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","sources":["apps/control/components/forms/edit_curriculum_form.tsx","apps/control/components/curriculums_component.tsx","apps/control/pages/curriculums_page.tsx"],"sourcesContent":["import {Button, Checkbox, Form, Input} from \"@pankod/refine-antd\";\nimport {useEffect, useState} from \"react\";\n\nconst {TextArea} = Input;\n\ninterface Props {\n  form?: any;\n  onFinish?: any;\n  curriculum?: any;\n}\n\nexport const EditCurriculumFormComponent: React.FC<Props> = (\n  props: Props\n) => {\n  const [active, setActive] = useState(props.curriculum.isActive);\n  useEffect(() => {\n    props.form.setFieldsValue({\n      name: props.curriculum.name,\n      description: props.curriculum.description,\n      code: props.curriculum.code,\n      isActive: props.curriculum.isActive,\n    });\n  }, [props.form, props.curriculum]);\n\n  return (\n    <>\n      <Form\n        layout=\"vertical\"\n        form={props.form}\n        onFinish={(values) => {\n          values.isActive = active;\n          values.id = parseInt(props.curriculum.id);\n          props.onFinish(values);\n        }}\n        requiredMark={false}\n      >\n        <Form.Item\n          name=\"name\"\n          label=\"Name\"\n          rules={[\n            {\n              required: true,\n              type: \"string\",\n              message: \"Please input Name\",\n            },\n          ]}\n        >\n          <Input size=\"large\" placeholder=\"Enter Name ...\" />\n        </Form.Item>\n\n        <Form.Item\n          name=\"code\"\n          label=\"Code\"\n          rules={[\n            {\n              required: true,\n              type: \"string\",\n              message: \"Please input Code\",\n            },\n          ]}\n        >\n          <Input size=\"large\" disabled placeholder=\"Enter Code ...\" />\n        </Form.Item>\n\n        <Form.Item\n          name=\"description\"\n          label=\"Description\"\n          rules={[\n            {\n              required: false,\n              type: \"string\",\n              message: \"Please write Description ...\",\n            },\n          ]}\n        >\n          <TextArea rows={4} placeholder=\"Please write Description ...\" />\n        </Form.Item>\n\n        <Form.Item name=\"isActive\">\n          <Checkbox checked={active} onChange={() => setActive(!active)}>\n            Active\n          </Checkbox>\n        </Form.Item>\n\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n            Save\n          </Button>\n        </div>\n      </Form>\n    </>\n  );\n};\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  SearchOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  SyncOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Input,\n  Modal,\n  Popconfirm,\n  Table,\n} from \"@pankod/refine-antd\";\nimport {useNavigation} from \"@pankod/refine-core\";\nimport {Col, message, Row} from \"@pankod/refine-antd\";\nimport {gqlDataProvider} from \"api\";\nimport {useEffect, useState} from \"react\";\nimport ReactTimeAgo from \"react-time-ago\";\nimport {SyllabusTypeData} from \"apps/syllabus/interfaces\";\nimport {EditSyllabusTypeFormComponent} from \"./forms/edit_syllabus_type_form\";\nimport {CurriculumData} from \"apps/core/interfaces\";\nimport {EditCurriculumFormComponent} from \"./forms/edit_curriculum_form\";\n\ninterface CurriculumsSearchFormData {\n  key: string;\n}\n\ninterface Props {\n  height?: any;\n  canAdd?: boolean;\n}\n\ninterface curriculumFormData {\n  name: string;\n  description: string;\n  code: string;\n}\n\nexport const CurriculumsComponent: React.FC<Props> = (props: Props) => {\n  const [curriculum, setCurriculum] = useState<CurriculumData>();\n  const [curriculums, setCurriculums] = useState<CurriculumData[]>([]);\n  const [start, setStart] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [limit, setLimit] = useState(20);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [hasNext, setHasNext] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const {push} = useNavigation();\n  const [searchForm] = Form.useForm<CurriculumsSearchFormData>();\n  const [form] = Form.useForm<curriculumFormData>();\n  const breakpoint = Grid.useBreakpoint();\n  const isMobile = !breakpoint.lg;\n  const [editModal, setEditModal] = useState(false);\n\n  const showEditCurriculumModal = (curriculum: CurriculumData) => {\n    setCurriculum(curriculum);\n    setEditModal(true);\n  };\n\n  const handleOk = () => {\n    setEditModal(false);\n  };\n\n  const handleCancel = () => {\n    setEditModal(false);\n  };\n\n  const onEditFinish = async (values: any) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"updateCurriculum\",\n        variables: {\n          id: {value: values.id, type: \"Int\", required: true},\n          name: {\n            value: values.name,\n            type: \"String\",\n            required: true,\n          },\n          code: {\n            value: values.code,\n            type: \"String\",\n            required: true,\n          },\n          description: {\n            value: values.description,\n            type: \"String\",\n            required: false,\n          },\n          isActive: {\n            value: values.isActive,\n            type: \"Boolean\",\n            required: false,\n          },\n        },\n        fields: [\n          \"success\",\n          \"message\",\n          {\n            curriculum: [\n              \"id\",\n              \"name\",\n              \"description\",\n              \"code\",\n              \"created\",\n              \"updated\",\n              \"isActive\",\n              \"canDelete\",\n              \"canEdit\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    });\n\n    if (data.success) {\n      message.success(data.message);\n      form.resetFields();\n      setEditModal(false);\n      setCurriculums(\n        curriculums.map((curriculum: CurriculumData) => {\n          if (curriculum.id === data.curriculum.id) {\n            return data.curriculum;\n          }\n          return curriculum;\n        })\n      );\n    } else {\n      message.error(data.message);\n    }\n  };\n\n  const confirmDelete = async (id: number) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"deleteCurriculum\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    });\n\n    if (data.success) {\n      message.success(data.message);\n      setCurriculums(curriculums.filter((curriculum) => curriculum.id !== id));\n    } else {\n      message.error(data.message);\n    }\n  };\n\n  const sync = async () => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"syncCurriculums\",\n        variables: {},\n        fields: [\"success\", \"message\"],\n      },\n    });\n\n    if (data.success) {\n      message.success(data.message);\n      getCurriculums(1);\n    } else {\n      message.error(data.message);\n    }\n  };\n\n  const cancelDelete = () => {\n    message.info(\"Canceled\");\n  };\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.name}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Code\",\n      dataIndex: \"code\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.code}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Description\",\n      dataIndex: \"description\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.description}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Created\",\n      dataIndex: \"created\",\n      render: (text: any, row: any, index: any) => (\n        <>\n          <span>\n            <ReactTimeAgo date={new Date(row.created)} />\n          </span>\n        </>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"isActive\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isActive ? (\n            <span style={{color: \"green\"}}>Active</span>\n          ) : (\n            <span style={{color: \"red\"}}>Inactive</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"\",\n      dataIndex: \"action\",\n      render: (text: any, row: any, index: any) => (\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Popconfirm\n            title={\"Are you sure to delete this Curriculum?\"}\n            onConfirm={() => confirmDelete(row?.id)}\n            onCancel={() => cancelDelete}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canDelete}\n          >\n            <Button\n              icon={<DeleteOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n\n          <Button\n            disabled={!row?.canEdit}\n            icon={<EditOutlined />}\n            onClick={() => showEditCurriculumModal(row)}\n          ></Button>\n        </div>\n      ),\n    },\n  ];\n\n  const getCurriculums = async (\n    start: number,\n    key: string = \"\",\n    limit: number = 20\n  ) => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"get\",\n      metaData: {\n        operation: \"curriculums\",\n        variables: {\n          page: {value: start, type: \"Int\", required: true},\n          key: {value: key, type: \"String\", required: false},\n          pageSize: {value: limit, type: \"Int\", required: false},\n        },\n        fields: [\n          \"total\",\n          \"page\",\n          \"pages\",\n          \"hasNext\",\n          \"hasPrev\",\n          {\n            results: [\n              \"id\",\n              \"name\",\n              \"code\",\n              \"description\",\n              \"isActive\",\n              \"created\",\n              \"updated\",\n              \"canEdit\",\n              \"canDelete\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    });\n    setStart(data.page);\n    setTotal(data.total);\n    setHasNext(data.hasNext);\n    setCurriculums(data.results);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getCurriculums(start);\n  }, []);\n\n  return (\n    <>\n      <Row style={{marginTop: 10}}>\n        <Col span={12}>\n          <Form<CurriculumsSearchFormData>\n            layout=\"vertical\"\n            form={searchForm}\n            onFinish={(values) => {\n              setStart(1);\n              curriculums.length = 0;\n              getCurriculums(1, values.key);\n            }}\n          >\n            <Form.Item name=\"key\">\n              <Input\n                size=\"large\"\n                placeholder=\"Search ...\"\n                prefix={<SearchOutlined />}\n                autoComplete=\"off\"\n                allowClear\n              />\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col span={12} style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Popconfirm\n            title=\"Are you sure to sync default Curriculums?\"\n            placement=\"left\"\n            onConfirm={() => {\n              sync();\n            }}\n            onCancel={() => {}}\n            okText=\"Yes\"\n            cancelText=\"No\"\n          >\n            <Button icon={<SyncOutlined />} size=\"large\">\n              Sync Default Curriculums\n            </Button>\n          </Popconfirm>\n        </Col>\n      </Row>\n\n      <div>\n        <Table\n          loading={loading}\n          columns={columns}\n          dataSource={curriculums}\n          scroll={{x: true}}\n          pagination={{\n            onChange: (page, pageSize) => {\n              setLimit(pageSize);\n              getCurriculums(page, searchKey, pageSize);\n            },\n            total: total,\n            pageSize: limit,\n            position: [\"bottomCenter\"],\n            showQuickJumper: false,\n          }}\n        />\n      </div>\n\n      <Modal\n        title=\"Edit Curriculum Informations\"\n        width={\"45vw\"}\n        visible={editModal}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        footer={[]}\n      >\n        <EditCurriculumFormComponent\n          form={form}\n          curriculum={curriculum}\n          onFinish={onEditFinish}\n        />\n      </Modal>\n    </>\n  );\n};\n","import {Breadcrumb} from \"antd\";\nimport {Link} from \"react-router-dom\";\nimport {CurriculumsComponent} from \"../components/curriculums_component\";\nimport {ControlLayout} from \"../control_layout\";\nimport {useEffect} from \"react\";\nimport urlAppendString from \"services/url_append_string\";\nimport {ControlPermitted} from \"../components/permissions/control_permission\";\nimport {useGetIdentity} from \"@pankod/refine-core\";\n\nconst Curriculums: React.FC = () => {\n  return (\n    <>\n      <div style={{marginTop: 10, marginBottom: 10}}>\n        <Breadcrumb>\n          <Breadcrumb.Item>\n            <Link to={\"/control/analytics\"}>Home</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>Curriculums</Breadcrumb.Item>\n        </Breadcrumb>\n      </div>\n      <CurriculumsComponent height={80} />\n    </>\n  );\n};\n\nexport const CurriculumsPage = () => {\n  const {data: user} = useGetIdentity();\n\n  const checkIfUserIsAdmin = () => {\n    if (user?.isStaff === false || user?.isAdmin === false) {\n      window.location.pathname = \"/home\";\n    }\n  };\n\n  useEffect(() => {\n    checkIfUserIsAdmin();\n    window.history.pushState({}, \"\", urlAppendString());\n  }, []);\n  return (\n    <ControlLayout>\n      <ControlPermitted>\n        <Curriculums />\n      </ControlPermitted>\n    </ControlLayout>\n  );\n};\n"],"names":["TextArea","Input","EditCurriculumFormComponent","props","useState","curriculum","isActive","active","setActive","useEffect","form","setFieldsValue","name","description","code","layout","onFinish","values","id","parseInt","requiredMark","label","rules","required","type","message","size","placeholder","disabled","rows","checked","onChange","style","display","justifyContent","htmlType","CurriculumsComponent","setCurriculum","curriculums","setCurriculums","start","setStart","total","setTotal","limit","setLimit","searchKey","setHasNext","loading","setLoading","useNavigation","push","Form","searchForm","Grid","lg","editModal","setEditModal","onEditFinish","gqlDataProvider","url","method","metaData","operation","variables","value","fields","data","success","resetFields","map","confirmDelete","filter","sync","getCurriculums","cancelDelete","columns","title","dataIndex","fixed","render","text","row","index","ReactTimeAgo","date","Date","created","color","onConfirm","onCancel","okText","cancelText","canDelete","icon","DeleteOutlined","canEdit","EditOutlined","onClick","showEditCurriculumModal","key","page","pageSize","results","hasNext","marginTop","span","length","prefix","SearchOutlined","autoComplete","allowClear","placement","SyncOutlined","dataSource","scroll","x","pagination","position","showQuickJumper","width","visible","onOk","footer","Curriculums","marginBottom","to","height","CurriculumsPage","user","useGetIdentity","isStaff","isAdmin","window","location","pathname","history","pushState","urlAppendString"],"sourceRoot":""}