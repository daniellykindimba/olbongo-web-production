{"version":3,"file":"static/js/944.d0138b07.chunk.js","mappings":"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","sources":["apps/control/components/forms/edit_telecom_carrier_form.tsx","apps/control/components/telecom_carriers_component.tsx","apps/control/pages/telecom_carriers_page.tsx"],"sourcesContent":["import {Button, Checkbox, Form, Input} from \"@pankod/refine-antd\";\nimport {useEffect, useState} from \"react\";\n\ninterface Props {\n  form?: any;\n  onFinish?: any;\n  carrier?: any;\n}\n\nexport const EditTelecomCarrierFormComponent: React.FC<Props> = (\n  props: Props\n) => {\n  const [allowPayment, setAllowPayment] = useState(props.carrier.allowPayment);\n  const [active, setActive] = useState(props.carrier.isActive);\n  useEffect(() => {\n    props.form.setFieldsValue({\n      name: props.carrier.name,\n      allowPayment: props.carrier.allowPayment,\n      isActive: props.carrier.isActive,\n    });\n  }, [props.form, props.carrier]);\n\n  return (\n    <>\n      <Form\n        layout=\"vertical\"\n        form={props.form}\n        onFinish={(values) => {\n          values.isActive = active;\n          values.allowPayment = allowPayment;\n          values.id = parseInt(props.carrier.id);\n          props.onFinish(values);\n        }}\n        requiredMark={false}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          name=\"name\"\n          label=\"Name\"\n          rules={[\n            {\n              required: true,\n              type: \"string\",\n              message: \"Please input Name\",\n            },\n          ]}\n        >\n          <Input size=\"large\" placeholder=\"Enter Name ...\" autoComplete=\"off\" />\n        </Form.Item>\n\n\n        <Form.Item name=\"allowPayment\">\n          <Checkbox checked={allowPayment} onChange={() => setAllowPayment(!allowPayment)}>\n            Allow Payment\n          </Checkbox>\n        </Form.Item>\n\n        <Form.Item name=\"isActive\">\n          <Checkbox checked={active} onChange={() => setActive(!active)}>\n            Active\n          </Checkbox>\n        </Form.Item>\n\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n            Save\n          </Button>\n        </div>\n      </Form>\n    </>\n  );\n};\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  SearchOutlined,\n  DeleteOutlined,\n  SyncOutlined,\n  EditOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Input,\n  Modal,\n  Popconfirm,\n  Table,\n  Tag,\n} from \"@pankod/refine-antd\";\nimport {useNavigation} from \"@pankod/refine-core\";\nimport {Col, message, Row, Spin} from \"@pankod/refine-antd\";\nimport {gqlDataProvider} from \"api\";\nimport {RegionData, TelecomCarrier} from \"apps/core/interfaces\";\nimport {useEffect, useState} from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport ReactTimeAgo from \"react-time-ago\";\nimport {EditRegionFormComponent} from \"./forms/edit_region_form\";\nimport {TelecomCarrierData} from \"apps/njiwa/interfaces\";\nimport {EditTelecomCarrierFormComponent} from \"./forms/edit_telecom_carrier_form\";\n\ninterface RegionsSearchFormData {\n  key: string;\n}\n\ninterface TelecomCarrierFormData {\n  name: string;\n  allowPayment: boolean;\n  isActive: boolean;\n}\n\ninterface Props {\n  height?: any;\n  canAdd?: boolean;\n}\n\nexport const TelecomCarriersComponent: React.FC<Props> = (props: Props) => {\n  const [carrier, setCarrier] = useState<TelecomCarrierData>();\n  const [carriers, setCarriers] = useState<TelecomCarrierData[]>([]);\n  const [start, setStart] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [limit, setLimit] = useState(20);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [hasNext, setHasNext] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const {push} = useNavigation();\n  const [searchForm] = Form.useForm<RegionsSearchFormData>();\n  const [form] = Form.useForm<TelecomCarrierFormData>();\n  const breakpoint = Grid.useBreakpoint();\n  const isMobile = !breakpoint.lg;\n\n  const [editModal, setEditModal] = useState(false);\n\n  const showEditRegionModal = (carrier: TelecomCarrierData) => {\n    setCarrier(carrier);\n    setEditModal(true);\n  };\n\n  const handleOk = () => {\n    setEditModal(false);\n  };\n\n  const handleCancel = () => {\n    setEditModal(false);\n  };\n\n  const onEditFinish = async (values: any) => {\n    message.destroy();\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"updateTelecomCarrier\",\n        variables: {\n          id: {value: values.id, type: \"Int\", required: true},\n          name: {\n            value: values.name,\n            type: \"String\",\n            required: true,\n          },\n          allowPayment: {\n            value: values.allowPayment,\n            type: \"Boolean\",\n            required: true,\n          },\n          isActive: {\n            value: values.isActive,\n            type: \"Boolean\",\n            required: true,\n          },\n        },\n        fields: [\n          \"success\",\n          \"message\",\n          {\n            telecomCarrier: [\n              \"id\",\n              \"name\",\n              \"allowPayment\",\n              \"created\",\n              \"updated\",\n              \"isActive\",\n              \"canDelete\",\n              \"canEdit\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    })\n      .catch((error) => {\n        return {data: null};\n      })\n      .then((data) => {\n        return data;\n      });\n\n    if (data) {\n      if (data.success) {\n        message.success(data.message);\n        form.resetFields();\n        setEditModal(false);\n        setCarriers(\n          carriers.map((carrier: TelecomCarrierData) => {\n            if (carrier.id === data.telecomCarrier.id) {\n              return data.telecomCarrier;\n            }\n            return carrier;\n          })\n        );\n      } else {\n        message.error(data.message);\n      }\n    }\n  };\n\n  const syncTelecomsData = async () => {\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"syncTelecomCarriers\",\n        variables: {},\n        fields: [\"success\", \"message\"],\n      },\n    });\n    if (data.success) {\n      message.success(data.message);\n      getTelecomCarriers(1, \"\", 20);\n    } else {\n      message.error(data.message);\n    }\n  };\n\n  const confirmDelete = async (id: number) => {\n    message.destroy();\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"post\",\n      metaData: {\n        operation: \"deleteTelecomCarrier\",\n        variables: {\n          id: {\n            value: id,\n            type: \"Int\",\n            required: true,\n          },\n        },\n        fields: [\"success\", \"message\"],\n      },\n    });\n\n    if (data.success) {\n      message.success(data.message);\n      setCarriers(carriers.filter((carrier) => carrier.id !== id));\n    } else {\n      message.error(data.message);\n    }\n  };\n\n  const cancelDelete = () => {\n    message.info(\"Canceled\");\n  };\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          <a>{row.name}</a>\n        </span>\n      ),\n    },\n    {\n      title: \"Allow Payment\",\n      dataIndex: \"allowPayment\",\n      fixed: true,\n      render: (text: any, row: any, index: any) => (\n        <span>\n          {row.allowPayment ? (\n            <Tag color=\"green\">Yes</Tag>\n          ) : (\n            <Tag color=\"red\">NO</Tag>\n          )}\n        </span>\n      ),\n    },\n    {\n      title: \"Created\",\n      dataIndex: \"created\",\n      render: (text: any, row: any, index: any) => (\n        <>\n          <span>\n            <ReactTimeAgo date={new Date(row.created)} />\n          </span>\n        </>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"isActive\",\n      render: (text: any, row: any, index: any) => (\n        <a>\n          {row?.isActive ? (\n            <span style={{color: \"green\"}}>Active</span>\n          ) : (\n            <span style={{color: \"red\"}}>Inactive</span>\n          )}\n        </a>\n      ),\n    },\n    {\n      title: \"\",\n      dataIndex: \"action\",\n      render: (text: any, row: any, index: any) => (\n        <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n          <Popconfirm\n            title={\"Are you sure to delete this Telecom Carrier?\"}\n            onConfirm={() => confirmDelete(row?.id)}\n            onCancel={() => cancelDelete}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            disabled={!row?.canDelete}\n          >\n            <Button\n              icon={<DeleteOutlined />}\n              disabled={!row?.canDelete}\n            ></Button>\n          </Popconfirm>\n\n          <Button\n            disabled={!row?.canEdit}\n            onClick={() => showEditRegionModal(row)}\n            icon={<EditOutlined />}\n          ></Button>\n        </div>\n      ),\n    },\n  ];\n\n  const getTelecomCarriers = async (\n    start: number,\n    key: string = \"\",\n    limit: number = 20\n  ) => {\n    message.destroy();\n    const {data} = await gqlDataProvider.custom!({\n      url: \"\",\n      method: \"get\",\n      metaData: {\n        operation: \"telecomCarriers\",\n        variables: {\n          page: {value: start, type: \"Int\", required: true},\n          key: {value: key, type: \"String\", required: false},\n          pageSize: {value: limit, type: \"Int\", required: false},\n        },\n        fields: [\n          \"total\",\n          \"page\",\n          \"pages\",\n          \"hasNext\",\n          \"hasPrev\",\n          {\n            results: [\n              \"id\",\n              \"name\",\n              \"allowPayment\",\n              \"isActive\",\n              \"created\",\n              \"updated\",\n              \"canEdit\",\n              \"canDelete\",\n              \"canManage\",\n            ],\n          },\n        ],\n      },\n    })\n      .catch((error) => {\n        message.error(error.message);\n        return {data: null};\n      })\n      .then((data) => {\n        return data;\n      });\n    if (data) {\n      setStart(data.page);\n      setTotal(data.total);\n      setHasNext(data.hasNext);\n      setCarriers(data.results);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getTelecomCarriers(start, \"\", 20);\n  }, []);\n\n  return (\n    <>\n      <Row style={{marginTop: 10}}>\n        <Col span={isMobile ? 24 : 20}>\n          <Form<RegionsSearchFormData>\n            layout=\"vertical\"\n            form={searchForm}\n            onFinish={(values) => {\n              setStart(1);\n              carriers.length = 0;\n              getTelecomCarriers(1, values.key);\n            }}\n          >\n            <Form.Item name=\"key\">\n              <Input\n                size=\"large\"\n                placeholder=\"Search ...\"\n                prefix={<SearchOutlined />}\n                autoComplete=\"off\"\n                allowClear\n              />\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col\n          span={isMobile ? 24 : 4}\n          style={{display: \"flex\", justifyContent: \"flex-end\"}}\n        >\n          <Button\n            size=\"large\"\n            icon={<SyncOutlined />}\n            onClick={() => syncTelecomsData()}\n          >\n            Sync Mtaa\n          </Button>\n        </Col>\n      </Row>\n\n      <div>\n        <Table\n          loading={loading}\n          columns={columns}\n          dataSource={carriers}\n          scroll={{x: true}}\n          pagination={{\n            onChange: (page, pageSize) => {\n              setLimit(pageSize);\n              getTelecomCarriers(page, searchKey, pageSize);\n            },\n            total: total,\n            pageSize: limit,\n            position: [\"bottomCenter\"],\n            showQuickJumper: true,\n          }}\n        />\n      </div>\n\n      <Modal\n        title=\"Edit Telecom Carrier Informations\"\n        width={\"20%\"}\n        visible={editModal}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        footer={[]}\n      >\n        <EditTelecomCarrierFormComponent\n          form={form}\n          carrier={carrier}\n          onFinish={onEditFinish}\n        />\n      </Modal>\n    </>\n  );\n};\n","import {Authenticated, LayoutWrapper} from \"@pankod/refine-core\";\nimport {Breadcrumb} from \"antd\";\nimport {Link} from \"react-router-dom\";\nimport {RegionsComponent} from \"../components/regions_component\";\nimport {TelecomCarriersComponent} from \"../components/telecom_carriers_component\";\nimport {ControlLayout} from \"../control_layout\";\nimport {ControlHeader} from \"../header\";\nimport {useEffect} from \"react\";\nimport urlAppendString from \"services/url_append_string\";\nimport {ControlPermitted} from \"../components/permissions/control_permission\";\n\nconst TelecomCarriers: React.FC = () => {\n  return (\n    <div style={{marginTop: 10}}>\n      <Breadcrumb>\n        <Breadcrumb.Item>\n          <Link to={\"/control/analytics\"}>Home</Link>\n        </Breadcrumb.Item>\n        <Breadcrumb.Item>Telecom Carriers</Breadcrumb.Item>\n      </Breadcrumb>\n      <TelecomCarriersComponent height={80} />\n    </div>\n  );\n};\n\nexport const TelecomCarriersPage = () => {\n  useEffect(() => {\n    window.history.pushState({}, \"\", urlAppendString());\n  }, []);\n  return (\n    <ControlLayout>\n      <ControlPermitted>\n        <TelecomCarriers />\n      </ControlPermitted>\n    </ControlLayout>\n  );\n};\n"],"names":["EditTelecomCarrierFormComponent","props","_useState","useState","carrier","allowPayment","_useState2","_slicedToArray","setAllowPayment","_useState3","isActive","_useState4","active","setActive","useEffect","form","setFieldsValue","name","_jsx","_Fragment","children","_jsxs","Form","layout","onFinish","values","id","parseInt","requiredMark","autoComplete","label","rules","required","type","message","Input","size","placeholder","Checkbox","checked","onChange","style","display","justifyContent","Button","htmlType","TelecomCarriersComponent","setCarrier","carriers","setCarriers","_useState5","_useState6","start","setStart","_useState7","_useState8","total","setTotal","_useState9","_useState10","limit","setLimit","_useState11","_useState12","searchKey","_useState13","_useState14","setHasNext","_useState15","_useState16","loading","setLoading","_Form$useForm","useNavigation","push","searchForm","_Form$useForm3","isMobile","Grid","lg","_useState17","_useState18","editModal","setEditModal","onEditFinish","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$catch$then","data","wrap","_context","prev","next","gqlDataProvider","url","method","metaData","operation","variables","value","fields","telecomCarrier","catch","error","then","sent","success","resetFields","map","stop","_x","apply","arguments","syncTelecomsData","_ref2","_callee2","_yield","_context2","getTelecomCarriers","confirmDelete","_ref3","_callee3","_yield2","_context3","filter","_x2","cancelDelete","columns","title","dataIndex","fixed","render","text","row","index","Tag","color","ReactTimeAgo","date","Date","created","Popconfirm","onConfirm","onCancel","okText","cancelText","disabled","canDelete","icon","DeleteOutlined","canEdit","onClick","showEditRegionModal","EditOutlined","_ref4","_callee4","key","_yield$catch$then2","_args4","_context4","length","undefined","page","pageSize","results","hasNext","_x3","Row","marginTop","Col","span","prefix","SearchOutlined","allowClear","SyncOutlined","Table","dataSource","scroll","x","pagination","position","showQuickJumper","Modal","width","visible","onOk","footer","TelecomCarriers","Breadcrumb","Link","to","height","TelecomCarriersPage","window","history","pushState","urlAppendString","ControlLayout","ControlPermitted"],"sourceRoot":""}